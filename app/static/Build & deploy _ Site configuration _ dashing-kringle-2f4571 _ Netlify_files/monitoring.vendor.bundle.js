(self.webpackChunk=self.webpackChunk||[]).push([[4539],{94798:(e,t,n)=>{"use strict";n.d(t,{Q:()=>te});var r,i,o=n(55823);!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(r||(r={}));var a=function(e){return function(){var t=(0,o.Cl)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},s=function(e,t){var n,r;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var i=(0,o.Ju)(t.split(".")),a=i.next();!a.done;a=i.next()){var s=a.value;if(!(s in e))return;e=e[s]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},u=function(e,t){return function(){var n,r,i={};try{for(var a=(0,o.Ju)(t),u=a.next();!u.done;u=a.next()){var c=u.value;i[c]=s(e,c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}},c=function(e,t,n,i,o){return void 0===o&&(o=null),function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=n(),c=u.logger,l=u.logLevel;if(l&&l<r.Debug||!l||!c)return e.apply(o,a);var d={type:"invoke public method",name:t,args:a,stacktrace:(Error().stack||"").split("\n").slice(3).map(function(e){return e.trim()}),time:{start:new Date().toISOString()},states:{}};i&&d.states&&(d.states.before=i());var f=e.apply(o,a);return f&&f.promise?f.promise.then(function(){i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))}):(i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))),f}},l=function(e){return{promise:e||Promise.resolve()}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(i||(i={}));var d=n(46338),f=function(e,t){var n=Math.max(t,1);return e.reduce(function(e,t,r){var i=Math.floor(r/n);return e[i]||(e[i]=[]),e[i].push(t),e},[])},p=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=i.Unknown),{event:e,code:t,message:n}},v="Amplitude Logger ",h=function(){function e(){this.logLevel=r.None}return e.prototype.disable=function(){this.logLevel=r.None},e.prototype.enable=function(e){void 0===e&&(e=r.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Verbose||console.log("".concat(v,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Warn||console.warn("".concat(v,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Error||console.error("".concat(v,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Debug||console.log("".concat(v,"[Debug]: ").concat(e.join(" ")))},e}(),g=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:r.Warn,loggerProvider:new h,offline:!1,optOut:!1,serverUrl:d.mJ,serverZone:"US",useBatch:!1}},m=function(){function e(e){this._optOut=!1;var t,n,r,i,o=g();this.apiKey=e.apiKey,this.flushIntervalMillis=null!==(t=e.flushIntervalMillis)&&void 0!==t?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!==(n=e.logLevel)&&void 0!==n?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!==(r=e.optOut)&&void 0!==r?r:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!==(i=e.useBatch)&&void 0!==i?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=y(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),y=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=g().serverZone),void 0===n&&(n=g().useBatch),e)return{serverUrl:e,serverZone:void 0};var r,i=["US","EU"].includes(t)?t:g().serverZone;return{serverZone:i,serverUrl:(r=n,"EU"===i?r?d.OP:d.bu:r?d.pL:d.mJ)}},b=function(e){return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,b)};function S(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var w=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(e){var t;return(0,o.sH)(this,void 0,void 0,function(){var n,r=this;return(0,o.YH)(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(d.fS,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(t=this.config.storageProvider)||void 0===t?void 0:t.get(this.storageKey)];case 1:return(n=i.sent())&&n.length>0&&Promise.all(n.map(function(e){return r.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=b()),new Promise(function(n){t.addToQueue({event:e,attempts:0,callback:function(e){return n(e)},timeout:0})})},e.prototype.getTryableList=function(e){var t=this;return e.filter(function(e){return e.attempts<t.config.flushMaxRetries?(e.attempts+=1,!0):(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)})},e.prototype.scheduleTryable=function(e,t){var n=this;void 0===t&&(t=!1),e.forEach(function(e){if(t&&(n.queue=n.queue.concat(e)),0===e.timeout){n.schedule(n.config.flushIntervalMillis);return}setTimeout(function(){e.timeout=0,n.schedule(0)},e.timeout)})},e.prototype.addToQueue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getTryableList(e);this.scheduleTryable(n,!0),this.saveEvents()},e.prototype.schedule=function(e){var t=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,o.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(this.config.offline)return this.config.loggerProvider.debug("Skipping flush while offline."),[2];return t=[],n=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):n.push(e)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(f(t,this.config.flushQueueSize).map(function(t){return r.send(t,e)}))];case 1:return i.sent(),this.scheduleTryable(n),[2]}})})},e.prototype.send=function(e,t){return void 0===t&&(t=!0),(0,o.sH)(this,void 0,void 0,function(){var n,r,a,s;return(0,o.YH)(this,function(u){switch(u.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:e.map(function(e){var t=e.event;return t.extra,(0,o.Tt)(t,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()},u.label=1;case 1:return u.trys.push([1,3,,4]),r=y(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,n)];case 2:if(null===(a=u.sent()))return this.fulfillRequest(e,0,"Unexpected error occurred"),[2];if(!t)return"body"in a?this.fulfillRequest(e,a.statusCode,"".concat(a.status,": ").concat(S(a))):this.fulfillRequest(e,a.statusCode,a.status),[2];return this.handleResponse(a,e),[3,4];case 3:var c;return s=(c=u.sent())instanceof Error?c.message:String(c),this.config.loggerProvider.error(s),this.handleResponse({status:i.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case i.Success:this.handleSuccessResponse(e,t);break;case i.Invalid:this.handleInvalidResponse(e,t);break;case i.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case i.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key")){this.fulfillRequest(t,e.statusCode,e.body.error);return}var r=new Set((0,o.fX)((0,o.fX)((0,o.fX)((0,o.fX)([],(0,o.zs)(Object.values(e.body.eventsWithInvalidFields)),!1),(0,o.zs)(Object.values(e.body.eventsWithMissingFields)),!1),(0,o.zs)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),(0,o.zs)(e.body.silencedEvents),!1).flat()),i=t.filter(function(t,i){if(r.has(i)){n.fulfillRequest([t],e.statusCode,e.body.error);return}return!0});i.length>0&&this.config.loggerProvider.warn(S(e));var a=this.getTryableList(i);this.scheduleTryable(a)},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1===t.length){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(S(e)),this.config.flushQueueSize/=2;var n=this.getTryableList(t);this.scheduleTryable(n)},e.prototype.handleRateLimitResponse=function(e,t){var n=this,r=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(r),s=new Set(i),u=new Set(o),c=t.filter(function(t,r){if(t.event.user_id&&a.has(t.event.user_id)||t.event.device_id&&s.has(t.event.device_id)){n.fulfillRequest([t],e.statusCode,e.body.error);return}return u.has(r)&&(t.timeout=n.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(S(e));var l=this.getTryableList(c);this.scheduleTryable(l)},e.prototype.handleOtherResponse=function(e){var t=this,n=e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e}),r=this.getTryableList(n);this.scheduleTryable(r)},e.prototype.fulfillRequest=function(e,t,n){this.removeEvents(e),e.forEach(function(e){return e.callback(p(e.event,t,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(e){return e.event});this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(e){return e.event.insert_id===t.event.insert_id})}),this.saveEvents()},e}(),_=n(11991),E=n(26309),C=n(81645),T=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setEventProperties=function(e){return(0,C.a)(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?(0,o.Cl)({},this.properties):{};return e[E.Kl.REVENUE_PRODUCT_ID]=this.productId,e[E.Kl.REVENUE_QUANTITY]=this.quantity,e[E.Kl.REVENUE_PRICE]=this.price,e[E.Kl.REVENUE_TYPE]=this.revenueType,e[E.Kl.REVENUE]=this.revenue,e},e}(),k=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var n,r,i;return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(o){switch(o.label){case 0:return e.name=null!==(n=e.name)&&void 0!==n?n:b(),e.type=null!==(r=e.type)&&void 0!==r?r:"enrichment",[4,null===(i=e.setup)||void 0===i?void 0:i.call(e,t,this.client)];case 1:return o.sent(),this.plugins.push(e),[2]}})})},e.prototype.deregister=function(e){var t;return(0,o.sH)(this,void 0,void 0,function(){var n,r;return(0,o.YH)(this,function(i){switch(i.label){case 0:return n=this.plugins.findIndex(function(t){return t.name===e}),r=this.plugins[n],this.plugins.splice(n,1),[4,null===(t=r.teardown)||void 0===t?void 0:t.call(r)];case 1:return i.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null===(t=e.teardown)||void 0===t?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise(function(n){t.queue.push([e,n]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t,n,r,i,a,s,u,c,l,d,f,v,h,g;return(0,o.YH)(this,function(m){switch(m.label){case 0:if(!e)return[2];t=(0,o.zs)(e,1)[0],n=(0,o.zs)(e,2)[1],r=this.plugins.filter(function(e){return"before"===e.type}),m.label=1;case 1:m.trys.push([1,6,7,8]),a=(i=(0,o.Ju)(r)).next(),m.label=2;case 2:if(a.done)return[3,5];if(!(s=a.value).execute)return[3,4];return[4,s.execute((0,o.Cl)({},t))];case 3:if(null===(u=m.sent()))return n({event:t,code:0,message:""}),[2];t=u,m.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return f={error:m.sent()},[3,8];case 7:try{a&&!a.done&&(v=i.return)&&v.call(i)}finally{if(f)throw f.error}return[7];case 8:c=this.plugins.filter(function(e){return"enrichment"===e.type||void 0===e.type}),m.label=9;case 9:m.trys.push([9,14,15,16]),d=(l=(0,o.Ju)(c)).next(),m.label=10;case 10:if(d.done)return[3,13];if(!(s=d.value).execute)return[3,12];return[4,s.execute((0,o.Cl)({},t))];case 11:if(null===(u=m.sent()))return n({event:t,code:0,message:""}),[2];t=u,m.label=12;case 12:return d=l.next(),[3,10];case 13:return[3,16];case 14:return h={error:m.sent()},[3,16];case 15:try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(h)throw h.error}return[7];case 16:return Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){var n=(0,o.Cl)({},t);return e.execute(n).catch(function(e){return p(n,0,String(e))})})).then(function(e){var r=(0,o.zs)(e,1)[0]||p(t,100,"Event not tracked, no destination plugins on the instance");n(r)}),[2]}})})},e.prototype.flush=function(){return(0,o.sH)(this,void 0,void 0,function(){var e,t=this;return(0,o.YH)(this,function(n){switch(n.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(e){return t.apply(e)}))];case 1:return n.sent(),[4,Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){return e.flush&&e.flush()}))];case 2:return n.sent(),[2]}})})},e}(),I=function(e,t){return(0,o.Cl)((0,o.Cl)({},t),{event_type:E.SE.IDENTIFY,user_properties:e.getUserProperties()})},N=function(e,t,n,r){var i;return(0,o.Cl)((0,o.Cl)({},r),{event_type:E.SE.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:((i={})[e]=t,i)})},O=function(e,t,n){var r,i=new _.T;return i.set(e,t),(0,o.Cl)((0,o.Cl)({},n),{event_type:E.SE.IDENTIFY,user_properties:i.getUserProperties(),groups:((r={})[e]=t,r)})},x=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new k(this),this.name=e}return e.prototype._init=function(e){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t,n,r,i,a,s;return(0,o.YH)(this,function(u){switch(u.label){case 0:t=this[e],this[e]=[],u.label=1;case 1:u.trys.push([1,8,9,10]),r=(n=(0,o.Ju)(t)).next(),u.label=2;case 2:if(r.done)return[3,7];if(!((i=(0,r.value)())&&"promise"in i))return[3,4];return[4,i.promise];case 3:return u.sent(),[3,6];case 4:return[4,i];case 5:u.sent(),u.label=6;case 6:return r=n.next(),[3,2];case 7:return[3,10];case 8:return a={error:u.sent()},[3,10];case 9:try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}return[7];case 10:if(!this[e].length)return[3,12];return[4,this.runQueuedFunctions(e)];case 11:u.sent(),u.label=12;case 12:return[2]}})})},e.prototype.track=function(e,t,n){var r=(0,o.Cl)((0,o.Cl)((0,o.Cl)({},"string"==typeof e?{event_type:e}:e),n),t&&{event_properties:t});return l(this.dispatch(r))},e.prototype.identify=function(e,t){var n=I(e,t);return l(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,r){var i=N(e,t,n,r);return l(this.dispatch(i))},e.prototype.setGroup=function(e,t,n){var r=O(e,t,n);return l(this.dispatch(r))},e.prototype.revenue=function(e,t){var n=(0,o.Cl)((0,o.Cl)({},t),{event_type:E.SE.REVENUE,event_properties:e.getEventProperties()});return l(this.dispatch(n))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),l())},e.prototype._addPlugin=function(e){return l(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),l())},e.prototype._removePlugin=function(e){return l(this.timeline.deregister(e))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(p(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t=this;return(0,o.YH)(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))})]})})},e.prototype.process=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t,n;return(0,o.YH)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),this.config.optOut)return[2,p(e,0,"Event skipped due to optOut config")];return[4,this.timeline.push(e)];case 1:return 200===(t=r.sent()).code?this.config.loggerProvider.log(t.message):100===t.code?this.config.loggerProvider.warn(t.message):this.config.loggerProvider.error(t.message),[2,t];case 2:return n=String(r.sent()),this.config.loggerProvider.error(n),[2,t=p(e,0,n)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},e.prototype._setOptOut=function(e){this.config.optOut=!!e},e.prototype.flush=function(){return l(this.timeline.flush())},e}(),R=function(e,t){return"boolean"==typeof e?e:(null==e?void 0:e[t])!==!1},A=function(e){return R(e,"attribution")},P=function(e){return R(e,"pageViews")},D=function(e){return R(e,"sessions")},L=function(e){var t,n=function(){return!1},r=void 0,i=e.pageCounter;return P(e.defaultTracking)&&(n=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:r,eventType:t,pageCounter:i}},M="dclid",U="fbclid",j="gbraid",B="gclid",H="ko_click_id",V="li_fat_id",F="msclkid",q="rtd_cid",z="ttclid",K="twclid",$="wbraid",G={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Y=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},X=function(e,t,n,r){void 0===r&&(r=!0),e.referrer;var i=e.referring_domain,a=(0,o.Tt)(e,["referrer","referring_domain"]),s=t||{},u=(s.referrer,s.referring_domain),c=(0,o.Tt)(s,["referrer","referring_domain"]);if(J(n.excludeReferrers,e.referring_domain)||!r&&Object.values(e).every(function(e){return!e})&&t)return!1;var l=JSON.stringify(a)!==JSON.stringify(c),d=Y(i||"")!==Y(u||"");return!t||l||d},J=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some(function(e){return e instanceof RegExp?e.test(t):e===t})},W=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},Q=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0},Z=function(){var e,t=Q();return(null===(e=null==t?void 0:t.location)||void 0===e?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var n=t.split("=",2),r=ee(n[0]),i=ee(n[1]);return i&&(e[r]=i),e},{}):{}},ee=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},et=function(){function e(){}return e.prototype.parse=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){return[2,(0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)({},G),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=Z();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!==(t=null===(e=n.referrer)||void 0===e?void 0:e.split("/")[2])&&void 0!==t?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=Z();return(e={})[M]=t[M],e[U]=t[U],e[j]=t[j],e[B]=t[B],e[H]=t[H],e[V]=t[V],e[F]=t[F],e[q]=t[q],e[z]=t[z],e[K]=t[K],e[$]=t[$],e},e}(),en=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e},er=function(){function e(e,t){var n,r,i,a;this.shouldTrackNewCampaign=!1,this.options=(0,o.Cl)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:W(null===(n=t.cookieOptions)||void 0===n?void 0:n.domain)},e),this.storage=t.cookieStorage,this.storageKey=(r=t.apiKey,i="MKTG",void 0===a&&(a=10),[d.r,i,r.substring(0,a)].filter(Boolean).join("_")),this.currentCampaign=G,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return(0,o.sH)(this,void 0,void 0,function(){var e,t;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:if(t=o.zs.apply(void 0,[n.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||en(this.sessionTimeout,this.lastEventTime),!X(this.currentCampaign,this.previousCampaign,this.options,e))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([new et().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t,n,r=(t=this.currentCampaign,n=this.options,I(Object.entries((0,o.Cl)((0,o.Cl)({},G),t)).reduce(function(e,t){var r,i=(0,o.zs)(t,2),a=i[0],s=i[1];return(e.setOnce("initial_".concat(a),null!==(r=null!=s?s:n.initialEmptyValue)&&void 0!==r?r:"EMPTY"),s)?e.set(a,s):e.unset(a)},new _.T)));return e&&(r.event_id=e),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),ei=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:eo(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),eo=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},ea=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},e}(),es=function(){return(es=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eu=function(e,t){var n=typeof e;if(n!==typeof t)return!1;for(var r=0,i=["string","number","boolean","undefined"];r<i.length;r++)if(i[r]===n)return e===t;if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;var o=Array.isArray(e),a=Array.isArray(t);if(o!==a)return!1;if(o&&a){for(var s=0;s<e.length;s++)if(!eu(e[s],t[s]))return!1}else{if(!eu(Object.keys(e).sort(),Object.keys(t).sort()))return!1;var u=!0;return Object.keys(e).forEach(function(n){eu(e[n],t[n])||(u=!1)}),u}return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var ec=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=es({},this.identity.userProperties),n=es(es({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){for(var t=n.userProperties||{},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(a){case"$set":for(var u=0,c=Object.entries(s);u<c.length;u++){var l=c[u],d=l[0],f=l[1];t[d]=f}break;case"$unset":for(var p=0,v=Object.keys(s);p<v.length;p++){var d=v[p];delete t[d]}break;case"$clearAll":t={}}}return n.userProperties=t,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return es({},this.identity)},e.prototype.setIdentity=function(e){var t=es({},this.identity);this.identity=es({},e),eu(t,this.identity)||this.listeners.forEach(function(t){t(e)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),el="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self,ed=function(){function e(){this.identityStore=new ec,this.eventBridge=new ea,this.applicationContextProvider=new ei}return e.getInstance=function(t){return el.analyticsConnectorInstances||(el.analyticsConnectorInstances={}),el.analyticsConnectorInstances[t]||(el.analyticsConnectorInstances[t]=new e),el.analyticsConnectorInstances[t]},e}(),ef=function(e){return void 0===e&&(e="$default_instance"),ed.getInstance(e)},ep=function(e,t){ef(t).identityStore.editIdentity().setUserId(e).commit()},ev=function(e,t){ef(t).identityStore.editIdentity().setDeviceId(e).commit()},eh=function(){function e(){this.name="identity",this.type="before",this.identityStore=ef().identityStore}return e.prototype.execute=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t;return(0,o.YH)(this,function(n){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},e.prototype.setup=function(e){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){return e.instanceName&&(this.identityStore=ef(e.instanceName).identityStore),[2]})})},e}(),eg=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.name,o=r.args,a=r.resolve,s=e&&e[i];if("function"==typeof s){var u=s.apply(e,o);"function"==typeof a&&a(null==u?void 0:u.promise)}}return e},em=function(e){return e&&void 0!==e._q},ey=function(){if("undefined"==typeof navigator)return"";var e,t,n,r,i=navigator.userLanguage;return null!==(r=null!==(n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:navigator.language)&&void 0!==n?n:i)&&void 0!==r?r:""},eb=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat("2.9.3"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,n;return(0,o.sH)(this,void 0,void 0,function(){var r,i,a;return(0,o.YH)(this,function(s){return r=new Date().getTime(),i=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1,a=null!==(n=e.event_id)&&void 0!==n?n:i+1,this.config.lastEventId=a,e.time||(this.config.lastEventTime=r),[2,(0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)((0,o.Cl)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:ey()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:b(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent})]})})},e}(),eS=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){return[2,!0]})})},e.prototype.get=function(e){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){return[2,this.memoryStorage.get(e)]})})},e.prototype.getRaw=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return[2,(t=n.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(e,t){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(n){return this.memoryStorage.set(e,t),[2]})})},e.prototype.remove=function(e){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){return this.memoryStorage.delete(e),[2]})})},e.prototype.reset=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){return this.memoryStorage.clear(),[2]})})},e}(),ew=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[d.r,t,e.substring(0,n)].filter(Boolean).join("_")},e_=function(){function e(e){this.options=(0,o.Cl)({},e)}return e.prototype.isEnabled=function(){return(0,o.sH)(this,void 0,void 0,function(){var t,n;return(0,o.YH)(this,function(r){switch(r.label){case 0:if(!Q())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return r.sent(),[4,t.get(n)];case 3:return[2,r.sent()===e.testValue];case 4:return r.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return r.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){var t;return(0,o.sH)(this,void 0,void 0,function(){var n,r;return(0,o.YH)(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(n=i.sent()))return[2,void 0];try{if(r=null!==(t=eE(n))&&void 0!==t?t:eC(n),void 0===r)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0];return[2,JSON.parse(r)]}catch(t){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(e){var t,n;return(0,o.sH)(this,void 0,void 0,function(){var r,i;return(0,o.YH)(this,function(o){return(i=(null!==(n=null===(t=null==(r=Q())?void 0:r.document)||void 0===t?void 0:t.cookie.split("; "))&&void 0!==n?n:[]).find(function(t){return 0===t.indexOf(e+"=")}))?[2,i.substring(e.length+1)]:[2,void 0]})})},e.prototype.set=function(e,t){var n;return(0,o.sH)(this,void 0,void 0,function(){var r,i,a,s,u,c,l;return(0,o.YH)(this,function(o){try{r=null!==(n=this.options.expirationDays)&&void 0!==n?n:0,i=null!==t?r:-1,a=void 0,i&&((s=new Date).setTime(s.getTime()+864e5*i),a=s),u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),a&&(u+="; expires=".concat(a.toUTCString())),u+="; path=/",this.options.domain&&(u+="; domain=".concat(this.options.domain)),this.options.secure&&(u+="; Secure"),this.options.sameSite&&(u+="; SameSite=".concat(this.options.sameSite)),(c=Q())&&(c.document.cookie=u)}catch(t){l=t instanceof Error?t.message:String(t),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(l))}return[2]})})},e.prototype.remove=function(e){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},e.prototype.reset=function(){return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(e){return[2]})})},e}(),eE=function(e){try{return decodeURIComponent(atob(e))}catch(e){return}},eC=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(e){return}},eT=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){if("object"!=typeof e)return null;var t,n,r,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,S,w,_,E,C=e.code||0,T=this.buildStatus(C);switch(T){case i.Success:return{status:T,statusCode:C,body:{eventsIngested:null!==(t=e.events_ingested)&&void 0!==t?t:0,payloadSizeBytes:null!==(n=e.payload_size_bytes)&&void 0!==n?n:0,serverUploadTime:null!==(r=e.server_upload_time)&&void 0!==r?r:0}};case i.Invalid:return{status:T,statusCode:C,body:{error:null!==(o=e.error)&&void 0!==o?o:"",missingField:null!==(a=e.missing_field)&&void 0!==a?a:"",eventsWithInvalidFields:null!==(s=e.events_with_invalid_fields)&&void 0!==s?s:{},eventsWithMissingFields:null!==(u=e.events_with_missing_fields)&&void 0!==u?u:{},eventsWithInvalidIdLengths:null!==(c=e.events_with_invalid_id_lengths)&&void 0!==c?c:{},epsThreshold:null!==(l=e.eps_threshold)&&void 0!==l?l:0,exceededDailyQuotaDevices:null!==(d=e.exceeded_daily_quota_devices)&&void 0!==d?d:{},silencedDevices:null!==(f=e.silenced_devices)&&void 0!==f?f:[],silencedEvents:null!==(p=e.silenced_events)&&void 0!==p?p:[],throttledDevices:null!==(v=e.throttled_devices)&&void 0!==v?v:{},throttledEvents:null!==(h=e.throttled_events)&&void 0!==h?h:[]}};case i.PayloadTooLarge:return{status:T,statusCode:C,body:{error:null!==(g=e.error)&&void 0!==g?g:""}};case i.RateLimit:return{status:T,statusCode:C,body:{error:null!==(m=e.error)&&void 0!==m?m:"",epsThreshold:null!==(y=e.eps_threshold)&&void 0!==y?y:0,throttledDevices:null!==(b=e.throttled_devices)&&void 0!==b?b:{},throttledUsers:null!==(S=e.throttled_users)&&void 0!==S?S:{},exceededDailyQuotaDevices:null!==(w=e.exceeded_daily_quota_devices)&&void 0!==w?w:{},exceededDailyQuotaUsers:null!==(_=e.exceeded_daily_quota_users)&&void 0!==_?_:{},throttledEvents:null!==(E=e.throttled_events)&&void 0!==E?E:[]}};case i.Timeout:default:return{status:T,statusCode:C}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?i.Success:429===e?i.RateLimit:413===e?i.PayloadTooLarge:408===e?i.Timeout:e>=400&&e<500?i.Invalid:e>=500?i.Failed:i.Unknown},e}(),ek=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.send=function(e,t){return(0,o.sH)(this,void 0,void 0,function(){var n,r;return(0,o.YH)(this,function(i){switch(i.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return[4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"})];case 1:return[4,(n=i.sent()).text()];case 2:r=i.sent();try{return[2,this.buildResponse(JSON.parse(r))]}catch(e){return[2,this.buildResponse({code:n.status})]}return[2]}})})},t}(eT),eI=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return(0,o.sH)(this,void 0,void 0,function(){var t,n,r;return(0,o.YH)(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),n=new e(this.storage),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,n.set(r,t)];case 2:return i.sent(),[4,n.get(r)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){return(0,o.sH)(this,void 0,void 0,function(){var t;return(0,o.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:if(!(t=n.sent()))return[2,void 0];return[2,JSON.parse(t)];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(e){var t;return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(n){return[2,(null===(t=this.storage)||void 0===t?void 0:t.getItem(e))||void 0]})})},e.prototype.set=function(e,t){var n;return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(r){try{null===(n=this.storage)||void 0===n||n.setItem(e,JSON.stringify(t))}catch(e){}return[2]})})},e.prototype.remove=function(e){var t;return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(n){try{null===(t=this.storage)||void 0===t||t.removeItem(e)}catch(e){}return[2]})})},e.prototype.reset=function(){var e;return(0,o.sH)(this,void 0,void 0,function(){return(0,o.YH)(this,function(t){try{null===(e=this.storage)||void 0===e||e.clear()}catch(e){}return[2]})})},e}(),eN=function(e){function t(t){var n,r=this;return(r=e.call(this,null===(n=Q())||void 0===n?void 0:n.localStorage)||this).loggerProvider=null==t?void 0:t.loggerProvider,r}return(0,o.C6)(t,e),t.prototype.set=function(t,n){var r;return(0,o.sH)(this,void 0,void 0,function(){var i;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(!(Array.isArray(n)&&n.length>1e3))return[3,2];return i=n.length-1e3,[4,e.prototype.set.call(this,t,n.slice(0,1e3))];case 1:return o.sent(),null===(r=this.loggerProvider)||void 0===r||r.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,n)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},t}(eI),eO=function(e){function t(){var t;return e.call(this,null===(t=Q())||void 0===t?void 0:t.sessionStorage)||this}return(0,o.C6)(t,e),t}(eI),ex=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return(0,o.C6)(t,e),t.prototype.send=function(e,t){return(0,o.sH)(this,void 0,void 0,function(){var n=this;return(0,o.YH)(this,function(r){return[2,new Promise(function(r,i){"undefined"==typeof XMLHttpRequest&&i(Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===n.state.done){var e=o.responseText;try{r(n.buildResponse(JSON.parse(e)))}catch(e){r(n.buildResponse({code:o.status}))}}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))})]})})},t}(eT),eR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.send=function(e,t){return(0,o.sH)(this,void 0,void 0,function(){var n=this;return(0,o.YH)(this,function(r){return[2,new Promise(function(r,i){var o=Q();if(!(null==o?void 0:o.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(t);if(o.navigator.sendBeacon(e,JSON.stringify(t)))return r(n.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}));return r(n.buildResponse({code:500}))}catch(e){i(e)}})]})})},t}(eT),eA=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},eP=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},eD="[Amplitude]",eL="".concat(eD," Form Started"),eM="".concat(eD," Form Submitted"),eU="".concat(eD," File Downloaded"),ej="session_start",eB="session_end",eH="".concat(eD," File Extension"),eV="".concat(eD," File Name"),eF="".concat(eD," Link ID"),eq="".concat(eD," Link Text"),ez="".concat(eD," Link URL"),eK="".concat(eD," Form ID"),e$="".concat(eD," Form Name"),eG="".concat(eD," Form Destination"),eY="cookie",eX=function(e){function t(t,n,i,o,a,s,u,c,l,d,f,p,v,g,m,y,b,S,w,_,E,C,T,k,I,N,O,x,R,A,P,D){void 0===i&&(i=new eS),void 0===o&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===u&&(u=1e3),void 0===c&&(c=5),void 0===l&&(l=30),void 0===d&&(d=eY),void 0===m&&(m=new h),void 0===y&&(y=r.Warn),void 0===S&&(S=!1),void 0===w&&(w=!1),void 0===C&&(C=""),void 0===T&&(T="US"),void 0===I&&(I=18e5),void 0===N&&(N=new eN({loggerProvider:m})),void 0===O&&(O={ipAddress:!0,language:!0,platform:!0}),void 0===x&&(x="fetch"),void 0===R&&(R=!1);var L=e.call(this,{apiKey:t,storageProvider:N,transportProvider:eW(x)})||this;return L.apiKey=t,L.appVersion=n,L.cookieOptions=o,L.defaultTracking=a,L.flushIntervalMillis=u,L.flushMaxRetries=c,L.flushQueueSize=l,L.identityStorage=d,L.ingestionMetadata=f,L.instanceName=p,L.loggerProvider=m,L.logLevel=y,L.minIdLength=b,L.offline=S,L.partnerId=_,L.plan=E,L.serverUrl=C,L.serverZone=T,L.sessionTimeout=I,L.storageProvider=N,L.trackingOptions=O,L.transport=x,L.useBatch=R,L._optOut=!1,L._cookieStorage=i,L.deviceId=s,L.lastEventId=v,L.lastEventTime=g,L.optOut=w,L.sessionId=k,L.pageCounter=P,L.userId=A,L.debugLogsEnabled=D,L.loggerProvider.enable(D?r.Debug:L.logLevel),L}return(0,o.C6)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(ew(this.apiKey),e)},t}(m),eJ=function(e,t){switch(void 0===e&&(e=eY),void 0===t&&(t={}),e){case"localStorage":return new eN;case"sessionStorage":return new eO;case"none":return new eS;default:return new e_((0,o.Cl)((0,o.Cl)({},t),{expirationDays:t.expiration}))}},eW=function(e){return"xhr"===e?new ex:"beacon"===e?new eR:new ek},eQ=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return t},eZ=function(e){void 0===e&&(e={});var t,n,r,i=Q(),a=void 0,s=e.trackOn,u=e.trackHistoryChanges,c=e.eventType,l=void 0===c?"[Amplitude] Page Viewed":c,d=function(){return(0,o.sH)(void 0,void 0,void 0,function(){var e,t;return(0,o.YH)(this,function(n){switch(n.label){case 0:return t={event_type:l},e=[{}],[4,e0()];case 1:return[2,(t.event_properties=o.Cl.apply(void 0,[o.Cl.apply(void 0,e.concat([n.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":"undefined"!=typeof location&&location.href||"","[Amplitude] Page Path":"undefined"!=typeof location&&location.pathname||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":"undefined"!=typeof location&&location.href.split("?")[0]||""}]),t)]}})})},f=function(){return void 0===s||"function"==typeof s&&s()},p="undefined"!=typeof location?location.href:null,v=function(){return(0,o.sH)(void 0,void 0,void 0,function(){var e,n,r,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(n=e2(u,e=location.href,p||"")&&f(),p=e,!n)return[3,4];if(null==a||a.log("Tracking page view event"),null!=t)return[3,1];return[3,3];case 1:return i=(r=t).track,[4,d()];case 2:i.apply(r,[o.sent()]),o.label=3;case 3:o.label=4;case 4:return[2]}})})},h=function(){v()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,s){return(0,o.sH)(void 0,void 0,void 0,function(){var u,c;return(0,o.YH)(this,function(l){switch(l.label){case 0:if(t=s,r=e,(a=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",h),n=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(e,t,n){var r=(0,o.zs)(n,3),i=r[0],a=r[1],s=r[2];e.apply(t,[i,a,s]),v()}})),!f())return[3,2];return a.log("Tracking page view event"),c=(u=t).track,[4,d()];case 1:c.apply(u,[l.sent()]),l.label=2;case 2:return[2]}})})},execute:function(e){return(0,o.sH)(void 0,void 0,void 0,function(){var t;return(0,o.YH)(this,function(n){switch(n.label){case 0:if(!("attribution"===s&&e1(e)))return[3,2];return null==a||a.log("Enriching campaign event to page view event with campaign parameters"),[4,d()];case 1:t=n.sent(),e.event_type=t.event_type,e.event_properties=(0,o.Cl)((0,o.Cl)({},e.event_properties),t.event_properties),n.label=2;case 2:return r&&e.event_type===l&&(r.pageCounter=r.pageCounter?r.pageCounter+1:1,e.event_properties=(0,o.Cl)((0,o.Cl)({},e.event_properties),{"[Amplitude] Page Counter":r.pageCounter})),[2,e]}})})},teardown:function(){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(e){return i&&(i.removeEventListener("popstate",h),n&&(i.history.pushState=n)),[2]})})}}},e0=function(){return(0,o.sH)(void 0,void 0,void 0,function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:return e=eQ,[4,new et().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},e1=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[E.eX.SET]||{},r=t[E.eX.UNSET]||{},i=(0,o.fX)((0,o.fX)([],(0,o.zs)(Object.keys(n)),!1),(0,o.zs)(Object.keys(r)),!1);return Object.keys(G).every(function(e){return i.includes(e)})}return!1},e2=function(e,t,n){return"pathOnly"===e?t.split("?")[0]!==n.split("?")[0]:t!==n},e3=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})},r=function(){t.forEach(function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,r){return(0,o.sH)(void 0,void 0,void 0,function(){var i;return(0,o.YH)(this,function(o){return null===(i=Q())||void 0===i||i.addEventListener("load",function(){if(!r){t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){var t=!1;n(e,"change",function(){var n;t||r.track(eL,((n={})[eK]=e4(e.id),n[e$]=e4(e.name),n[eG]=e.action,n)),t=!0}),n(e,"submit",function(){var n,i;t||r.track(eL,((n={})[eK]=e4(e.id),n[e$]=e4(e.name),n[eG]=e.action,n)),r.track(eM,((i={})[eK]=e4(e.id),i[e$]=e4(e.name),i[eG]=e.action,i)),t=!1})};Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(e){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(t){return null==e||e.disconnect(),r(),[2]})})}}},e4=function(e){if("string"==typeof e)return e},e6=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})},r=function(){t.forEach(function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(t,r){return(0,o.sH)(void 0,void 0,void 0,function(){var i;return(0,o.YH)(this,function(o){return null===(i=Q())||void 0===i||i.addEventListener("load",function(){if(!r){t.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if("undefined"!=typeof document){var i=function(e){try{t=new URL(e.href,window.location.href)}catch(e){return}var t,i=o.exec(t.href),a=null==i?void 0:i[1];a&&n(e,"click",function(){var n;a&&r.track(eU,((n={})[eH]=a,n[eV]=t.pathname,n[eF]=e.id,n[eq]=e.text,n[ez]=e.href,n))})},o=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;Array.from(document.getElementsByTagName("a")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(e){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(t){return null==e||e.disconnect(),r(),[2]})})}}},e5=!1,e8=function(e){e5||void 0!==e.defaultTracking||(e.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),e5=!0)},e9=function(){var e=Q(),t=[],n=function(n,r){e&&(e.addEventListener(n,r),t.push({type:n,handler:r}))},r=function(){t.forEach(function(t){var n=t.type,r=t.handler;e&&e.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(r){return e.offline=!navigator.onLine,n("online",function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout(function(){t.flush()},e.flushIntervalMillis)}),n("offline",function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0}),[2]})})},teardown:function(){return(0,o.sH)(void 0,void 0,void 0,function(){return(0,o.YH)(this,function(e){return r(),[2]})})}}},e7=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.C6)(t,e),t.prototype.init=function(e,t,n){var r,i;return void 0===e&&(e=""),arguments.length>2?(r=t,i=n):"string"==typeof t?(r=t,i=void 0):(r=null==t?void 0:t.userId,i=t),l(this._init((0,o.Cl)((0,o.Cl)({},i),{userId:r,apiKey:e})))},t.prototype._init=function(t){var n,r,i;return(0,o.sH)(this,void 0,void 0,function(){var a,s,u,c,l,f=this;return(0,o.YH)(this,function(p){var v,h,g,m;switch(p.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(v=t.apiKey,h=t,g=this,void 0===h&&(h={}),(0,o.sH)(void 0,void 0,void 0,function(){var e,t,n,r,i,a,s,u,c,l,f,p,m,y,S,w,_,E,C,T,k,I,N,O,x,R,A,P,D,L,M,U,j,B,H,V,F,q,z,K,$,G,Y;return(0,o.YH)(this,function(X){var J,W,Q;switch(X.label){case 0:if(e=h.identityStorage||eY,C={},!(e!==eY))return[3,1];return n="",[3,5];case 1:if(!(null!==(k=null===(T=h.cookieOptions)||void 0===T?void 0:T.domain)&&void 0!==k))return[3,2];return r=k,[3,4];case 2:return[4,(0,o.sH)(void 0,void 0,void 0,function(){var e,t,n,r,i,a;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,new e_().isEnabled()];case 1:if(!o.sent()||"undefined"==typeof location||!location.hostname)return[2,""];for(e=(null!=J?J:location.hostname).split("."),t=[],n="AMP_TLDTEST",r=e.length-2;r>=0;--r)t.push(e.slice(r).join("."));r=0,o.label=2;case 2:if(!(r<t.length))return[3,7];return[4,(a=new e_({domain:"."+(i=t[r])})).set(n,1)];case 3:return o.sent(),[4,a.get(n)];case 4:if(!o.sent())return[3,6];return[4,a.remove(n)];case 5:return o.sent(),[2,"."+i];case 6:return r++,[3,2];case 7:return[2,""]}})})];case 3:r=X.sent(),X.label=4;case 4:n=r,X.label=5;case 5:return t=o.Cl.apply(void 0,[(C.domain=n,C.expiration=365,C.sameSite="Lax",C.secure=!1,C.upgrade=!0,C),h.cookieOptions]),[4,(W=i=eJ(h.identityStorage,t),void 0===(Q=null===(N=null===(I=h.cookieOptions)||void 0===I?void 0:I.upgrade)||void 0===N||N)&&(Q=!0),(0,o.sH)(void 0,void 0,void 0,function(){var e,t,n,r,i,a,s,u,c;return(0,o.YH)(this,function(l){switch(l.label){case 0:return e="".concat(d.r.toLowerCase(),"_").concat(v.substring(0,6)),[4,W.getRaw(e)];case 1:if(!(t=l.sent()))return[2,{optOut:!1}];if(!Q)return[3,3];return[4,W.remove(e)];case 2:l.sent(),l.label=3;case 3:return r=(n=(0,o.zs)(t.split("."),6))[0],i=n[1],a=n[2],s=n[3],u=n[4],c=n[5],[2,{deviceId:r,userId:eP(i),sessionId:eA(s),lastEventId:eA(c),lastEventTime:eA(u),optOut:!!a}]}})}))];case 6:return a=X.sent(),[4,i.get(ew(v))];case 7:return s=X.sent(),u=Z(),c=null!==(P=null!==(A=null!==(R=null!==(x=null!==(O=h.deviceId)&&void 0!==O?O:u.ampDeviceId)&&void 0!==x?x:u.deviceId)&&void 0!==R?R:null==s?void 0:s.deviceId)&&void 0!==A?A:a.deviceId)&&void 0!==P?P:b(),l=null!==(D=null==s?void 0:s.lastEventId)&&void 0!==D?D:a.lastEventId,f=null!==(L=null==s?void 0:s.lastEventTime)&&void 0!==L?L:a.lastEventTime,p=null!==(U=null!==(M=h.optOut)&&void 0!==M?M:null==s?void 0:s.optOut)&&void 0!==U?U:a.optOut,m=null!==(j=null==s?void 0:s.sessionId)&&void 0!==j?j:a.sessionId,y=null!==(H=null!==(B=h.userId)&&void 0!==B?B:null==s?void 0:s.userId)&&void 0!==H?H:a.userId,g.previousSessionDeviceId=null!==(V=null==s?void 0:s.deviceId)&&void 0!==V?V:a.deviceId,g.previousSessionUserId=null!==(F=null==s?void 0:s.userId)&&void 0!==F?F:a.userId,S={ipAddress:null===(z=null===(q=h.trackingOptions)||void 0===q?void 0:q.ipAddress)||void 0===z||z,language:null===($=null===(K=h.trackingOptions)||void 0===K?void 0:K.language)||void 0===$||$,platform:null===(Y=null===(G=h.trackingOptions)||void 0===G?void 0:G.platform)||void 0===Y||Y},w=null==s?void 0:s.pageCounter,_=null==s?void 0:s.debugLogsEnabled,[4,(E=new eX(v,h.appVersion,i,t,h.defaultTracking,c,h.flushIntervalMillis,h.flushMaxRetries,h.flushQueueSize,e,h.ingestionMetadata,h.instanceName,l,f,h.loggerProvider,h.logLevel,h.minIdLength,h.offline,p,h.partnerId,h.plan,h.serverUrl,h.serverZone,m,h.sessionTimeout,h.storageProvider,S,h.transport,h.useBatch,y,w,_)).storageProvider.isEnabled()];case 8:return X.sent()||(E.loggerProvider.warn("Storage provider ".concat(E.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),E.storageProvider=new eS),[2,E]}})}))];case 1:return a=p.sent(),[4,e.prototype._init.call(this,a)];case 2:if(p.sent(),this.logBrowserOptions(t),!A(this.config.defaultTracking))return[3,4];return s=A((m=this.config).defaultTracking)&&m.defaultTracking&&"object"==typeof m.defaultTracking&&m.defaultTracking.attribution&&"object"==typeof m.defaultTracking.attribution?(0,o.Cl)({},m.defaultTracking.attribution):{},this.webAttribution=new er(s,this.config),[4,this.webAttribution.init()];case 3:p.sent(),p.label=4;case 4:if(c=Number.isNaN(Number((u=Z()).ampSessionId))?void 0:Number(u.ampSessionId),this.setSessionId(null!==(i=null!==(r=null!==(n=t.sessionId)&&void 0!==n?n:c)&&void 0!==r?r:this.config.sessionId)&&void 0!==i?i:Date.now()),(l=ef(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),!(null!==this.config.offline))return[3,6];return[4,this.add(e9()).promise];case 5:p.sent(),p.label=6;case 6:return[4,this.add(new w).promise];case 7:return p.sent(),[4,this.add(new eb).promise];case 8:return p.sent(),[4,this.add(new eh).promise];case 9:if(p.sent(),e8(this.config),!R(this.config.defaultTracking,"fileDownloads"))return[3,11];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(e6()).promise];case 10:p.sent(),p.label=11;case 11:if(!R(this.config.defaultTracking,"formInteractions"))return[3,13];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(e3()).promise];case 12:p.sent(),p.label=13;case 13:if(!P(this.config.defaultTracking))return[3,15];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(eZ(L(this.config))).promise];case 14:p.sent(),p.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return p.sent(),l.eventBridge.setEventReceiver(function(e){f.track(e.eventType,e.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.userId},t.prototype.setUserId=function(e){if(!this.config){this.q.push(this.setUserId.bind(this,e));return}this.config.loggerProvider.debug("function setUserId: ",e),(e!==this.config.userId||void 0===e)&&(this.config.userId=e,ep(e,this.config.instanceName))},t.prototype.getDeviceId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.deviceId},t.prototype.setDeviceId=function(e){if(!this.config){this.q.push(this.setDeviceId.bind(this,e));return}this.config.loggerProvider.debug("function setDeviceId: ",e),this.config.deviceId=e,ev(e,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(b()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null===(e=this.config)||void 0===e?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,n=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),l(Promise.resolve());if(e===this.config.sessionId)return l(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var r=this.getSessionId(),i=this.config.lastEventTime,o=null!==(t=this.config.lastEventId)&&void 0!==t?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,D(this.config.defaultTracking)&&(r&&i&&n.push(this.track(eB,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:r,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var a=this.trackCampaignEventIfNeeded(++o,n);return D(this.config.defaultTracking)&&n.push(this.track(ej,void 0,{event_id:a?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,l(Promise.all(n))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(e){if(!this.config){this.q.push(this.setTransport.bind(this,e));return}this.config.transportProvider=eW(e)},t.prototype.identify=function(t,n){if(em(t)){var r=t._q;t._q=[],t=eg(new _.T,r)}return(null==n?void 0:n.user_id)&&this.setUserId(n.user_id),(null==n?void 0:n.device_id)&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,t,n)},t.prototype.groupIdentify=function(t,n,r,i){if(em(r)){var o=r._q;r._q=[],r=eg(new _.T,o)}return e.prototype.groupIdentify.call(this,t,n,r,i)},t.prototype.revenue=function(t,n){if(em(t)){var r=t._q;t._q=[],t=eg(new T,r)}return e.prototype.revenue.call(this,t,n)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var n=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(n).promise):this.track(n),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return(0,o.sH)(this,void 0,void 0,function(){var n,r,i;return(0,o.YH)(this,function(o){return n=Date.now(),r=en(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type===ej||t.event_type===eB||t.session_id&&t.session_id!==this.getSessionId()||(r||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):r||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,t)]})})},t.prototype.logBrowserOptions=function(e){try{var t=(0,o.Cl)((0,o.Cl)({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(e){this.config.loggerProvider.error("Error logging browser config",e)}},t}(x),te=function(){var e=new e7;return{init:c(e.init.bind(e),"init",a(e),u(e,["config"])),add:c(e.add.bind(e),"add",a(e),u(e,["config.apiKey","timeline.plugins"])),remove:c(e.remove.bind(e),"remove",a(e),u(e,["config.apiKey","timeline.plugins"])),track:c(e.track.bind(e),"track",a(e),u(e,["config.apiKey","timeline.queue.length"])),logEvent:c(e.logEvent.bind(e),"logEvent",a(e),u(e,["config.apiKey","timeline.queue.length"])),identify:c(e.identify.bind(e),"identify",a(e),u(e,["config.apiKey","timeline.queue.length"])),groupIdentify:c(e.groupIdentify.bind(e),"groupIdentify",a(e),u(e,["config.apiKey","timeline.queue.length"])),setGroup:c(e.setGroup.bind(e),"setGroup",a(e),u(e,["config.apiKey","timeline.queue.length"])),revenue:c(e.revenue.bind(e),"revenue",a(e),u(e,["config.apiKey","timeline.queue.length"])),flush:c(e.flush.bind(e),"flush",a(e),u(e,["config.apiKey","timeline.queue.length"])),getUserId:c(e.getUserId.bind(e),"getUserId",a(e),u(e,["config","config.userId"])),setUserId:c(e.setUserId.bind(e),"setUserId",a(e),u(e,["config","config.userId"])),getDeviceId:c(e.getDeviceId.bind(e),"getDeviceId",a(e),u(e,["config","config.deviceId"])),setDeviceId:c(e.setDeviceId.bind(e),"setDeviceId",a(e),u(e,["config","config.deviceId"])),reset:c(e.reset.bind(e),"reset",a(e),u(e,["config","config.userId","config.deviceId"])),getSessionId:c(e.getSessionId.bind(e),"getSessionId",a(e),u(e,["config"])),setSessionId:c(e.setSessionId.bind(e),"setSessionId",a(e),u(e,["config"])),extendSession:c(e.extendSession.bind(e),"extendSession",a(e),u(e,["config"])),setOptOut:c(e.setOptOut.bind(e),"setOptOut",a(e),u(e,["config"])),setTransport:c(e.setTransport.bind(e),"setTransport",a(e),u(e,["config"]))}};te()},46338:(e,t,n)=>{"use strict";n.d(t,{OP:()=>c,bu:()=>s,fS:()=>o,mG:()=>r,mJ:()=>a,pL:()=>u,r:()=>i});var r="-",i="AMP",o="".concat(i,"_unsent"),a="https://api2.amplitude.com/2/httpapi",s="https://api.eu.amplitude.com/2/httpapi",u="https://api2.amplitude.com/batch",c="https://api.eu.amplitude.com/batch"},11991:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(55823),i=n(26309),o=n(46338),a=n(81645),s=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return(0,r.Cl)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(i.eX.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(i.eX.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(i.eX.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(i.eX.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(i.eX.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(i.eX.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(i.eX.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(i.eX.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(i.eX.UNSET,e,o.mG),this},e.prototype.clearAll=function(){return this._properties={},this._properties[i.eX.CLEAR_ALL]=o.mG,this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var r=this._properties[e];return void 0===r&&(r={},this._properties[e]=r),r[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return!(void 0!==this._properties[i.eX.CLEAR_ALL]||this._propertySet.has(t))&&(e===i.eX.ADD?"number"==typeof n:e===i.eX.UNSET||e===i.eX.REMOVE||(0,a.E)(t,n))},e}()},81645:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,a:()=>i});var r=n(55823),i=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!o(t,n))return!1}return!0},o=function(e,t){var n,o;if("string"!=typeof e)return!1;if(Array.isArray(t)){var a=!0;try{for(var s=(0,r.Ju)(t),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(c))return!1;if("object"==typeof c)a=a&&i(c);else if(!["number","string"].includes(typeof c))return!1;if(!a)return!1}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}else if(null==t)return!1;else if("object"==typeof t)return i(t);else if(!["number","string","boolean"].includes(typeof t))return!1;return!0}},26309:(e,t,n)=>{"use strict";var r,i,o;n.d(t,{Kl:()=>i,SE:()=>o,eX:()=>r}),function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(r||(r={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"}(i||(i={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(o||(o={}))},58463:e=>{var t;t=function(){var e,t,n,r,i=["navigation","request","process","log","user","state","error","manual"],o=function(e,t,n){for(var r=n,i=0,o=e.length;i<o;i++)r=t(r,e[i],i,e);return r},a=function(e,t){return o(e,function(e,n,r,i){return t(n,r,i)?e.concat(n):e},[])},s=function(e,t){return o(e,function(e,n,r,i){return!0===e||n===t},!1)},u=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=!({toString:null}).propertyIsEnumerable("toString"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);if(!c)return n;for(var r=0,i=l.length;r<i;r++)Object.prototype.hasOwnProperty.call(e,l[r])&&n.push(l[r]);return n},f=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=e&&n<=t}},p=function(e){return"function"==typeof e||u(e)&&a(e,function(e){return"function"==typeof e}).length===e.length},v=function(e){return"string"==typeof e&&!!e.length},h={},g=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};h.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:v},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||v(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||v(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledErrorTypes:{defaultValue:function(){return g()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if("object"!=typeof e||!e)return!1;var t=d(e),n=d(g());return!(a(t,function(e){return s(n,e)}).length<t.length)&&!(a(d(e),function(t){return"boolean"!=typeof e[t]}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:p},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:p},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:p},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&"object"==typeof e&&v(e.notify)&&v(e.sessions)&&0===a(d(e),function(e){return!s(["notify","sessions"],e)}).length}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||u(e)&&a(e,function(e){return"string"==typeof e}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number 100",validate:function(e){return f(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return i},message:"should be null or a list of available breadcrumb types ("+i.join(",")+")",validate:function(e){return null===e||u(e)&&o(e,function(e,t){return!1===e?e:s(i,t)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||"string"==typeof e}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return null===e||e&&o(d(e),function(e,t){return e&&s(["id","email","name"],t)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return"object"==typeof e&&null!==e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&o(["debug","info","warn","error"],function(t,n){return t&&"function"==typeof e[n]},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return u(e)&&e.length===a(e,function(e){return"string"==typeof e||e&&"function"==typeof e.test}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return u(e)&&e.length===a(e,function(e){return e&&"object"==typeof e&&"function"==typeof e.load}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return u(e)&&e.length===a(e,function(e){return e&&"object"==typeof e&&"string"==typeof e.name}).length}}};var m=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e,t){return o(e,function(e,n,r,i){return e.concat(t(n,r,i))},[])};function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=h.schema,w={releaseStage:m({},S.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:b({},S.appType,{defaultValue:function(){return"browser"}}),logger:m({},S.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?_():void 0}})},_=function(){var e={},t=console.log;return y(["debug","info","warn","error"],function(n){var r=console[n];e[n]="function"==typeof r?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},E=function(){function e(e,t,n,r){void 0===r&&(r=new Date),this.type=n,this.message=e,this.metadata=t,this.timestamp=r}return e.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),C={};e=function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=r.concat(i,o,["args"]);function s(e){if(e instanceof Object)for(var n=0;n<a.length;n++)e.hasOwnProperty(a[n])&&void 0!==e[a[n]]&&this["set"+t(a[n])](e[a[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new s(e);else throw TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<r.length;u++)s.prototype["get"+t(r[u])]=n(r[u]),s.prototype["set"+t(r[u])]=function(e){return function(t){this[e]=!!t}}(r[u]);for(var c=0;c<i.length;c++)s.prototype["get"+t(i[c])]=n(i[c]),s.prototype["set"+t(i[c])]=function(t){return function(n){if(!e(n))throw TypeError(t+" must be a Number");this[t]=Number(n)}}(i[c]);for(var l=0;l<o.length;l++)s.prototype["get"+t(o[l])]=n(o[l]),s.prototype["set"+t(o[l])]=function(e){return function(t){this[e]=String(t)}}(o[l]);return s},"function"==typeof r&&r.amd?r("stackframe",[],e):"object"==typeof C?C=e():this.StackFrame=e();var T={};t=function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop());return new e({functionName:i.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")),new e({functionName:a,args:void 0===n||"[arguments not available]"===n?void 0:n.split(","),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)}}},"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],t):"object"==typeof T?T=t(C):this.ErrorStackParser=t(this.StackFrame);var k=T,I=function(e,t,n,r){var i,o,a,s;return JSON.stringify((i=r&&r.redactedKeys?r.redactedKeys:[],o=r&&r.redactedPaths?r.redactedPaths:[],a=[],s=0,function e(t,n){function r(){return n.length>8&&s>25e3}if(s++,n.length>20||r())return"...";if(null===t||"object"!=typeof t)return t;if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(a,t))return"[Circular]";if(a.push(t),"function"==typeof t.toJSON)try{s--;var u=e(t.toJSON(),n);return a.pop(),u}catch(e){return N(e)}if(t instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(t))){s--;var c=e({name:t.name,message:t.message},n);return a.pop(),c}if("[object Array]"===Object.prototype.toString.call(t)){for(var l=[],d=0,f=t.length;d<f;d++){if(r()){l.push("...");break}l.push(e(t[d],n.concat("[]")))}return a.pop(),l}var p={};try{for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v)){if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(0===t.indexOf(e[n]))return!0;return!1}(o,n.join("."))&&function(e,t){for(var n=0,r=e.length;n<r;n++)if("string"==typeof e[n]&&e[n].toLowerCase()===t.toLowerCase()||e[n]&&"function"==typeof e[n].test&&e[n].test(t))return!0;return!1}(i,v)){p[v]="[REDACTED]";continue}if(r()){p[v]="...";break}p[v]=e(function(e,t){try{return e[t]}catch(e){return N(e)}}(t,v),n.concat(v))}}catch(e){}return a.pop(),p}(e,[])),t,n)};function N(e){return"[Throws: "+(e?e.message:"?")+"]"}function O(e,t,n,r){if("string"==typeof n){void 0===r?r=null:null!==r&&"string"!=typeof r&&(r=I(r));var i=t[n];if("number"==typeof i){e[i]={name:n,variant:r};return}e.push({name:n,variant:r}),t[n]=e.length-1}}var x=function(e,t,n){var r=t[n];"number"==typeof r&&(e[r]=null,delete t[n])},R=function(e,t,n){if(u(t)){for(var r=0;r<t.length;++r){var i=t[r];null!==i&&"object"==typeof i&&O(e,n,i.name,i.variant)}return e}},A=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&"string"==typeof(e.stack||e.stacktrace||e["opera#sourceloc"])&&e.stack!==e.name+": "+e.message},P=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},D=function(e,t,n){if("string"==typeof t){if(!n){delete e[t];return}"__proto__"!==t&&"constructor"!==t&&"prototype"!==t&&e[t]&&delete e[t][n]}},L=function(e,t,n,r){var i,o;if(t){if(null===n)return D(e,t);if("object"==typeof n&&(o=n),"string"==typeof n&&((i={})[n]=r,o=i),o){if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]||(e[t]={}),e[t]=m({},e[t],o)}}},M=function(e,t,n){if("string"==typeof t){if(!n)return e[t];if(e[t])return e[t][n]}},U={};n=function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=Array(i.arguments.length),a=0;a<o.length;++a)o[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(e){break}}return n}}},"function"==typeof r&&r.amd?r("stack-generator",["stackframe"],n):"object"==typeof U?U=n(C):this.StackGenerator=n(this.StackFrame);var j=function(){function e(t,n,r,i,o){void 0===r&&(r=[]),void 0===i&&(i=V()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=o,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[q(t,n,e.__type,r)]}var t=e.prototype;return t.addMetadata=function(e,t,n){return L(this._metadata,e,t,n)},t.getMetadata=function(e,t){return M(this._metadata,e,t)},t.clearMetadata=function(e,t){return D(this._metadata,e,t)},t.addFeatureFlag=function(e,t){void 0===t&&(t=null),O(this._features,this._featuresIndex,e,t)},t.addFeatureFlags=function(e){R(this._features,e,this._featuresIndex)},t.getFeatureFlags=function(){return y(a(this._features,Boolean),function(e){var t=e.name,n=e.variant,r={featureFlag:t};return"string"==typeof n&&(r.variant=n),r})},t.clearFeatureFlag=function(e){x(this._features,this._featuresIndex,e)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{payloadVersion:"4",exceptions:y(this.errors,function(e){return m({},e,{message:e.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}},e}(),B=function(e){var t={file:e.fileName,method:H(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return!(t.lineNumber>-1)||t.file||t.method||(t.file="global code"),t},H=function(e){return/^global code$/i.test(e)?"global code":e},V=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},F=function(e){return"string"==typeof e?e:""};function q(e,t,n,r){return{errorClass:F(e),errorMessage:F(t),type:n,stacktrace:o(r,function(e,t){var n=B(t);try{if("{}"===JSON.stringify(n))return e;return e.concat(n)}catch(t){return e}},[])}}j.getStacktrace=function(e,t,n){if(A(e))return k.parse(e).slice(t);try{return a(U.backtrace(),function(e){return -1===(e.functionName||"").indexOf("StackGenerator$$")}).slice(1+n)}catch(e){return[]}},j.create=function(e,t,n,r,i,o){void 0===i&&(i=0);var a=K(e,t,r,o),s=a[0],u=a[1];try{var c=j.getStacktrace(s,u>0?1+u+i:0,1+i);l=new j(s.name,s.message,c,n,e)}catch(t){l=new j(s.name,s.message,[],n,e)}if("InvalidError"===s.name&&l.addMetadata(""+r,"non-error parameter",z(e)),s.cause){var l,d,f=y((function e(t){return t.cause?[t].concat(e(t.cause)):[t]})(s).slice(1),function(e){var t=P(e)&&A(e)?k.parse(e):[],n=K(e,!0,"error cause")[0];return"InvalidError"===n.name&&l.addMetadata("error cause",z(e)),q(n.name,n.message,j.__type,t)});(d=l.errors).push.apply(d,f)}return l};var z=function(e){return null===e?"null":void 0===e?"undefined":e},K=function(e,t,n,r){var i,o=0,a=function(e){var t="error cause"===n?"was":"received";r&&r.warn(n+" "+t+' a non-error: "'+e+'"');var i=Error(n+" "+t+' a non-error. See "'+n+'" tab for more detail.');return i.name="InvalidError",i};if(t)switch(typeof e){case"string":case"number":case"boolean":i=Error(String(e)),o+=1;break;case"function":i=a("function"),o+=2;break;case"object":null!==e&&P(e)?i=e:null!==e&&$(e)?((i=Error(e.message||e.errorMessage)).name=e.name||e.errorClass,o+=1):(i=a(null===e?"null":"unsupported object"),o+=2);break;default:i=a("nothing"),o+=2}else P(e)?i=e:(i=a(typeof e),o+=2);if(!A(i))try{throw i}catch(e){A(e)&&(i=e,o=1)}return[i,o]};j.__type="browserjs";var $=function(e){return("string"==typeof e.name||"string"==typeof e.errorClass)&&("string"==typeof e.message||"string"==typeof e.errorMessage)},G=function(e,t,n){var r=0,i=function(){if(r>=e.length)return n(null,!0);t(e[r],function(e,t){return e?n(e):!1===t?n(null,!1):void(r++,i())})};i()},Y=function(e,t,n,r){G(e,function(e,r){if("function"!=typeof e)return r(null);try{if(2!==e.length){var i=e(t);if(i&&"function"==typeof i.then)return i.then(function(e){return setTimeout(function(){return r(null,e)})},function(e){setTimeout(function(){return n(e),r(null,!0)})});return r(null,i)}e(t,function(e,t){if(e)return n(e),r(null);r(null,t)})}catch(e){n(e),r(null)}},r)},X=function(e,t,n,r){for(var i=!1,o=e.slice();!i&&o.length;)try{i=!1===o.pop()(t)}catch(e){r.error("Error occurred in "+n+" callback, continuing anyway"),r.error(e)}return i},J=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},W="object"==typeof window?window:self,Q=0;for(var Z in W)Object.hasOwnProperty.call(W,Z)&&Q++;var ee=J(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+Q.toString(36),4),et=function(){return ee},en=0;function er(){return J((1679616*Math.random()<<0).toString(36),4)}function ei(){return"c"+new Date().getTime().toString(36)+J((en=en<1679616?en:0,++en-1).toString(36),4)+et()+(er()+er())}ei.fingerprint=et;var eo=function(){function e(){this.id=ei(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),ea=function(){},es=function(){function e(t,n,r,i){var o=this;void 0===n&&(n=h.schema),void 0===r&&(r=[]),this._notifier=i,this._config={},this._schema=n,this._delivery={sendSession:ea,sendEvent:ea},this._logger={debug:ea,info:ea,warn:ea,error:ea},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=j,this.Breadcrumb=E,this.Session=eo,this._config=this._configure(t,r),y(r.concat(this._config.plugins),function(e){e&&o._loadPlugin(e)}),this._depth=1;var a=this,s=this.notify;this.notify=function(){return s.apply(a,arguments)}}var t=e.prototype;return t.addMetadata=function(e,t,n){return L(this._metadata,e,t,n)},t.getMetadata=function(e,t){return M(this._metadata,e,t)},t.clearMetadata=function(e,t){return D(this._metadata,e,t)},t.addFeatureFlag=function(e,t){void 0===t&&(t=null),O(this._features,this._featuresIndex,e,t)},t.addFeatureFlags=function(e){R(this._features,e,this._featuresIndex)},t.clearFeatureFlag=function(e){x(this._features,this._featuresIndex,e)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getContext=function(){return this._context},t.setContext=function(e){this._context=e},t._configure=function(e,t){var n=o(t,function(e,t){return t&&t.configSchema?m({},e,t.configSchema):e},this._schema),r=o(d(n),function(t,r){var i=n[r].defaultValue(e[r]);return void 0!==e[r]?n[r].validate(e[r])?n[r].allowPartialObject?t.config[r]=m(i,e[r]):t.config[r]=e[r]:(t.errors[r]=n[r].message,t.config[r]=i):t.config[r]=i,t},{errors:{},config:{}}),i=r.errors,a=r.config;if(n.apiKey){if(!a.apiKey)throw Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(a.apiKey)||(i.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=m({},a.metadata),R(this._features,a.featureFlags,this._featuresIndex),this._user=m({},a.user),this._context=a.context,a.logger&&(this._logger=a.logger),a.onError&&(this._cbs.e=this._cbs.e.concat(a.onError)),a.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(a.onBreadcrumb)),a.onSession&&(this._cbs.s=this._cbs.s.concat(a.onSession)),d(i).length&&this._logger.warn(eu(i,e)),a},t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t._loadPlugin=function(e){var t=e.load(this);return e.name&&(this._plugins["~"+e.name+"~"]=t),this},t.getPlugin=function(e){return this._plugins["~"+e+"~"]},t._setDelivery=function(e){this._delivery=e(this)},t.startSession=function(){var e=new eo;return(e.app.releaseStage=this._config.releaseStage,e.app.version=this._config.appVersion,e.app.type=this._config.appType,e._user=m({},this._user),X(this._cbs.s,e,"onSession",this._logger))?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,e)},t.addOnError=function(e,t){void 0===t&&(t=!1),this._cbs.e[t?"unshift":"push"](e)},t.removeOnError=function(e){this._cbs.e=a(this._cbs.e,function(t){return t!==e})},t._addOnSessionPayload=function(e){this._cbs.sp.push(e)},t.addOnSession=function(e){this._cbs.s.push(e)},t.removeOnSession=function(e){this._cbs.s=a(this._cbs.s,function(t){return t!==e})},t.addOnBreadcrumb=function(e,t){void 0===t&&(t=!1),this._cbs.b[t?"unshift":"push"](e)},t.removeOnBreadcrumb=function(e){this._cbs.b=a(this._cbs.b,function(t){return t!==e})},t.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},t.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},t.leaveBreadcrumb=function(e,t,n){if(e="string"==typeof e?e:"",n="string"==typeof n&&s(i,n)?n:"manual",t="object"==typeof t&&null!==t?t:{},e){var r=new E(e,t,n);if(X(this._cbs.b,r,"onBreadcrumb",this._logger)){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(r),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},t._isBreadcrumbTypeEnabled=function(e){var t=this._config.enabledBreadcrumbTypes;return null===t||s(t,e)},t.notify=function(e,t,n){void 0===n&&(n=ea);var r=j.create(e,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,t,n)},t._notify=function(t,n,r){var i=this;if(void 0===r&&(r=ea),t.app=m({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=m({},t._metadata,this._metadata),t._user=m({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),R(t._features,this._features,t._featuresIndex),null!==this._config.enabledReleaseStages&&!s(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),r(null,t);var o=t.severity,a=function(e){i._logger.error("Error occurred in onError callback, continuing anyway"),i._logger.error(e)};Y([].concat(this._cbs.e).concat(n),t,a,function(n,s){if(n&&a(n),!s)return i._logger.debug("Event not sent due to onError callback"),r(null,t);i._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(i,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),o!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),i._session&&(i._session._track(t),t._session=i._session),i._delivery.sendEvent({apiKey:t.apiKey||i._config.apiKey,notifier:i._notifier,events:[t]},function(e){return r(e,t)})})},e}(),eu=function(e,t){return Error("Invalid configuration\n"+y(d(e),function(n){return"  - "+n+" "+e[n]+", got "+ec(t[n])}).join("\n\n"))},ec=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},el={},ed=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];el.event=function(e,t){var n=I(e,null,null,{redactedPaths:ed,redactedKeys:t});return n.length>1e6&&(e.events[0]._metadata={notifier:"WARNING!\nSerialized payload was "+n.length/1e6+"MB (limit = 1MB)\nmetadata was removed"},n=I(e,null,null,{redactedPaths:ed,redactedKeys:t})),n},el.session=function(e,t){return I(e,null,null)};var ef={},ep=function(e,t,n,r){var i=JSON.parse(JSON.stringify(new Date));return ev(e.endpoints[t],r.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(i)},ev=(ef=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});var i=ep(e._config,"notify","4",t),o=el.event(n,e._config.redactedKeys),a=new t.XDomainRequest;a.onload=function(){r(null)},a.onerror=function(){var t=Error("Event failed to send");e._logger.error("Event failed to send",t),o.length>1e6&&e._logger.warn("Event oversized ("+(o.length/1e6).toFixed(2)+" MB)"),r(t)},a.open("POST",i),setTimeout(function(){try{a.send(o)}catch(t){e._logger.error(t),r(t)}},0)},sendSession:function(n,r){void 0===r&&(r=function(){});var i=ep(e._config,"sessions","1",t),o=new t.XDomainRequest;o.onload=function(){r(null)},o.open("POST",i),setTimeout(function(){try{o.send(el.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}},0)}}})._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},eh=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.notify,o=new t.XMLHttpRequest,a=el.event(n,e._config.redactedKeys);o.onreadystatechange=function(){if(o.readyState===t.XMLHttpRequest.DONE){var n=o.status;if(0===n||n>=400){var i=Error("Request failed with status "+n);e._logger.error("Event failed to send",i),a.length>1e6&&e._logger.warn("Event oversized ("+(a.length/1e6).toFixed(2)+" MB)"),r(i)}else r(null)}},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","4"),o.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),o.send(a)}catch(t){e._logger.error(t)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.sessions,o=new t.XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===t.XMLHttpRequest.DONE){var n=o.status;if(0===n||n>=400){var i=Error("Request failed with status "+n);e._logger.error("Session failed to send",i),r(i)}else r(null)}},o.open("POST",i),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),o.setRequestHeader("Bugsnag-Payload-Version","1"),o.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),o.send(el.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t)}}}},eg=new Date,em=function(){eg=new Date},ey={name:"appDuration",load:function(e){return e.addOnError(function(e){var t=new Date;e.app.duration=t-eg},!0),{reset:em}}},eb=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},eS="object"==typeof window?window:self,ew=0;for(var e_ in eS)Object.hasOwnProperty.call(eS,e_)&&ew++;var eE=eb(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+ew.toString(36),4),eC=function(){return eE},eT=0;function ek(){return eb((1679616*Math.random()<<0).toString(36),4)}function eI(){return"c"+new Date().getTime().toString(36)+eb((eT=eT<1679616?eT:0,++eT-1).toString(36),4)+eC()+(ek()+ek())}eI.fingerprint=eC;var eN="bugsnag-anonymous-id",eO=function(e){try{var t=e.localStorage,n=t.getItem(eN);if(n&&/^c[a-z0-9]{20,32}$/.test(n))return n;return n=eI(),t.setItem(eN,n),n}catch(e){}},ex=function(e){var t=e.getUser();t&&t.id||e.setUser(e.device.id)},eR={load:function(e){e._sessionDelegate=eA}},eA={startSession:function(e,t){return(e._session=t,e._pausedSession=null,null===e._config.enabledReleaseStages||s(e._config.enabledReleaseStages,e._config.releaseStage))?e._delivery.sendSession({notifier:e._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}):e._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),e},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},eP={load:function(e){e._config.collectUserIp||e.addOnError(function(e){e._user&&void 0===e._user.id&&delete e._user.id,e._user=m({id:"[REDACTED]"},e._user),e.request=m({clientIp:"[REDACTED]"},e.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},eD={};eD.load=function(e){!/^(local-)?dev(elopment)?$/.test(e._config.releaseStage)&&e._isBreadcrumbTypeEnabled("log")&&y(eL,function(t){var n=console[t];console[t]=function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];e.leaveBreadcrumb("Console output",o(i,function(e,t,n){var r="[Unknown value]";try{r=String(t)}catch(e){}if("[object Object]"===r)try{r=JSON.stringify(t)}catch(e){}return e["["+n+"]"]=r,e},{severity:0===t.indexOf("group")?"log":t}),"log"),n.apply(console,i)},console[t]._restore=function(){console[t]=n}})};var eL=a(["log","debug","info","warn","error"],function(e){return"undefined"!=typeof console&&"function"==typeof console[e]});function eM(e,t,n){var r=e[t];if(!r)return r;var i=n(r);return e[t]=i,r}function eU(e){var t=!!e[1]&&"function"==typeof e[1].handleEvent;return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var ej=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/,eB={};eB=function(e){return void 0===e&&(e=window),{load:function(t){if("addEventListener"in e&&t._isBreadcrumbTypeEnabled("navigation")){var n=function(e){return function(){return t.leaveBreadcrumb(e,{},"navigation")}};e.addEventListener("pagehide",n("Page hidden"),!0),e.addEventListener("pageshow",n("Page shown"),!0),e.addEventListener("load",n("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",n("Navigated back"),!0)}),e.addEventListener("hashchange",function(n){var r=n.oldURL?{from:eH(n.oldURL,e),to:eH(n.newURL,e),state:eq(e)}:{to:eH(e.location.href,e)};t.leaveBreadcrumb("Hash changed",r,"navigation")},!0),e.history.replaceState&&eF(t,e.history,"replaceState",e),e.history.pushState&&eF(t,e.history,"pushState",e)}}}};var eH=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},eV=function(e,t,n,r){var i=eH(e.location.href,e);return{title:n,state:t,prevState:eq(e),to:r||i,from:i}},eF=function(e,t,n,r){var i=t[n];t[n]=function(o,a,s){e.leaveBreadcrumb("History "+n,eV(r,o,a,s),"navigation"),"function"==typeof e.resetEventCount&&e.resetEventCount(),e._config.autoTrackSessions&&e.startSession(),i.apply(t,[o,a].concat(void 0!==s?s:[]))}},eq=function(e){try{return e.history.state}catch(e){}},ez="request",eK={load:function(e){var t=0;e.addOnError(function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++}),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer 100",validate:function(e){return f(1,100)(e)}}}},e$={},eG=(e$={load:function(e){e.addOnError(function(e){y(o(e.errors,function(e,t){return e.concat(t.stacktrace)},[]),function(e){e.file=eG(e.file)})})}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},eY=function(e,t,n,r){e[0]||e.push({});var i=e[0];i.file||"string"!=typeof t||(i.file=t),!i.lineNumber&&eX(n)&&(i.lineNumber=n),!i.columnNumber&&(eX(r)?i.columnNumber=r:window.event&&eX(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},eX=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},eJ={},eW=m({},h.schema,w),eQ={_client:null,createClient:function(e){"string"==typeof e&&(e={apiKey:e}),e||(e={});var t,n,r,i,u,c,l,d,f,p,v,h,g=new es(e,eW,[ey,(void 0===t&&(t=navigator),void 0===n&&(n=window),{load:function(e){var r={locale:t.browserLanguage||t.systemLanguage||t.userLanguage||t.language,userAgent:t.userAgent};n&&n.screen&&n.screen.orientation&&n.screen.orientation.type?r.orientation=n.screen.orientation.type:n&&n.document&&(r.orientation=n.document.documentElement.clientWidth>n.document.documentElement.clientHeight?"landscape":"portrait"),e._config.generateAnonymousId&&(r.id=eO(n)),e.addOnSession(function(t){t.device=m({},t.device,r),e._config.collectUserIp||ex(t)}),e.addOnError(function(t){t.device=m({},t.device,r,{time:new Date}),e._config.collectUserIp||ex(t)},!0)},configSchema:{generateAnonymousId:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}),(void 0===r&&(r=window),{load:function(e){e.addOnError(function(e){void 0===e.context&&(e.context=r.location.pathname)},!0)}}),(void 0===i&&(i=window),{load:function(e){e.addOnError(function(e){e.request&&e.request.url||(e.request=m({},e.request,{url:i.location.href}))},!0)}}),eK,eR,eP,e$,(void 0===u&&(u=window),void 0===c&&(c="window onerror"),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledExceptions){var t=u.onerror;u.onerror=function(n,r,i,o,a){if(0===i&&/Script error\.?/.test(n))e._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var s,u={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(a)eY((s=e.Event.create(a,!0,u,c,1)).errors[0].stacktrace,r,i,o);else if("object"!=typeof n||null===n||r&&"string"==typeof r||i||o||a)eY((s=e.Event.create(n,!0,u,c,1)).errors[0].stacktrace,r,i,o);else{var l=n.type?"Event: "+n.type:"Error",d=n.message||n.detail||"";(s=e.Event.create({name:l,message:d},!0,u,c,1)).originalError=n,s.addMetadata(c,{event:n,extraParameters:r})}e._notify(s)}"function"==typeof t&&t.apply(this,arguments)}}}}),(void 0===l&&(l=window),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledRejections){var t=function(t){var n,r=t.reason,i=!1;try{t.detail&&t.detail.reason&&(r=t.detail.reason,i=!0)}catch(e){}var o=e.Event.create(r,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,e._logger);i&&y(o.errors[0].stacktrace,(n=r,function(e){e.file!==n.toString()&&e.method&&(e.method=e.method.replace(/^\s+/,""))})),e._notify(o,function(e){if(P(e.originalError)&&!e.originalError.stack){var t;e.addMetadata("unhandledRejection handler",((t={})[Object.prototype.toString.call(e.originalError)]={name:e.originalError.name,message:e.originalError.message,code:e.originalError.code},t))}})};"addEventListener"in l?l.addEventListener("unhandledrejection",t):l.onunhandledrejection=function(e,n){t({detail:{reason:e,promise:n}})}}}}),eB(),(void 0===d&&(d=window),{load:function(e){"addEventListener"in d&&e._isBreadcrumbTypeEnabled("user")&&d.addEventListener("click",function(t){var n,r,i,o;try{(o=(i=t.target).textContent||i.innerText||"")||"submit"!==i.type&&"button"!==i.type||(o=i.value),n=(o=o.replace(ej,"$1")).length>140?o.slice(0,135)+"(...)":o,r=function e(t,n){var r=[t.tagName];if(t.id&&r.push("#"+t.id),t.className&&t.className.length&&r.push("."+t.className.split(" ").join(".")),!n.document.querySelectorAll||!Array.prototype.indexOf)return r.join("");try{if(1===n.document.querySelectorAll(r.join("")).length)return r.join("")}catch(e){return r.join("")}if(t.parentNode.childNodes.length>1){var i=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1;r.push(":nth-child("+i+")")}return 1===n.document.querySelectorAll(r.join("")).length?r.join(""):t.parentNode?e(t.parentNode,n)+" > "+r.join(""):r.join("")}(t.target,d)}catch(t){n="[hidden]",r="[hidden]",e._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}e.leaveBreadcrumb("UI click",{targetText:n,targetSelector:r},"user")},!0)}}),(void 0===f&&(f=[]),void 0===p&&(p=window),{load:function(e){if(e._isBreadcrumbTypeEnabled("request")){var t=[e._config.endpoints.notify,e._config.endpoints.sessions].concat(f);(function(){if("addEventListener"in p.XMLHttpRequest.prototype){var n=p.XMLHttpRequest.prototype.open;p.XMLHttpRequest.prototype.open=function(r,i){var o=this;this.addEventListener("load",function(){return function(n,r,i){if(void 0===r){e._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!("string"==typeof r&&s(t,r.replace(/\?.*$/,"")))){var o={status:i,request:n+" "+r};i>=400?e.leaveBreadcrumb("XMLHttpRequest failed",o,ez):e.leaveBreadcrumb("XMLHttpRequest succeeded",o,ez)}}(r,i,o.status)}),this.addEventListener("error",function(){return function(n,r){if(void 0===r){e._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}"string"==typeof r&&s(t,r.replace(/\?.*$/,""))||e.leaveBreadcrumb("XMLHttpRequest error",{request:n+" "+r},ez)}(r,i)}),n.apply(this,arguments)}}})(),function(){if("fetch"in p&&!p.fetch.polyfill){var e=p.fetch;p.fetch=function(){var t,i=arguments,o=arguments[0],a=arguments[1],s=null;return o&&"object"==typeof o?(s=o.url,a&&"method"in a?t=a.method:o&&"method"in o&&(t=o.method)):(s=o,a&&"method"in a&&(t=a.method)),void 0===t&&(t="GET"),new Promise(function(o,a){e.apply(void 0,i).then(function(e){n(e,t,s),o(e)}).catch(function(e){r(t,s),a(e)})})}}}();var n=function(t,n,r){var i={status:t.status,request:n+" "+r};t.status>=400?e.leaveBreadcrumb("fetch() failed",i,ez):e.leaveBreadcrumb("fetch() succeeded",i,ez)},r=function(t,n){e.leaveBreadcrumb("fetch() error",{request:t+" "+n},ez)}}}}),eD,(void 0===v&&(v=document),void 0===h&&(h=window),{load:function(e){if(e._config.trackInlineScripts){var t=h.location.href,n="",r=v.attachEvent?"complete"===v.readyState:"loading"!==v.readyState,i=function(){return v.documentElement.outerHTML};n=i();var s=v.onreadystatechange;v.onreadystatechange=function(){"interactive"===v.readyState&&(n=i(),r=!0);try{s.apply(this,arguments)}catch(e){}};var u=null,c=function(e){u=e},l=function(){var e=v.currentScript||u;if(!e&&!r){var t=v.scripts||v.getElementsByTagName("script");e=t[t.length-1]}return e},d=function(e){r&&n||(n=i());var t=["<!-- DOC START -->"].concat(n.split("\n")),a=e-1,s=Math.max(a-3,0),u=Math.min(a+3,t.length);return o(t.slice(s,u),function(e,t,n){return e[s+1+n]=t.length<=200?t:t.substr(0,200),e},{})};e.addOnError(function(e){e.errors[0].stacktrace=a(e.errors[0].stacktrace,function(e){return!/__trace__$/.test(e.method)});var n=e.errors[0].stacktrace[0],r=function(e){return e.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!n||!n.file||r(n.file)===r(t)){var i=l();if(i){var o=i.innerHTML;e.addMetadata("script","content",o.length<=5e5?o:o.substr(0,5e5)),n&&n.lineNumber&&(n.code=d(n.lineNumber))}}},!0);var f=y(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(e){return eM(h,e,function(e){return p(e,function(e){return{get:function(){return e[0]},replace:function(t){e[0]=t}}})})})[0];y(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(e){h[e]&&h[e].prototype&&Object.prototype.hasOwnProperty.call(h[e].prototype,"addEventListener")&&(eM(h[e].prototype,"addEventListener",function(e){return p(e,eU)}),eM(h[e].prototype,"removeEventListener",function(e){return p(e,eU,!0)}))})}function p(e,t,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var i=t(r),o=i.get();if(n&&e.apply(this,r),"function"!=typeof o)return e.apply(this,r);if(o.__trace__)i.replace(o.__trace__);else{var a=l();o.__trace__=function(){c(a),f(function(){c(null)},0);var e=o.apply(this,arguments);return c(null),e},o.__trace__.__trace__=o.__trace__,i.replace(o.__trace__)}}catch(e){}if(e.apply)return e.apply(this,r);switch(r.length){case 1:return e(r[0]);case 2:return e(r[0],r[1]);default:return e()}}}},configSchema:{trackInlineScripts:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}})],{name:"Bugsnag JavaScript",version:"7.22.7",url:"https://github.com/bugsnag/bugsnag-js"});return g._setDelivery(window.XDomainRequest?ef:eh),g._logger.debug("Loaded!"),g.leaveBreadcrumb("Bugsnag loaded",{},"state"),g._config.autoTrackSessions?g.startSession():g},start:function(e){return eQ._client?eQ._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."):eQ._client=eQ.createClient(e),eQ._client},isStarted:function(){return null!=eQ._client}};return y(["resetEventCount"].concat(d(es.prototype)),function(e){/^_/.test(e)||(eQ[e]=function(){if(!eQ._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");eQ._client._depth+=1;var t=eQ._client[e].apply(eQ._client,arguments);return eQ._client._depth-=1,t})}),(eJ=eQ).Client=es,eJ.Event=j,eJ.Session=eo,eJ.Breadcrumb=E,eJ.default=eQ,eJ},e.exports=t()},99895:(e,t,n)=>{e.exports=n(58463)},38900:e=>{var t;t=function(){var e={};function t(){return(t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}e=function(){function e(){var e="undefined"!=typeof window&&window.React;if(this.name="react",this.lazy=0==arguments.length&&!e,!this.lazy&&(this.React=(arguments.length<=0?void 0:arguments[0])||e,!this.React))throw Error("@bugsnag/plugin-react reference to `React` was undefined")}return e.prototype.load=function(e){if(!this.lazy){var t=i(this.React,e);return t.createErrorBoundary=function(){return t},t}var n=function(){throw Error("@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:\nPass React to the plugin constructor\n\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })`\nand then call `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()`\n\nOr if React is not available until after Bugsnag has started,\nconstruct the plugin with no arguments\n  `Bugsnag.start({ plugins: [new BugsnagPluginReact()] })`,\nthen pass in React when available to construct your error boundary\n  `const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)`")};return n.createErrorBoundary=function(t){if(!t)throw Error("@bugsnag/plugin-react reference to `React` was undefined");return i(t,e)},n},e}();var r=function(e){for(var t=e.split(/\s*\n\s*/g),n="",r=0,i=t.length;r<i;r++)t[r].length&&(n+=(n.length?"\n":"")+t[r]);return n},i=function(e,i){return function(o){function a(e){var t;return(t=o.call(this,e)||this).state={error:null,info:null},t.handleClearError=t.handleClearError.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)),t}a.prototype=Object.create(o.prototype),a.prototype.constructor=a,n(a,o);var s=a.prototype;return s.handleClearError=function(){this.setState({error:null,info:null})},s.componentDidCatch=function(e,t){var n=this.props.onError,o=i.Event.create(e,!0,{severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},1);t&&t.componentStack&&(t.componentStack=r(t.componentStack)),o.addMetadata("react",t),i._notify(o,n),this.setState({error:e,info:t})},s.render=function(){if(this.state.error){var n=this.props.FallbackComponent;return n?e.createElement(n,t({},this.state,{clearError:this.handleClearError})):null}return this.props.children},a}(e.Component)};return e.formatComponentStack=r,e.default=e,e},e.exports=t()},52062:(e,t,n)=>{"use strict";n.d(t,{L:()=>rg});var r,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,S,w,_,E,C={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},T=console,k={};Object.keys(C).forEach(function(e){k[e]=T[e]});var I="Datadog Browser SDK:",N={debug:k.debug.bind(T,I),log:k.log.bind(T,I),info:k.info.bind(T,I),warn:k.warn.bind(T,I),error:k.error.bind(T,I)},O="https://docs.datadoghq.com";function x(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){N.error(t,e)}}}var R=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},A=!1;function P(e){A=e}function D(e){return function(){return L(e,this,arguments)}}function L(e,t,n){try{return e.apply(t,n)}catch(e){if(M(e),r)try{r(e)}catch(e){M(e)}}}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];A&&N.error.apply(N,R(["[MONITOR]"],e,!1))}function U(e,t){return -1!==e.indexOf(t)}function j(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(e){return t.push(e)});else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function B(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}function H(e){return Object.keys(e).map(function(t){return e[t]})}function V(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function F(e,t){return e.slice(0,t.length)===t}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function z(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&("object"==typeof self?e=self:e="object"==typeof window?window:{}),e}var K=/[^\u0000-\u007F]/;function $(e){return K.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function G(e,t){var n,r=z();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function Y(e,t){return G(z(),"setTimeout")(D(e),t)}function X(e){G(z(),"clearTimeout")(e)}function J(e,t){return G(z(),"setInterval")(D(e),t)}function W(e){G(z(),"clearInterval")(e)}function Q(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];if(s){r=n;return}o?e.apply(void 0,n):r=n,s=!0,i=Y(function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0},t)},cancel:function(){X(i),s=!1,r=void 0}}}function Z(){}function ee(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=et(Object.prototype),i=et(Array.prototype),o=et(Object.getPrototypeOf(e)),a=et(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),o(),a()}}function et(e){var t=e.toJSON;return t?(delete e.toJSON,function(){e.toJSON=t}):Z}function en(e){return q({},e)}function er(e,t){return Object.keys(e).some(function(n){return e[n]===t})}function ei(e){return 0===Object.keys(e).length}function eo(e){var t=0,n=Q(function(n){t=$(ee(n)),e()},200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){ei(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function ea(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function es(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=es(i[o],t[o],n);return i}var a="object"===ea(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=es(a[s],t[s],n));return a}}function eu(e){return es(void 0,e)}function ec(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];null!=i&&(e=es(e,i))}return e}function el(e,t){void 0===t&&(t=225280);var n,r=et(Object.prototype),i=et(Array.prototype),o=[],a=new WeakMap,s=ed(e,"$",void 0,o,a),u=(null===(n=JSON.stringify(s))||void 0===n?void 0:n.length)||0;if(u>t){ef(t,"discarded",e);return}for(;o.length>0&&u<t;){var c=o.shift(),l=0;if(Array.isArray(c.source))for(var d=0;d<c.source.length;d++){var f=ed(c.source[d],c.path,d,o,a);if(void 0!==f?u+=JSON.stringify(f).length:u+=4,u+=l,l=1,u>t){ef(t,"truncated",e);break}c.target[d]=f}else for(var d in c.source)if(Object.prototype.hasOwnProperty.call(c.source,d)){var f=ed(c.source[d],c.path,d,o,a);if(void 0!==f&&(u+=JSON.stringify(f).length+l+d.length+3,l=1),u>t){ef(t,"truncated",e);break}c.target[d]=f}}return r(),i(),s}function ed(e,t,n,r,i){var o=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!o||"object"!=typeof o)return"bigint"==typeof o?"[BigInt] ".concat(o.toString()):"function"==typeof o?"[Function] ".concat(o.name||"unknown"):"symbol"==typeof o?"[Symbol] ".concat(o.description||o.toString()):o;var a=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(e){}return"[Unserializable]"}(o);if("[Object]"!==a&&"[Array]"!==a&&"[Error]"!==a)return a;if(i.has(e))return"[Reference seen at ".concat(i.get(e),"]");var s=void 0!==n?"".concat(t,".").concat(n):t,u=Array.isArray(o)?[]:{};return i.set(e,s),r.push({source:o,target:u,path:s}),u}function ef(e,t,n){N.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var ep=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter(function(t){return e!==t}),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},e}();function ev(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ep(function(t){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}})}function eh(e){var t={},n=new ep,r={getContext:function(){return eu(t)},setContext:function(i){"object"===ea(i)?(t=el(i),e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,i){t[r]=el(i),e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],e.updateCustomerData(t),n.notify()},clearContext:function(){t={},e.resetCustomerData(),n.notify()},changeObservable:n};return r}var eg={GRANTED:"granted",NOT_GRANTED:"not-granted"};!function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.CUSTOM_VITALS="custom_vitals",e.TOLERANT_RESOURCE_TIMINGS="tolerant_resource_timings",e.MICRO_FRONTEND="micro_frontend"}(i||(i={}));var em=new Set;function ey(e){return em.has(e)}function eb(e){return 0!==e&&100*Math.random()<=e}function eS(e,t){return+e.toFixed(t)}function ew(e){return e_(e)&&e>=0&&e<=100}function e_(e){return"number"==typeof e}function eE(e){var t;return{relative:e,timeStamp:(t=ek()-performance.now())>ex()?Math.round(t+e):Math.round(ex()+e)}}function eC(e){return{relative:e-ex(),timeStamp:e}}function eT(e){return e_(e)?eS(1e6*e,0):e}function ek(){return new Date().getTime()}function eI(){return performance.now()}function eN(){return{relative:eI(),timeStamp:ek()}}function eO(){return{relative:0,timeStamp:ex()}}function ex(){return void 0===o&&(o=performance.timing.navigationStart),o}function eR(e){var t=[],n=eH(e,"stack"),r=String(e);return n&&F(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach(function(e){var n=function(e){var t=eD.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=eL.exec(t[2]);return r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=eM.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=eU.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){var t=ej.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=eB.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func="?"),t.push(n))}),{message:eH(e,"message"),name:eH(e,"name"),stack:t}}var eA="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",eP="(?::(\\d+))",eD=RegExp("^\\s*at (.*?) ?\\(".concat(eA).concat(eP,"?").concat(eP,"?\\)?\\s*$"),"i"),eL=new RegExp("\\((\\S*)".concat(eP).concat(eP,"\\)")),eM=RegExp("^\\s*at ?".concat(eA).concat(eP,"?").concat(eP,"??\\s*$"),"i"),eU=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ej=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,eB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function eH(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var eV=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function eF(){var e,t=Error();if(!t.stack)try{throw t}catch(e){}return L(function(){var n=eR(t);n.stack=n.stack.slice(2),e=eq(n)}),e}function eq(e){var t=ez(e);return e.stack.forEach(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)}),t}function ez(e){return"".concat(e.name||"Error",": ").concat(e.message)}var eK="No stack, consider using an instance of Error";function e$(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,i=e.startClocks,o=e.nonErrorPrefix,a=e.source,s=e.handling,u=n instanceof Error,c=(null==t?void 0:t.message)&&(null==t?void 0:t.name)?t.message:u?"Empty message":"".concat(o," ").concat(ee(el(n))),l=void 0!==t&&(u||t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url))?eq(t):eK,d=u?eY(n,a):void 0,f=null==t?void 0:t.name,p=eG(n);return{startClocks:i,source:a,handling:s,handlingStack:r,originalError:n,type:f,message:c,stack:l,causes:d,fingerprint:p}}function eG(e){return e instanceof Error&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function eY(e,t){for(var n=e,r=[];(null==n?void 0:n.cause)instanceof Error&&r.length<10;){var i=eR(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&eq(i)}),n=n.cause}return r.length?r:void 0}var eX="datad0g.com",eJ="datadoghq.com",eW="pci.browser-intake-datadoghq.com";function eQ(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function eZ(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}function e0(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var e1=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.remove=function(e){e0(this.buffer,e)},e.prototype.drain=function(e){this.buffer.forEach(function(t){return t(e)}),this.buffer.length=0},e}(),e2={log:"log",configuration:"configuration",usage:"usage"},e3=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],e4=["ddog-gov.com"],e6=new e1,e5=function(e){e6.add(function(){return e5(e)})};function e8(e,t){M(C.debug,e,t),e5(q({type:e2.log,message:e,status:"debug"},t))}function e9(e,t){e5(q({type:e2.log,status:"error"},function(e){if(e instanceof Error){var t=eR(e);return{error:{kind:t.name,stack:eq((t.stack=t.stack.filter(function(e){return!e.url||e3.some(function(t){return F(e.url,t)})}),t))},message:t.message}}return{error:{stack:eK},message:"".concat("Uncaught"," ").concat(ee(e))}}(e),t))}function e7(e){e5({type:e2.usage,usage:e})}function te(e,t,n,r,i){return tt(e,t,[n],r,i)}function tt(e,t,n,r,i){var o=void 0===i?{}:i,a=o.once,s=o.capture,u=o.passive,c=D(function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&f(),r(t))}),l=u?{capture:s,passive:u}:s,d=G(t,"addEventListener");function f(){var e=G(t,"removeEventListener");n.forEach(function(n){return e.call(t,n,c,l)})}return n.forEach(function(e){return d.call(t,e,c,l)}),{stop:f}}!function(e){e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.DBL_CLICK="dblclick",e.KEY_DOWN="keydown",e.LOAD="load",e.POP_STATE="popstate",e.SCROLL="scroll",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.TOUCH_MOVE="touchmove",e.VISIBILITY_CHANGE="visibilitychange",e.PAGE_SHOW="pageshow",e.FREEZE="freeze",e.RESUME="resume",e.DOM_CONTENT_LOADED="DOMContentLoaded",e.POINTER_DOWN="pointerdown",e.POINTER_UP="pointerup",e.POINTER_CANCEL="pointercancel",e.HASH_CHANGE="hashchange",e.PAGE_HIDE="pagehide",e.MOUSE_DOWN="mousedown",e.MOUSE_UP="mouseup",e.MOUSE_MOVE="mousemove",e.FOCUS="focus",e.BLUR="blur",e.CONTEXT_MENU="contextmenu",e.RESIZE="resize",e.CHANGE="change",e.INPUT="input",e.PLAY="play",e.PAUSE="pause",e.SECURITY_POLICY_VIOLATION="securitypolicyviolation",e.SELECTION_CHANGE="selectionchange",e.STORAGE="storage"}(a||(a={}));var tn=[];function tr(e,t,n,r){var i="".concat("_dd_c","_").concat(n,"_").concat(r);function o(){var e=localStorage.getItem(i);return null!==e?JSON.parse(e):{}}tn.push(te(e,window,a.STORAGE,function(e){i===e.key&&t.setContext(o())})),t.changeObservable.subscribe(function(){localStorage.setItem(i,JSON.stringify(t.getContext()))}),t.setContext(ec(o(),t.getContext()))}function ti(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var i=$(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function to(e){var t=q({},e);return["id","name","email"].forEach(function(e){e in t&&(t[e]=String(t[e]))}),t}function ta(e,t){t.silentMultipleInit||N.error("".concat(e," is already initialized."))}function ts(){var e=z().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){e.send(JSON.stringify({eventType:t,event:n,view:r?{id:r}:void 0}))}}}function tu(e){void 0===e&&(e=null===(t=z().location)||void 0===t?void 0:t.hostname);var t,n=ts();return!!n&&n.getAllowedWebViewHosts().some(function(t){var n,r;return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r)})}function tc(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,tc)}var tl=/([\w-]+)\s*=\s*([^;]+)/g;function td(e,t){for(tl.lastIndex=0;;){var n=tl.exec(e);if(n){if(n[1]===t)return n[2]}else break}}function tf(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function tp(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u).concat(c)}function tv(e){return td(document.cookie,e)}function th(e){return s||(s=function(e){var t=new Map;for(tl.lastIndex=0;;){var n=tl.exec(e);if(n)t.set(n[1],n[2]);else break}return t}(document.cookie)),s.get(e)}function tg(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||th("datadog-synthetics-injects-rum"))}function tm(){var e,t,n;return null!=c?c:(void 0===e&&(e=window),n=e.navigator.userAgent,c=e.chrome||/HeadlessChrome/.test(n)?1:(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))===0||/safari/i.test(n)&&!/chrome|android/i.test(n)?2:e.document.documentMode?0:3)}var ty="_dd_s",tb=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function tS(){return{isExpired:"1"}}function tw(e){return void 0!==e.isExpired||!((void 0===e.created||ek()-Number(e.created)<144e5)&&(void 0===e.expire||ek()<Number(e.expire)))}function t_(e){e.expire=String(ek()+9e5)}function tE(e){return V(e).map(function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)}).join("&")}function tC(e){var t={};return e&&(-1!==e.indexOf("&")||tb.test(e))&&e.split("&").forEach(function(e){var n=tb.exec(e);if(null!==n){var r=n[1],i=n[2];t[r]=i}}),t}function tT(){return tC(tv(ty))}function tk(e){localStorage.setItem(ty,tE(e))}function tI(){return tC(localStorage.getItem(ty))}function tN(){tk(tS())}var tO=[];function tx(e,t,n){void 0===n&&(n=0);var r,i,o=t.isLockEnabled,a=t.persistSession,s=t.expireSession,u=function(e){return a(q({},e,{lock:i}))},c=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(l||(l=e),e!==l){tO.push(e);return}if(o&&n>=100){tA(t);return}var d=c();if(o&&(d.lock||(i=tc(),u(d.session),(d=c()).lock!==i))){tR(e,t,n);return}var f=e.process(d.session);if(o&&(d=c()).lock!==i){tR(e,t,n);return}if(f&&(tw(f)?s():(t_(f),o?u(f):a(f))),o&&!(f&&tw(f))){if((d=c()).lock!==i){tR(e,t,n);return}a(d.session),f=d.session}null===(r=e.after)||void 0===r||r.call(e,f||d.session),tA(t)}function tR(e,t,n){Y(function(){tx(e,t,n+1)},10)}function tA(e){l=void 0;var t=tO.shift();t&&tx(t,e)}function tP(e){return tD(e,location.href).href}function tD(e,t){var n=function(){if(void 0===d)try{var e=new tL("http://test/path");d="http://test/path"===e.href}catch(e){d=!1}return d?tL:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw Error("Failed to construct URL: ".concat(String(n)," ").concat(ee({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw Error("Invalid URL: '".concat(e,"'"));var r=document,i=r.createElement("a");if(void 0!==t){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(i)}return i.href=e,i}var tL=URL;function tM(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var i=tP(r);return function(e){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var o=function(e,t){var n=t.site,r=void 0===n?eJ:n,i=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===eJ)return eW;if(i&&r===eJ)return"".concat(i,".").concat(eJ);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var o=r.split("."),a=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(a)}(t,e);return function(e){return"https://".concat(o).concat(n,"?").concat(e)}}(e,t);return{build:function(i,o){var a,s,u,c,l,d;return r((a=e.clientToken,s=e.internalAnalyticsSubdomain,u=o.retry,c=o.encoding,l=["sdk_version:".concat("5.21.0"),"api:".concat(i)].concat(n),u&&l.push("retry_count:".concat(u.count),"retry_after:".concat(u.lastFailureStatus)),d=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(a),"dd-evp-origin-version=".concat(encodeURIComponent("5.21.0")),"dd-evp-origin=browser","dd-request-id=".concat(tc())],c&&d.push("dd-evp-encoding=".concat(c)),"rum"===t&&d.push("batch_time=".concat(ek())),s&&d.reverse(),d.join("&")))},urlPrefix:r(""),trackType:t}}var tU=/[^a-z0-9_:./-]/;function tj(e,t){var n=200-e.length-1;(t.length>n||tU.test(t))&&N.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. More details: ").concat(O,"/getting_started/tagging/#defining-tags"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}var tB={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},tH={ALL:"all",SAMPLED:"sampled"};function tV(e,t){return null==e||"string"==typeof e||(N.error("".concat(t," must be defined as a string")),!1)}function tF(e){var t=ea(e);return"string"===t||"function"===t||e instanceof RegExp}function tq(e,t,n){return void 0===n&&(n=!1),e.some(function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?F(t,e):e===t}catch(e){N.error(e)}return!1})}function tz(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function tK(e,t,n,r){if(void 0!==t$()&&n.findTrackedSession()){var i,o,a,s,u,c=B(e.allowedTracingUrls,function(e){return tq([e.match],t.url,!0)});c&&(t.traceSampled=!e_(e.traceSampleRate)||eb(e.traceSampleRate),(t.traceSampled||e.traceContextInjection===tH.ALL)&&(t.traceId=new tG,t.spanId=new tG,r((i=t.traceId,o=t.spanId,a=t.traceSampled,s=c.propagatorTypes,u={},s.forEach(function(e){switch(e){case"datadog":q(u,{"x-datadog-origin":"rum","x-datadog-parent-id":o.toDecimalString(),"x-datadog-sampling-priority":a?"1":"0","x-datadog-trace-id":i.toDecimalString()});break;case"tracecontext":q(u,{traceparent:"00-0000000000000000".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-0").concat(a?"1":"0")});break;case"b3":q(u,{b3:"".concat(i.toPaddedHexadecimalString(),"-").concat(o.toPaddedHexadecimalString(),"-").concat(a?"1":"0")});break;case"b3multi":q(u,{"X-B3-TraceId":i.toPaddedHexadecimalString(),"X-B3-SpanId":o.toPaddedHexadecimalString(),"X-B3-Sampled":a?"1":"0"})}}),u))))}}function t$(){return window.crypto||window.msCrypto}var tG=function(){function e(){this.buffer=new Uint8Array(8),t$().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return e.prototype.toString=function(e){var t=this.readInt32(0),n=this.readInt32(4),r="";do{var i=t%e*4294967296+n;t=Math.floor(t/e),n=Math.floor(i/e),r=(i%e).toString(e)+r}while(t||n)return r},e.prototype.toDecimalString=function(){return this.toString(10)},e.prototype.toPaddedHexadecimalString=function(){var e=this.toString(16);return Array(17-e.length).join("0")+e},e.prototype.readInt32=function(e){return 16777216*this.buffer[e]+(this.buffer[e+1]<<16)+(this.buffer[e+2]<<8)+this.buffer[e+3]},e}(),tY=["tracecontext","datadog"],tX={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function tJ(e,t,n){document.readyState===t||"complete"===document.readyState?n():te(e,window,"complete"===t?a.LOAD:a.DOM_CONTENT_LOADED,n,{once:!0})}var tW="initial_document",tQ=[["document",function(e){return tW===e}],["xhr",function(e){return"xmlhttprequest"===e}],["fetch",function(e){return"fetch"===e}],["beacon",function(e){return"beacon"===e}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return U(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],["font",function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],["media",function(e,t){return U(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function tZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function t0(e){if(ey(i.TOLERANT_RESOURCE_TIMINGS))return!0;var t=tZ(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!(e.redirectEnd>e.startTime)||tZ(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return t&&n}function t1(e,t,n){if(e<=t&&t<=n)return{duration:eT(n-t),start:eT(t-e)}}function t2(e,t){return t&&!e.isIntakeUrl(t)}var t3=/data:(.+)?(;base64)?,/g;function t4(e){return e.nodeType===Node.ELEMENT_NODE}function t6(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function t5(e){if(e&&e.nodeType===Node.COMMENT_NODE){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function t8(){return void 0!==window.performance&&"getEntries"in performance}function t9(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function t7(){var e={},t=performance.timing;for(var n in t)if(e_(t[n])){var r=t[n];e[n]=0===r?0:r-ex()}return e}function ne(e,t,n){var r=n.filter(function(e){return er(f,e.entryType)}).filter(function(e){return!(e.entryType===f.NAVIGATION&&e.loadEventEnd<=0)&&(e.entryType!==f.RESOURCE||!!t2(t,e.name))});r.length&&e.notify(0,r)}!function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"}(f||(f={}));var nt={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",SOURCE:"source",REPORT:"report"};function nn(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&Y(function(){r=0},6e4),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:nt.AGENT,startClocks:eN()})}finally{i=!1}}return!0}}}function nr(e,t,n){for(var r=e,i=t.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!ni(r))return;o!==i.length-1?r=r[a]:r[a]=n}}function ni(e){return"object"===ea(e)}var no={"view.name":"string","view.url":"string","view.referrer":"string"},na={context:"object"},ns=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return t!==e})}}},e}(),nu=1/0,nc=function(){function e(e,t){var n=this;this.expireDelay=e,this.maxEntries=t,this.entries=[],this.clearOldValuesInterval=J(function(){return n.clearOldValues()},6e4)}return e.prototype.add=function(e,t){var n=this,r={value:e,startTime:t,endTime:nu,remove:function(){e0(n.entries,r)},close:function(e){r.endTime=e}};return this.maxEntries&&this.entries.length>=this.maxEntries&&this.entries.pop(),this.entries.unshift(r),r},e.prototype.find=function(e,t){void 0===e&&(e=nu),void 0===t&&(t={returnInactive:!1});for(var n=0,r=this.entries;n<r.length;n++){var i=r[n];if(i.startTime<=e){if(t.returnInactive||e<=i.endTime)return i.value;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===nu&&t.close(e)},e.prototype.findAll=function(e,t){void 0===e&&(e=nu),void 0===t&&(t=0);var n=e+t;return this.entries.filter(function(t){return t.startTime<=n&&e<=t.endTime}).map(function(e){return e.value})},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){W(this.clearOldValuesInterval)},e.prototype.clearOldValues=function(){for(var e=eI()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}();function nl(e,t,n,r){var i=(void 0===r?{}:r).computeHandlingStack,o=e[t];if("function"!=typeof o){if(!F(t,"on"))return{stop:Z};o=Z}var a=!1,s=function(){if(a)return o.apply(this,arguments);var e,t=j(arguments);L(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:i?eF():void 0}]);var r=o.apply(this,t);return e&&L(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=o)}}}var nd=new WeakMap;function nf(e){var t=e.target,n=e.parameters,r=n[0],i=n[1];nd.set(t,{state:"open",method:String(r).toUpperCase(),url:tP(String(i))})}function np(e){var t=e.target,n=nd.get(t);n&&(n.isAborted=!0)}var nv=1;function nh(){var e=nv;return nv+=1,e}function ng(e){return e_(e)&&e<0?void 0:e}function nm(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange,i=void 0===r?Z:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=t.subscribe(13,function(e){var t;if("view"!==e.type&&"vital"!==e.type&&n(e))switch(e.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,e.action.frustration&&(o.frustrationCount+=e.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":(null===(t=e._dd)||void 0===t?void 0:t.discarded)||(o.resourceCount+=1,i())}});return{stop:function(){a.unsubscribe()},eventCounts:o}}function ny(e,t,n){var r,i=!1,o=Y(D(function(){return c({hadActivity:!1})}),100),a=void 0!==n?Y(D(function(){return c({hadActivity:!0,end:ek()})}),n):void 0,s=e.subscribe(function(e){var t=e.isBusy;X(o),X(r);var n=ek();t||(r=Y(D(function(){return c({hadActivity:!0,end:n})}),100))}),u=function(){i=!0,X(o),X(r),X(a),s.unsubscribe()};function c(e){i||(u(),t(e))}return{stop:u}}function nb(e,t,n){return new ep(function(r){var i,o=[],a=0;o.push(t.subscribe(u),e.subscribe(0,function(e){e.some(function(e){return e.entryType===f.RESOURCE&&!nS(n,e.name)})&&u()}),e.subscribe(7,function(e){nS(n,e.url)||(void 0===i&&(i=e.requestIndex),a+=1,u())}),e.subscribe(8,function(e){nS(n,e.url)||void 0===i||e.requestIndex<i||(a-=1,u())}));var s=nl(window,"open",u).stop;return function(){s(),o.forEach(function(e){return e.unsubscribe()})};function u(){r.notify({isBusy:a>0})}})}function nS(e,t){return tq(e.excludedActivityUrls,t)}function nw(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)})}function n_(e,t){return e.matches?e.matches(t):!!e.msMatchesSelector&&e.msMatchesSelector(t)}function nE(e){if(e.parentElement)return e.parentElement;for(;e.parentNode;){if(e.parentNode.nodeType===Node.ELEMENT_NODE)return e.parentNode;e=e.parentNode}return null}var nC=function(){function e(e){var t=this;this.map=new WeakMap,e&&e.forEach(function(e){return t.map.set(e,1)})}return e.prototype.add=function(e){return this.map.set(e,1),this},e.prototype.delete=function(e){return this.map.delete(e)},e.prototype.has=function(e){return this.map.has(e)},e}(),nT="data-dd-action-name";function nk(e,t){if(void 0===m&&(m="closest"in HTMLElement.prototype),m)n=e.closest("[".concat(t,"]"));else for(var n,r=e;r;){if(r.hasAttribute(t)){n=r;break}r=nE(r)}if(n)return nR(nx(n.getAttribute(t).trim()))}var nI=[function(e,t){if(void 0===g&&(g="labels"in HTMLInputElement.prototype),g){if("labels"in e&&e.labels&&e.labels.length>0)return nA(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&B(e.ownerDocument.querySelectorAll("label"),function(t){return t.htmlFor===e.id});return n&&nA(n,t)}},function(e){if("INPUT"===e.nodeName){var t=e.getAttribute("type");if("button"===t||"submit"===t||"reset"===t)return e.value}},function(e,t){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return nA(e,t)},function(e){return e.getAttribute("aria-label")},function(e,t){var n=e.getAttribute("aria-labelledby");if(n)return n.split(/\s+/).map(function(t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}).filter(function(e){return!!e}).map(function(e){return nA(e,t)}).join(" ")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("name")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")},function(e,t){if("options"in e&&e.options.length>0)return nA(e.options[0],t)}],nN=[function(e,t){return nA(e,t)}];function nO(e,t,n){for(var r=e,i=0;i<=10&&r&&"BODY"!==r.nodeName&&"HTML"!==r.nodeName&&"HEAD"!==r.nodeName;){for(var o=0;o<n.length;o++){var a=(0,n[o])(r,t);if("string"==typeof a){var s=a.trim();if(s)return nR(nx(s))}}if("FORM"===r.nodeName)break;r=nE(r),i+=1}}function nx(e){return e.replace(/\s+/g," ")}function nR(e){return e.length>100?"".concat(tf(e,100)," [...]"):e}function nA(e,t){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,r=function(t){for(var r=e.querySelectorAll(t),i=0;i<r.length;i+=1){var o=r[i];if("innerText"in o){var a=o.innerText;a&&a.trim().length>0&&(n=n.replace(a,""))}}};return 0!==tm()||r("script, style"),r("[".concat(nT,"]")),t&&r("[".concat(t,"]")),n}return e.textContent}}var nP=[nT,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],nD=[nj,function(e){if(e.id&&!nU(e.id))return"#".concat(nw(e.id))}],nL=[nj,function(e){if("BODY"!==e.tagName)for(var t=function(e){if(e.classList)return e.classList;var t,n=null===(t=e.getAttribute("class"))||void 0===t?void 0:t.trim();return n?n.split(/\s+/):[]}(e),n=0;n<t.length;n+=1){var r=t[n];if(!nU(r))return"".concat(nw(e.tagName),".").concat(nw(r))}},function(e){return nw(e.tagName)}];function nM(e,t){if("isConnected"in e?e.isConnected:e.ownerDocument.documentElement.contains(e)){for(var n,r=e;r&&"HTML"!==r.nodeName;){var i=nB(r,nD,nH,t,n);if(i)return i;n=nB(r,nL,nV,t,n)||nF(function(e){for(var t=nE(e).firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;return"".concat(nw(e.tagName),":nth-of-type(").concat(n,")")}(r),n),r=nE(r)}return n}}function nU(e){return/[0-9]/.test(e)}function nj(e,t){if(t){var n=i(t);if(n)return n}for(var r=0;r<nP.length;r++){var n=i(nP[r]);if(n)return n}function i(t){if(e.hasAttribute(t))return"".concat(nw(e.tagName),"[").concat(t,'="').concat(nw(e.getAttribute(t)),'"]')}}function nB(e,t,n,r,i){for(var o=0;o<t.length;o++){var a=(0,t[o])(e,r);if(a&&n(e,a,i))return nF(a,i)}}function nH(e,t,n){return 1===e.ownerDocument.querySelectorAll(nF(t,n)).length}function nV(e,t,n){if(void 0===n)r=function(e){return n_(e,t)};else{var r,i=!function(){if(void 0===y)try{document.querySelector(":scope"),y=!0}catch(e){y=!1}return y}()?nF(t,n):nF("".concat(t,":scope"),n);r=function(e){return null!==e.querySelector(i)}}for(var o=nE(e).firstElementChild;o;){if(o!==e&&r(o))return!1;o=o.nextElementSibling}return!0}function nF(e,t){return t?"".concat(e,">").concat(t):e}function nq(){var e=window.getSelection();return!e||e.isCollapsed}function nz(e){return e.target instanceof Element&&!1!==e.isPrimary}function nK(e){return!e.hasPageActivity&&!e.getUserActivity().input&&!e.getUserActivity().scroll&&!n_(e.event.target,'input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *')}function n$(e,t){var n=nG(e)?{action:{id:e.id,loading_time:ng(eT(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position}}}:void 0,r=nG(e)?void 0:e.context,o=ec({action:{id:tc(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},n),a=nG(e)?{events:e.events}:{};return!nG(e)&&e.handlingStack&&ey(i.MICRO_FRONTEND)&&(a.handlingStack=e.handlingStack),{customerContext:r,rawRumEvent:o,startTime:e.startClocks.relative,domainContext:a}}function nG(e){return"custom"!==e.type}var nY={},nX={intervention:"intervention",cspViolation:"csp_violation"};function nJ(e,t,n,r,i){return n?eq({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}var nW=new nC;function nQ(e){return e.startTime+e.duration}function nZ(e){var t,n,r,i=e.renderBlockingStatus;return{resource:q({duration:(t=e.duration,n=e.startTime,r=e.responseEnd,0===t&&n<r?eT(r-n):eT(t)),render_blocking_status:i},function(e){if(e.startTime<e.responseStart){var t=e.encodedBodySize,n=e.decodedBodySize;return{size:n,encoded_body_size:t,decoded_body_size:n,transfer_size:e.transferSize}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}(e),function(e){if(t0(e)){var t=e.startTime,n=e.fetchStart,r=e.redirectStart,i=e.redirectEnd,o=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,u=e.secureConnectionStart,c=e.connectEnd,l=e.requestStart,d=e.responseStart,f={download:t1(t,d,e.responseEnd),first_byte:t1(t,l,d)};return n<c&&(f.connect=t1(t,s,c),s<=u&&u<=c&&(f.ssl=t1(t,u,c))),n<a&&(f.dns=t1(t,o,a)),t<i&&(f.redirect=t1(t,r,i)),f}}(e))}}function n0(e){return e_(e.traceSampleRate)?e.traceSampleRate/100:void 0}var n1=0,n2=1/0,n3=0,n4=function(){return b?n1:window.performance.interactionCount||0};function n6(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}function n5(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var n8=[];function n9(e){return"2"===e||"1"===e}var n7=function(){function e(e,t,n,r){var i=this;this.encoder=e,this.request=t,this.flushController=n,this.messageBytesLimit=r,this.upsertBuffer={},this.flushSubscription=this.flushController.flushObservable.subscribe(function(e){return i.flush(e)})}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.stop=function(){this.flushSubscription.unsubscribe()},e.prototype.flush=function(e){var t,n=H(this.upsertBuffer).join("\n");this.upsertBuffer={};var r=(t=e.reason,U(H(tX),t)),i=r?this.request.sendOnExit:this.request.send;if(r&&this.encoder.isAsync){var o=this.encoder.finishSync();o.outputBytesCount&&i(re(o));var a=[o.pendingData,n].filter(Boolean).join("\n");a&&i({data:a,bytesCount:$(a)})}else n&&this.encoder.write(this.encoder.isEmpty?n:"\n".concat(n)),this.encoder.finish(function(e){i(re(e))})},e.prototype.addOrUpdate=function(e,t){var n=ee(e),r=this.encoder.estimateEncodedBytesCount(n);if(r>=this.messageBytesLimit){N.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB. More details: ").concat(O,"/real_user_monitoring/browser/troubleshooting/#technical-limitations"));return}this.hasMessageFor(t)&&this.remove(t),this.push(n,r,t)},e.prototype.push=function(e,t,n){var r=this;this.flushController.notifyBeforeAddMessage(t),void 0!==n?(this.upsertBuffer[n]=e,this.flushController.notifyAfterAddMessage()):this.encoder.write(this.encoder.isEmpty?e:"\n".concat(e),function(e){r.flushController.notifyAfterAddMessage(e-t)})},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.encoder.estimateEncodedBytesCount(t);this.flushController.notifyAfterRemoveMessage(n)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e}();function re(e){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}function rt(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?rn(e,t,n,{onSuccess:function(){return rr(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),function e(t,n,r,i){2===t.transportStatus&&Y(function(){rn(t.queuedPayloads.first(),t,n,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,rr(1,t,n,r,i)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),e(t,n,r,i)}})},t.currentBackoffTime)}(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function rn(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,function(n){t.bandwidthMonitor.remove(e),"opaque"!==n.type&&(0===n.status&&!navigator.onLine||408===n.status||429===n.status||n.status>=500)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o()):(t.transportStatus=0,i())})}function rr(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:nt.AGENT,startClocks:eN()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=ri();o.size()>0;)rt(o.dequeue(),t,n,r,i)}function ri(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}var ro=!1;function ra(e,t,n,r){var i=new XMLHttpRequest;i.open("POST",t,!0),n instanceof Blob&&i.setRequestHeader("Content-Type",n.type),te(e,i,"loadend",function(){null==r||r({status:i.status})},{once:!0}),i.send(n)}function rs(){0!==w.batchCount&&(e8("Customer data measures",w),rd())}function ru(){return{min:1/0,max:0,sum:0}}function rc(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function rl(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function rd(){w={batchCount:0,batchBytesCount:ru(),batchMessagesCount:ru(),globalContextBytes:ru(),userContextBytes:ru(),featureFlagBytes:ru()}}function rf(){E=!1,_={globalContextBytes:ru(),userContextBytes:ru(),featureFlagBytes:ru()}}function rp(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}function rv(e,t){var n=td(document.cookie,e),r=J(function(){var r=td(document.cookie,e);r!==n&&t(r)},1e3);return function(){W(r)}}var rh="datadog-ci-visibility-test-execution-id",rg=function(e,t,n){void 0===n&&(n={});var r,o,a,s=function(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var i=2===e?3072:16384,o=r;t.forEach(function(e){o+=e.getBytesCount()}),o>i&&(N.warn("Customer data exceeds the recommended ".concat(i/1024,"KiB threshold. More details: ").concat(O,"/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning")),n=!0)}}return{createDetachedTracker:function(){var e=eo(function(){return r(e.getBytesCount())});return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,eo(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(e){return e.stop()}),t.clear()}}}(0),c=eh(s.getOrCreateTracker(2)),l=eh(s.getOrCreateTracker(1)),d={tryToInit:function(e){r||(r=e)},update:function(e){r=e,o.notify()},isGranted:function(){return r===eg.GRANTED},observable:o=new ep};function f(){return{context:c.getContext(),user:l.getContext(),hasReplay:!!t.isRecording()||void 0}}var p=function(e,t,n,r){var o,a,s,c,l=e.ignoreInitIfSyntheticsWillInjectRum,d=e.startDeflateWorker,f=new e1,p=n.observable.subscribe(v);function v(){if(s&&c&&n.isGranted()){if(p.unsubscribe(),c.trackViewsManually){if(!o)return;f.remove(o.callback),e=o.options}var e,t=r(c,a,e);f.drain(t)}}return{init:function(e){if(!e){N.error("Missing configuration");return}Array.isArray(f=e.enableExperimentalFeatures)&&function(e){e.forEach(function(e){em.add(e)})}(f.filter(function(e){return er(i,e)}));var t,r,o,f,p,h,g,m,y,b=tu();if(b&&(e=q({},t=e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:null!==(r=t.defaultPrivacyLevel)&&void 0!==r?r:null===(o=ts())||void 0===o?void 0:o.getPrivacyLevel()})),s=e,g={session_sample_rate:(h=p=e).sessionSampleRate,telemetry_sample_rate:h.telemetrySampleRate,telemetry_configuration_sample_rate:h.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:h.telemetryUsageSampleRate,use_before_send:!!h.beforeSend,use_cross_site_session_cookie:h.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:h.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:h.useSecureSessionCookie,use_proxy:!!h.proxy,silent_multiple_init:h.silentMultipleInit,track_session_across_subdomains:h.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!h.allowFallbackToLocalStorage,store_contexts_across_pages:!!h.storeContextsAcrossPages,allow_untrusted_events:!!h.allowUntrustedEvents,tracking_consent:h.trackingConsent},y=q({session_replay_sample_rate:p.sessionReplaySampleRate,start_session_replay_recording_manually:p.startSessionReplayRecordingManually,trace_sample_rate:p.traceSampleRate,trace_context_injection:p.traceContextInjection,action_name_attribute:p.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(p.allowedTracingUrls)&&p.allowedTracingUrls.length>0,selected_tracing_propagators:(m=new Set,Array.isArray(p.allowedTracingUrls)&&p.allowedTracingUrls.length>0&&p.allowedTracingUrls.forEach(function(e){tF(e)?tY.forEach(function(e){return m.add(e)}):"object"===ea(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach(function(e){return m.add(e)})}),j(m)),default_privacy_level:p.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(p.excludedActivityUrls)&&p.excludedActivityUrls.length>0,use_worker_url:!!p.workerUrl,compress_intake_requests:p.compressIntakeRequests,track_views_manually:p.trackViewsManually,track_user_interactions:p.trackUserInteractions,track_resources:p.trackResources,track_long_task:p.trackLongTasks},g),e5({type:e2.configuration,configuration:y}),c){ta("DD_RUM",e);return}if(!(l&&tg())){var S=function(e){if(!e.applicationId){N.error("Application ID is not configured, no RUM data will be collected.");return}if(void 0!==e.sessionReplaySampleRate&&!ew(e.sessionReplaySampleRate)){N.error("Session Replay Sample Rate should be a number between 0 and 100");return}if(void 0!==e.traceSampleRate&&!ew(e.traceSampleRate)){N.error("Trace Sample Rate should be a number between 0 and 100");return}if(void 0!==e.excludedActivityUrls&&!Array.isArray(e.excludedActivityUrls)){N.error("Excluded Activity Urls should be an array");return}var t,n,r=function(e){if(void 0!==e.allowedTracingUrls){if(!Array.isArray(e.allowedTracingUrls)){N.error("Allowed Tracing URLs should be an array");return}if(0!==e.allowedTracingUrls.length&&void 0===e.service){N.error("Service needs to be configured when tracing is enabled");return}var t=[];return e.allowedTracingUrls.forEach(function(e){tF(e)?t.push({match:e,propagatorTypes:tY}):"object"===ea(e)&&tF(e.match)&&Array.isArray(e.propagatorTypes)?t.push(e):N.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)}),t}return[]}(e);if(r){var i=function(e){var t,n,r,i,o,a,s,c,l,d,f,p,v,h,g,m,y;if(!e||!e.clientToken){N.error("Client Token is not configured, we will not send any data.");return}if(void 0!==e.sessionSampleRate&&!ew(e.sessionSampleRate)){N.error("Session Sample Rate should be a number between 0 and 100");return}if(void 0!==e.telemetrySampleRate&&!ew(e.telemetrySampleRate)){N.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(void 0!==e.telemetryConfigurationSampleRate&&!ew(e.telemetryConfigurationSampleRate)){N.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}if(void 0!==e.telemetryUsageSampleRate&&!ew(e.telemetryUsageSampleRate)){N.error("Telemetry Usage Sample Rate should be a number between 0 and 100");return}if(tV(e.version,"Version")&&tV(e.env,"Env")&&tV(e.service,"Service")){if(void 0!==e.trackingConsent&&!er(eg,e.trackingConsent)){N.error('Tracking Consent should be either "granted" or "not-granted"');return}if(e.site&&(a=e.site,!/(datadog|ddog|datad0g|dd0g)/.test(a))){N.error("Site should be a valid Datadog site. Learn more here: ".concat(O,"/getting_started/site/."));return}return q({beforeSend:e.beforeSend&&x(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:((m=!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(tc()),n="test";tp(t,n,6e4,e);var r=tv(t)===n;return tp(t,"",0,e),r}catch(e){return N.error(e),!1}}(((g={}).secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,g.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,g.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(g.domain=function(){if(void 0===u){for(var e="dd_site_test_".concat(tc()),t=window.location.hostname.split("."),n=t.pop();t.length&&!tv(e);)tp(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});tp(e,"",0,{domain:n}),u=n}return u}()),g))?void 0:{type:"Cookie",cookieOptions:g})||!e.allowFallbackToLocalStorage||(m=function(){try{var e=tc(),t="".concat("_dd_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:"LocalStorage"}:void 0}catch(e){return}}()),m),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,telemetryUsageSampleRate:null!==(i=e.telemetryUsageSampleRate)&&void 0!==i?i:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(o=e.trackingConsent)&&void 0!==o?o:eg.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},(s=e.site||eJ,c=e.env,l=e.service,d=e.version,f=e.datacenter,p=[],c&&p.push(tj("env",c)),l&&p.push(tj("service",l)),d&&p.push(tj("version",d)),f&&p.push(tj("datacenter",f)),y=H(v={logsEndpointBuilder:tM(e,"logs",p),rumEndpointBuilder:tM(e,"rum",p),sessionReplayEndpointBuilder:tM(e,"replay",p)}).map(function(e){return e.urlPrefix}),s===eJ&&y.push("https://".concat(eW,"/")),q({isIntakeUrl:function(e){return h.some(function(t){return 0===e.indexOf(t)})},replica:function(e,t,n){if(e.replica){var r=q({},e,{site:eJ,clientToken:e.replica.clientToken}),i={logsEndpointBuilder:tM(r,"logs",n),rumEndpointBuilder:tM(r,"rum",n)};return t.push.apply(t,H(i).map(function(e){return e.urlPrefix})),q({applicationId:e.replica.applicationId},i)}}(e,h=y,p),site:s},v)))}}(e);if(i)return q({applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:null!==(t=e.sessionReplaySampleRate)&&void 0!==t?t:0,startSessionReplayRecordingManually:!!e.startSessionReplayRecordingManually,traceSampleRate:e.traceSampleRate,allowedTracingUrls:r,excludedActivityUrls:null!==(n=e.excludedActivityUrls)&&void 0!==n?n:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!e.trackUserInteractions,trackViewsManually:!!e.trackViewsManually,trackResources:!!e.trackResources,trackLongTasks:!!e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:er(tB,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:tB.MASK,customerDataTelemetrySampleRate:1,traceContextInjection:er(tH,e.traceContextInjection)?e.traceContextInjection:tH.ALL},i)}}(e);if(S){if(!b&&!S.sessionStoreStrategyType){N.warn("No storage available for session. We will not send any data.");return}(!S.compressIntakeRequests||b||!d||(a=d(S,"Datadog RUM",Z)))&&(c=S,n.tryToInit(S.trackingConsent),v())}}},get initConfiguration(){return s},getInternalContext:Z,stopSession:Z,addTiming:function(e,t){void 0===t&&(t=ek()),f.add(function(n){return n.addTiming(e,t)})},startView:function(e,t){void 0===t&&(t=eN());var n=function(n){n.startView(e,t)};f.add(n),o||(o={options:e,callback:n},v())},addAction:function(e,n){void 0===n&&(n=t()),f.add(function(t){return t.addAction(e,n)})},addError:function(e,n){void 0===n&&(n=t()),f.add(function(t){return t.addError(e,n)})},addFeatureFlagEvaluation:function(e,t){f.add(function(n){return n.addFeatureFlagEvaluation(e,t)})},startDurationVital:function(e){f.add(function(t){return t.startDurationVital(e)})},stopDurationVital:function(e){f.add(function(t){return t.stopDurationVital(e)})}}}(n,f,d,function(r,o,a){ey(i.CUSTOM_VITALS)&&(h.startDurationVital=D(function(e,t){p.startDurationVital({name:el(e),startClocks:(null==t?void 0:t.startTime)?eC(t.startTime):eN(),context:el(null==t?void 0:t.context)}),e7({feature:"start-duration-vital"})}),h.stopDurationVital=D(function(e,t){p.stopDurationVital({name:el(e),stopClocks:(null==t?void 0:t.stopTime)?eC(t.stopTime):eN(),context:el(null==t?void 0:t.context)})})),r.storeContextsAcrossPages&&(tr(r,c,"rum",2),tr(r,l,"rum",1)),s.setCompressionStatus(o?1:2);var u=e(r,t,s,f,a,o&&n.createDeflateEncoder?function(e){return n.createDeflateEncoder(r,o,e)}:ti,d);return t.onRumStart(u.lifeCycle,r,u.session,u.viewContexts,o),p=q({init:function(e){ta("DD_RUM",e)},initConfiguration:p.initConfiguration},u),u}),v=D(function(e){p.startView("object"==typeof e?e:{name:e}),e7({feature:"start-view"})}),h=(Object.defineProperty(a=q({version:"5.21.0",onReady:function(e){e()}},{init:D(function(e){return p.init(e)}),setTrackingConsent:D(function(e){d.update(e),e7({feature:"set-tracking-consent",tracking_consent:e})}),setGlobalContext:D(function(e){c.setContext(e),e7({feature:"set-global-context"})}),getGlobalContext:D(function(){return c.getContext()}),setGlobalContextProperty:D(function(e,t){c.setContextProperty(e,t),e7({feature:"set-global-context"})}),removeGlobalContextProperty:D(function(e){return c.removeContextProperty(e)}),clearGlobalContext:D(function(){return c.clearContext()}),getInternalContext:D(function(e){return p.getInternalContext(e)}),getInitConfiguration:D(function(){return eu(p.initConfiguration)}),addAction:function(e,t){var n=eF();L(function(){p.addAction({name:el(e),context:el(t),startClocks:eN(),type:"custom",handlingStack:n}),e7({feature:"add-action"})})},addError:function(e,t){var n=eF();L(function(){p.addError({error:e,handlingStack:n,context:el(t),startClocks:eN()}),e7({feature:"add-error"})})},addTiming:D(function(e,t){p.addTiming(el(e),t)}),setUser:D(function(e){var t;(t="object"===ea(e))||N.error("Unsupported user:",e),t&&l.setContext(to(e)),e7({feature:"set-user"})}),getUser:D(function(){return l.getContext()}),setUserProperty:D(function(e,t){var n,r=to(((n={})[e]=t,n))[e];l.setContextProperty(e,r),e7({feature:"set-user"})}),removeUserProperty:D(function(e){return l.removeContextProperty(e)}),clearUser:D(function(){return l.clearContext()}),startView:v,stopSession:D(function(){p.stopSession(),e7({feature:"stop-session"})}),addFeatureFlagEvaluation:D(function(e,t){p.addFeatureFlagEvaluation(el(e),el(t)),e7({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:D(function(){return t.getSessionReplayLink()}),startSessionReplayRecording:D(function(e){t.start(e),e7({feature:"start-session-replay-recording",force:null==e?void 0:e.force})}),stopSessionReplayRecording:D(function(){return t.stop()})}),"_setDebug",{get:function(){return P},enumerable:!1}),a);return h}(function(e,t,n,o,s,u,c){var l,d,g,m,y,k,I,O,x,R,A,P,M,H,F,z=[],K=new ns;K.subscribe(13,function(e){return eQ("rum",e)});var $=function(e){var t,n,i,o,a,s,u,c,l=(t="browser-rum-sdk",o=new ep,a=new Set,s=!U(e4,e.site)&&eb(e.telemetrySampleRate),(n={})[e2.log]=s,n[e2.configuration]=s&&eb(e.telemetryConfigurationSampleRate),n[e2.usage]=s&&eb(e.telemetryUsageSampleRate),u=n,c={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self},e5=function(n){var r=ee(n);if(u[n.type]&&a.size<e.maxTelemetryEventsPerPage&&!a.has(r)){var s=ec({type:"telemetry",date:ek(),service:t,version:"5.21.0",source:"browser",_dd:{format_version:2},telemetry:ec(n,{runtime_env:c,connectivity:eZ()}),experimental_features:j(em)},void 0!==i?i():{});o.notify(s),eQ("telemetry",s),a.add(r)}},r=e9,{setContextProvider:function(e){i=e},observable:o,enabled:s});if(tu()){var d=ts();l.observable.subscribe(function(e){return d.send("internal_telemetry",e)})}return l}(e);$.setContextProvider(function(){var t,n;return{application:{id:e.applicationId},session:{id:null===(t=ed.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(n=eK.findView())||void 0===n?void 0:n.id},action:{id:e0.findActionId()}}});var et=function(e){K.notify(14,{error:e}),e8("Error reported to customer",{"error.message":e.message})},er=(eh=n.getOrCreateTracker(0),eg=new nc(144e5),K.subscribe(2,function(e){var t=e.startClocks;eg.add({},t.relative),eh.resetCustomerData()}),K.subscribe(6,function(e){var t=e.endClocks;eg.closeActive(t.relative)}),{findFeatureFlagEvaluations:function(e){return eg.find(e)},addFeatureFlagEvaluation:function(e,t){var n=eg.find();n&&(n[e]=t,eh.updateCustomerData(n))},stop:function(){return eh.stop()}}),eo=new ep(function(t){var n=tt(e,window,[a.VISIBILITY_CHANGE,a.FREEZE],function(e){e.type===a.VISIBILITY_CHANGE&&"hidden"===document.visibilityState?t.notify({reason:tX.HIDDEN}):e.type===a.FREEZE&&t.notify({reason:tX.FROZEN})},{capture:!0}).stop,r=te(e,window,a.BEFORE_UNLOAD,function(){t.notify({reason:tX.UNLOADING})}).stop;return function(){n(),r()}}),es=eo.subscribe(function(e){K.notify(11,e)});z.push(function(){return es.unsubscribe()});var ed=tu()?(eC={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:(ew="records",(e_=ts())&&U(e_.getCapabilities(),ew))?1:0},{findTrackedSession:function(){return eC},expire:Z,expireObservable:new ep,setForcedReplay:Z}):((eA=function(e,t,n,r){var i,o,s,u,c,l,d,f,p=new ep,v=new ep,h=function(e,t,n){var r,i,o,a=new ep,s=new ep,u=new ep,c="Cookie"===e.type?(r=e.cookieOptions,function(e){if(!th(ty)){var t=th("_dd"),n=th("_dd_r"),r=th("_dd_l"),i={};t&&(i.id=t),r&&/^[01]$/.test(r)&&(i.logs=r),n&&/^[012]$/.test(n)&&(i.rum=n),ei(i)||(t_(i),e.persistSession(i))}}(i={isLockEnabled:1===tm(),persistSession:function(e){tp(ty,tE(e),9e5,r)},retrieveSession:tT,expireSession:function(){tp(ty,tE(tS()),144e5,r)}}),i):{isLockEnabled:!1,persistSession:tk,retrieveSession:tI,expireSession:tN},l=c.expireSession,d=J(function(){tx({process:function(e){return tw(e)?tS():void 0},after:h},c)},1e3);g();var f=Q(function(){tx({process:function(e){if(!ei(e)){var t=h(e);return function(e){if(ei(e))return 0;var t=n(e.rum),r=t.trackingType,i=t.isTracked;e.rum=r,delete e.isExpired,i&&!e.id&&(e.id=tc(),e.created=String(ek()))}(t),t}},after:function(e){ei(e)||m()||(o=e,a.notify()),o=e}},c)},1e3),p=f.throttled,v=f.cancel;function h(e){var n;return tw(e)&&(e=tS()),m()&&((n=e,o.id!==n.id||o[t]!==n[t])?(o=tS(),s.notify()):(u.notify({previousState:o,newState:e}),o=e)),e}function g(){tx({process:function(e){if(ei(e))return tS()},after:function(e){o=e}},c)}function m(){return void 0!==o[t]}return{expandOrRenewSession:p,expandSession:function(){tx({process:function(e){return m()?h(e):void 0}},c)},getSession:function(){return o},renewObservable:a,expireObservable:s,sessionStateUpdateObservable:u,restartSession:g,expire:function(){v(),l(),h(tS())},stop:function(){W(d)},updateSessionState:function(e){tx({process:function(t){return q({},t,e)},after:h},c)}}}(e.sessionStoreStrategyType,"rum",n);n8.push(function(){return h.stop()});var g=new nc(144e5);function m(){return{id:h.getSession().id,trackingType:h.getSession().rum,isReplayForced:!!h.getSession().forcedReplay}}return n8.push(function(){return g.stop()}),h.renewObservable.subscribe(function(){g.add(m(),eI()),p.notify()}),h.expireObservable.subscribe(function(){v.notify(),g.closeActive(eI())}),h.expandOrRenewSession(),g.add(m(),eO().relative),r.observable.subscribe(function(){r.isGranted()?h.expandOrRenewSession():h.expire()}),i=function(){r.isGranted()&&h.expandOrRenewSession()},o=tt(e,window,[a.CLICK,a.TOUCH_START,a.KEY_DOWN,a.SCROLL],i,{capture:!0,passive:!0}).stop,n8.push(o),s=function(){return h.expandSession()},u=function(){"visible"===document.visibilityState&&s()},c=te(e,document,a.VISIBILITY_CHANGE,u).stop,n8.push(c),l=J(u,6e4),n8.push(function(){W(l)}),d=function(){return h.restartSession()},f=te(e,window,a.RESUME,d,{capture:!0}).stop,n8.push(f),{findSession:function(e,t){return g.find(e,t)},renewObservable:p,expireObservable:v,sessionStateUpdateObservable:h.sessionStateUpdateObservable,expire:h.expire,updateSessionState:h.updateSessionState}}(e,0,function(t){var n;return{trackingType:n="0"===t||"1"===t||"2"===t?t:eb(e.sessionSampleRate)?eb(e.sessionReplaySampleRate)?"1":"2":"0",isTracked:n9(n)}},c)).expireObservable.subscribe(function(){K.notify(9)}),eA.renewObservable.subscribe(function(){K.notify(10)}),eA.sessionStateUpdateObservable.subscribe(function(e){var t=e.previousState,n=e.newState;if(!t.forcedReplay&&n.forcedReplay){var r=eA.findSession();r&&(r.isReplayForced=!0)}}),{findTrackedSession:function(e){var t=eA.findSession(e);if(t&&n9(t.trackingType))return{id:t.id,sessionReplay:"1"===t.trackingType?1:t.isReplayForced?2:0}},expire:eA.expire,expireObservable:eA.expireObservable,setForcedReplay:function(){return eA.updateSessionState({forcedReplay:"1"})}});if(tu())!function(e){var t=ts();e.subscribe(13,function(e){t.send("rum",e)})}(K);else{var ef,eh,eg,ew,e_,eC,eA,eP,eD,eL,eM,eU=(eP=$.observable,eD=ed.expireObservable,eL=e.replica,eM=function(e,t,n,r,i,o){var a=u(e,t),s=n&&u(e,n);function u(e,t){var n,a,s,u=t.endpoint;return new n7(t.encoder,(n=e.batchBytesLimit,a={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:ri(),queueFullReported:!1},s=function(t,r){(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}})()&&t.bytesCount<n?fetch(u.build("fetch",t),{method:"POST",body:t.data,keepalive:!0,mode:"cors"}).then(D(function(e){return null==r?void 0:r({status:e.status,type:e.type})}),D(function(){ra(e,u.build("xhr",t),t.data,r)})):ra(e,u.build("xhr",t),t.data,r)},{send:function(e){rt(e,a,s,u.trackType,r)},sendOnExit:function(t){(function(e,t,n,r){if(navigator.sendBeacon&&r.bytesCount<n)try{var i=t.build("beacon",r);if(navigator.sendBeacon(i,r.data))return}catch(e){ro||(ro=!0,e9(e))}ra(e,t.build("xhr",r),r.data)})(e,u,n,t)}}),function(e){var t,n=e.messagesLimit,r=e.bytesLimit,i=e.durationLimit,o=e.pageExitObservable,a=e.sessionExpireObservable,s=o.subscribe(function(e){return f(e.reason)}),u=a.subscribe(function(){return f("session_expire")}),c=new ep(function(){return function(){s.unsubscribe(),u.unsubscribe()}}),l=0,d=0;function f(e){if(0!==d){var t=d,n=l;d=0,l=0,p(),c.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){X(t),t=void 0}return{flushObservable:c,get messagesCount(){return d},notifyBeforeAddMessage:function(e){l+e>=r&&f("bytes_limit"),d+=1,l+=e,void 0===t&&(t=Y(function(){f("duration_limit")},i))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,d>=n?f("messages_limit"):l>=r&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0==(d-=1)&&p()}}}({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),e.messageBytesLimit)}return{flushObservable:a.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),a.add(e),s&&t&&s.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){a.upsert(e,t),s&&s.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){a.stop(),null==s||s.stop()}}}(e,{endpoint:e.rumEndpointBuilder,encoder:u(2)},eL&&{endpoint:eL.rumEndpointBuilder,transformMessage:function(e){return ec(e,{application:{id:eL.applicationId}})},encoder:u(3)},et,eo,eD),K.subscribe(13,function(e){"view"===e.type?eM.upsert(e,e.view.id):eM.add(e)}),eP.subscribe(function(t){return eM.add(t,e.site===eX)}),eM);z.push(function(){return eU.stop()}),ef=eU.flushObservable,$.enabled&&eb(e.customerDataTelemetrySampleRate)&&(rd(),rf(),K.subscribe(13,function(e){E=!0,rc(_.globalContextBytes,n.getOrCreateTracker(2).getBytesCount()),rc(_.userContextBytes,n.getOrCreateTracker(1).getBytesCount()),rc(_.featureFlagBytes,U(["view","error"],e.type)?n.getOrCreateTracker(0).getBytesCount():0)}),ef.subscribe(function(e){var t=e.bytesCount,n=e.messagesCount;E&&(w.batchCount+=1,rc(w.batchBytesCount,t),rc(w.batchMessagesCount,n),rl(w.globalContextBytes,_.globalContextBytes),rl(w.userContextBytes,_.userContextBytes),rl(w.featureFlagBytes,_.featureFlagBytes),rf())}),J(rs,1e4))}var ej=(m=function(){var e,t=window;if(t.Zone&&(e=G(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=G(new t.MutationObserver(Z),"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}(),new ep(function(e){if(m){var t=new m(D(function(){return e.notify()}));return t.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return t.disconnect()}}})),eB=(k=en(y=location),new ep(function(t){var n,r,i,o=(n=nl(history,"pushState",function(e){(0,e.onPostCall)(u)}).stop,r=nl(history,"replaceState",function(e){(0,e.onPostCall)(u)}).stop,i=te(e,window,a.POP_STATE,u).stop,{stop:function(){n(),r(),i()}}).stop,s=te(e,window,a.HASH_CHANGE,u).stop;function u(){if(k.href!==y.href){var e=en(y);t.notify({newLocation:e,oldLocation:k}),k=e}}return function(){o(),s()}})),eH=function(e,t,n,r,o,s,u,c){var l,d,f=(l=new nc(144e5),e.subscribe(2,function(e){l.add({service:e.service,version:e.version,id:e.id,name:e.name,startClocks:e.startClocks},e.startClocks.relative)}),e.subscribe(6,function(e){var t=e.endClocks;l.closeActive(t.relative)}),e.subscribe(10,function(){l.reset()}),{findView:function(e){return l.find(e)},stop:function(){l.stop()}}),v=function(e,t,n){var r,i=new nc(144e5);e.subscribe(2,function(e){var t=e.startClocks,o=n.href;i.add(a({url:o,referrer:r||document.referrer}),t.relative),r=o}),e.subscribe(6,function(e){var t=e.endClocks;i.closeActive(t.relative)});var o=t.subscribe(function(e){var t=e.newLocation,n=i.find();if(n){var r=eI();i.closeActive(r),i.add(a({url:t.href,referrer:n.referrer}),r)}});function a(e){return{url:e.url,referrer:e.referrer}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,o,n),h=function(e,t){void 0===t&&(t=500);var n,r=new nc(144e5,4e3);o(rp(),eI());var i=tt(e,window,[a.PAGE_SHOW,a.FOCUS,a.BLUR,a.VISIBILITY_CHANGE,a.RESUME,a.FREEZE,a.PAGE_HIDE],function(e){o(e.type===a.FREEZE?"frozen":e.type===a.PAGE_HIDE?e.persisted?"frozen":"terminated":rp(),e.timeStamp)},{capture:!0}).stop;function o(e,t){void 0===t&&(t=eI()),e!==n&&(n=e,r.closeActive(t),r.add({state:n,startTime:t},t))}var s={findAll:function(e,n){var i=r.findAll(e,n);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-t),s=i.length-1;s>=a;s--){var u=i[s],c=u.startTime-e;o.push({state:u.state,start:eT(c)})}return o}},wasInPageStateAt:function(e,t){return s.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,n){return r.findAll(t,n).some(function(t){return t.state===e})},addPageState:o,stop:function(){i(),r.stop()}};return s}(t),g=function(e,t,n,r){e.subscribe(1,function(t){return e.notify(12,n$(t,r))});var i={findActionId:Z};return n.trackUserInteractions&&(i=function(e,t,n){var r,i,o,s,u,c,l,d,f=new nc(3e5),p=new ep;e.subscribe(10,function(){f.reset()}),e.subscribe(5,g);var v=(s=(r={onPointerDown:function(r){var i,o,a,s,u,c,l,d,f,p;return i=n,o=e,a=t,f=(s=r,u=i.actionNameAttribute,{type:"click",target:{width:Math.round((l=s.target.getBoundingClientRect()).width),height:Math.round(l.height),selector:nM(s.target,u)},position:{x:Math.round(s.clientX-l.left),y:Math.round(s.clientY-l.top)},name:nk(c=s.target,nT)||u&&nk(c,u)||nO(c,u,nI)||nO(c,u,nN)||""}),p=!1,d=function(e){p=e.hadActivity},ny(nb(o,a,i),d,100),{clickActionBase:f,hadActivityOnPointerDown:function(){return p}}},onPointerUp:function(r,i,o){var a,s,u,c,l,d,v,g,m,y,b,S,w,_,E;return a=n,s=e,u=t,c=f,l=p,d=h,v=r.clickActionBase,g=i,m=o,y=r.hadActivityOnPointerDown,d(S=function e(t,n,r,i,o){var a,s=tc(),u=eN(),c=n.add(s,u.relative),l=nm({lifeCycle:t,isChildEvent:function(e){return void 0!==e.action&&(Array.isArray(e.action.id)?U(e.action.id,s):e.action.id===s)}}),d=0,f=[],p=new ep;function v(e){0===d&&((d=1,a=e)?c.close(a-ex()):c.remove(),l.stop(),p.notify())}return{event:o,stop:v,stopObservable:p,get hasError(){return l.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==a},getUserActivity:r,addFrustration:function(e){f.push(e)},startClocks:u,isStopped:function(){return 1===d||2===d},clone:function(){return e(t,n,r,i,o)},validate:function(e){if(v(),1===d){var n,r=l.eventCounts,c=r.resourceCount,p=r.errorCount,h=r.longTaskCount,g=q({type:"click",duration:a&&(n=u.timeStamp,a-n),startClocks:u,id:s,frustrationTypes:f,counts:{resourceCount:c,errorCount:p,longTaskCount:h},events:null!=e?e:[o],event:o},i);t.notify(1,g),d=2}},discard:function(){v(),d=2}}}(s,c,m,v,g)),w=(b=function(e){e.hadActivity&&e.end<S.startClocks.timeStamp?S.discard():e.hadActivity?S.stop(e.end):y()?S.stop(S.startClocks.timeStamp):S.stop()},ny(nb(s,u,a),b,1e4)).stop,_=s.subscribe(5,function(e){var t=e.endClocks;S.stop(t.timeStamp)}),E=l.subscribe(function(){S.stop()}),void S.stopObservable.subscribe(function(){_.unsubscribe(),w(),E.unsubscribe()})}}).onPointerDown,u=r.onPointerUp,c={selection:!1,input:!1,scroll:!1},l=[te(n,window,a.POINTER_DOWN,function(e){nz(e)&&(i=nq(),c={selection:!1,input:!1,scroll:!1},o=s(e))},{capture:!0}),te(n,window,a.SELECTION_CHANGE,function(){i&&nq()||(c.selection=!0)},{capture:!0}),te(n,window,a.SCROLL,function(){c.scroll=!0},{capture:!0,passive:!0}),te(n,window,a.POINTER_UP,function(e){if(nz(e)&&o){var t=c;u(o,e,function(){return t}),o=void 0}},{capture:!0}),te(n,window,a.INPUT,function(){c.input=!0},{capture:!0})],{stop:function(){l.forEach(function(e){return e.stop()})}}).stop;return{stop:function(){g(),p.notify(),v()},actionContexts:{findActionId:function(e){return f.findAll(e)}}};function h(e){if(!d||!d.tryAppend(e)){var t=e.clone();d=function(e,t){var n,r=[],i=0;function o(e){e.stopObservable.subscribe(a),r.push(e),X(n),n=Y(s,1e3)}function a(){1===i&&r.every(function(e){return e.isStopped()})&&(i=2,t(r))}function s(){X(n),0===i&&(i=1,a())}return o(e),{tryAppend:function(e){var t,n;return 0===i&&(!(r.length>0)||(t=r[r.length-1].event,n=e.event,t.target===n.target&&100>=Math.sqrt(Math.pow(t.clientX-n.clientX,2)+Math.pow(t.clientY-n.clientY,2))&&t.timeStamp-n.timeStamp<=1e3)?(o(e),!0):(s(),!1))},stop:function(){s()}}}(e,function(e){(function(e,t){if(function(e){if(e.some(function(e){return e.getUserActivity().selection||e.getUserActivity().scroll}))return!1;for(var t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=1e3)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(nK)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var n=e.some(function(e){return e.getUserActivity().selection});return e.forEach(function(e){e.hasError&&e.addFrustration("error_click"),nK(e)&&!n&&e.addFrustration("dead_click")}),{isRage:!1}})(e,t).isRage?(e.forEach(function(e){return e.discard()}),t.stop(ek()),t.validate(e.map(function(e){return e.event}))):(t.discard(),e.forEach(function(e){return e.validate()}))})}}function g(){d&&d.stop()}}(e,t,n).actionContexts),{addAction:function(t,n){e.notify(12,q({savedCommonContext:n},n$(t,r)))},actionContexts:i}}(e,s,t,h),m=g.addAction,y=g.actionContexts,b=(d=n6(),{get:function(){return{viewport:d}},stop:(S||(S=new ep(function(e){var n=Q(function(){e.notify(n6())},200).throttled;return te(t,window,a.RESIZE,n,{capture:!0,passive:!0}).stop})),S).subscribe(function(e){d=e}).unsubscribe}),w=function(e,t){if(void 0===t){var n;n=window.cookieStore?function(t,n){return te(e,window.cookieStore,a.CHANGE,function(e){var r=B(e.changed,function(e){return e.name===t})||B(e.deleted,function(e){return e.name===t});r&&n(r.value)}).stop}:rv,t=new ep(function(e){return n(rh,function(t){return e.notify(t)})})}var r,i=th(rh)||(null===(r=window.Cypress)||void 0===r?void 0:r.env("traceId")),o=t.subscribe(function(e){i=e});return{get:function(){if("string"==typeof i)return{test_execution_id:i}},stop:function(){return o.unsubscribe()}}}(t);return!function(e,t,n,r,o,a,s,u,c,l){var d,f,v=ey(i.MICRO_FRONTEND)?{service:"string",version:"string"}:{};(d={}).view=no,d.error=q({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},na,no,v),d.resource=q({"resource.url":"string"},ey(i.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},na,no,v),d.action=q({"action.target.name":"string"},na,no,v),d.long_task=q({},na,no),d.vital=q({},na,no),p=d;var h=((f={}).error=nn("error",e.eventRateLimiterThreshold,l),f.action=nn("action",e.eventRateLimiterThreshold,l),f.vital=nn("vital",e.eventRateLimiterThreshold,l),f),g=function(){var e,t,n="string"==typeof(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||th("datadog-synthetics-public-id"))?e:void 0,r="string"==typeof(t=window._DATADOG_SYNTHETICS_RESULT_ID||th("datadog-synthetics-result-id"))?t:void 0;if(n&&r)return{test_id:n,result_id:r,injected:tg()}}();t.subscribe(12,function(i){var l=i.startTime,d=i.rawRumEvent,f=i.domainContext,v=i.savedCommonContext,m=i.customerContext,y=r.findView(l),b=o.findUrl(l),S=n.findTrackedSession(l);if(S&&y&&b){var w=v||c(),_=a.findActionId(l),E=ec({_dd:{format_version:2,drift:Math.round(ek()-(ex()+performance.now())),configuration:{session_sample_rate:eS(e.sessionSampleRate,3),session_replay_sample_rate:eS(e.sessionReplaySampleRate,3)},browser_sdk_version:tu()?"5.21.0":void 0},application:{id:e.applicationId},date:ek(),service:y.service||e.service,version:y.version||e.version,source:"browser",session:{id:S.id,type:g?"synthetics":u.get()?"ci_test":"user"},view:{id:y.id,name:y.name,url:b.url,referrer:b.referrer},action:-1!==["error","resource","long_task"].indexOf(d.type)&&_?{id:_}:void 0,synthetics:g,ci_test:u.get(),display:s.get(),connectivity:eZ()},d);E.context=ec(w.context,m),"has_replay"in E.session||(E.session.has_replay=w.hasReplay),"view"===E.type&&(E.session.sampled_for_replay=1===S.sessionReplay),ei(w.user)||(E.usr=w.user),function(e,t,n,r){if(t){var i,o,a,s,u=(i=p[e.type],a=t(o=eu(e),n),V(i).forEach(function(t){var n=t[0],r=t[1],i=function(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o,a=i[r];if(!(ni(o=n)&&Object.prototype.hasOwnProperty.call(o,a)))return;n=n[a]}return n}(o,n),a=ea(i);a===r?nr(e,n,el(i)):"object"===r&&("undefined"===a||"null"===a)&&nr(e,n,{})}),a);if(!1===u&&"view"!==e.type)return!1;!1===u&&N.warn("Can't dismiss view events using beforeSend!")}return!(null===(s=r[e.type])||void 0===s?void 0:s.isLimitReached())}(E,e.beforeSend,f,h)&&(ei(E.context)&&delete E.context,t.notify(13,E))}})}(t,e,r,f,v,y,b,w,u,c),{viewContexts:f,pageStateHistory:h,urlContexts:v,addAction:m,actionContexts:y,stop:function(){w.stop(),b.stop(),h.stop(),v.stop(),f.stop(),h.stop()}}}(K,e,location,ed,eB,ej,o,et),eK=eH.viewContexts,eJ=eH.pageStateHistory,eW=eH.urlContexts,e0=eH.actionContexts,e1=eH.addAction,e3=eH.stop;z.push(e3),e6.drain(),function(e,t){e.subscribe(0,function(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.entryType!==f.LONG_TASK||!t.trackLongTasks)break;var o=eE(i.startTime),a={date:o.timeStamp,long_task:{id:tc(),duration:eT(i.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:a,startTime:o.relative,domainContext:{performanceEntry:i}})}})}(K,e),K.subscribe(8,function(t){var n=function(e,t,n){var r,o=function(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=t.filter(function(e){return!nW.has(e)}).filter(function(e){return t0(e)}).filter(function(t){var n,r;return n=e.startClocks.relative,r=nQ({startTime:e.startClocks.relative,duration:e.duration}),t.startTime>=n-1&&nQ(t)<=r+1});if(1===n.length)return nW.add(n[0]),n[0].toJSON()}}}(e),a=o?eE(o.startTime):e.startClocks,s=function(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toDecimalString(),trace_id:e.traceId.toDecimalString(),rule_psr:n0(t)}}}(e,t);if(t.trackResources||s){var u,c="xhr"===e.type?"xhr":"fetch",l=o?nZ(o):void 0,d=(u=e.duration,n.wasInPageStateDuringPeriod("frozen",a.relative,u)?void 0:eT(u)),f=ec({date:a.timeStamp,resource:{id:tc(),type:c,duration:d,method:e.method,status_code:e.status,url:!function(e){if(e.length<=24e3);else if("data:"===e.substring(0,5))return e=e.substring(0,24e3),!0;return!1}(e.url)?e.url:(r=e.url,"".concat(r.match(t3)[0],"[...]"))},type:"resource",_dd:{discarded:!t.trackResources}},s,l),p={startTime:a.relative,rawRumEvent:f,domainContext:{performanceEntry:o,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted}};return ey(i.MICRO_FRONTEND)&&(p.domainContext.handlingStack=e.handlingStack),p}}(t,e,eJ);n&&K.notify(12,n)}),K.subscribe(0,function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.entryType===f.RESOURCE&&!("xmlhttprequest"===r.initiatorType||"fetch"===r.initiatorType)){var i=function(e,t){var n=eE(e.startTime),r=function(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,rule_psr:n0(t)}}}(e,t);if(t.trackResources||r){var i,o=function(e){var t,n=e.name;if(!function(e){try{return!!tD(e)}catch(e){return!1}}(n))return e8('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r="/"===(t=tD(n).pathname)[0]?t:"/".concat(t),i=0;i<tQ.length;i++){var o=tQ[i],a=o[0];if((0,o[1])(e.initiatorType,r))return a}return"other"}(e),a=nZ(e),s=ec({date:n.timeStamp,resource:{id:tc(),type:o,url:e.name,status_code:0===(i=e.responseStatus)?void 0:i},type:"resource",_dd:{discarded:!t.trackResources}},r,a);return{startTime:n.relative,rawRumEvent:s,domainContext:{performanceEntry:e}}}}(r,e);i&&K.notify(12,i)}}});var e7=(I=location,K.subscribe(4,function(n){var r,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,S,w,_;return K.notify(12,(b=t.getReplayStats(n.id),S=er.findFeatureFlagEvaluations(n.startClocks.relative),w=eJ.findAll(n.startClocks.relative,n.duration),_={_dd:{document_version:n.documentVersion,replay_stats:b,page_states:w,configuration:{start_session_replay_recording_manually:e.startSessionReplayRecordingManually}},date:n.startClocks.timeStamp,type:"view",view:{action:{count:n.eventCounts.actionCount},frustration:{count:n.eventCounts.frustrationCount},cumulative_layout_shift:null===(r=n.commonViewMetrics.cumulativeLayoutShift)||void 0===r?void 0:r.value,cumulative_layout_shift_time:eT(null===(i=n.commonViewMetrics.cumulativeLayoutShift)||void 0===i?void 0:i.time),cumulative_layout_shift_target_selector:null===(o=n.commonViewMetrics.cumulativeLayoutShift)||void 0===o?void 0:o.targetSelector,first_byte:eT(null===(a=n.initialViewMetrics.navigationTimings)||void 0===a?void 0:a.firstByte),dom_complete:eT(null===(s=n.initialViewMetrics.navigationTimings)||void 0===s?void 0:s.domComplete),dom_content_loaded:eT(null===(u=n.initialViewMetrics.navigationTimings)||void 0===u?void 0:u.domContentLoaded),dom_interactive:eT(null===(c=n.initialViewMetrics.navigationTimings)||void 0===c?void 0:c.domInteractive),error:{count:n.eventCounts.errorCount},first_contentful_paint:eT(n.initialViewMetrics.firstContentfulPaint),first_input_delay:eT(null===(l=n.initialViewMetrics.firstInput)||void 0===l?void 0:l.delay),first_input_time:eT(null===(d=n.initialViewMetrics.firstInput)||void 0===d?void 0:d.time),first_input_target_selector:null===(f=n.initialViewMetrics.firstInput)||void 0===f?void 0:f.targetSelector,interaction_to_next_paint:eT(null===(p=n.commonViewMetrics.interactionToNextPaint)||void 0===p?void 0:p.value),interaction_to_next_paint_time:eT(null===(v=n.commonViewMetrics.interactionToNextPaint)||void 0===v?void 0:v.time),interaction_to_next_paint_target_selector:null===(h=n.commonViewMetrics.interactionToNextPaint)||void 0===h?void 0:h.targetSelector,is_active:n.isActive,name:n.name,largest_contentful_paint:eT(null===(g=n.initialViewMetrics.largestContentfulPaint)||void 0===g?void 0:g.value),largest_contentful_paint_target_selector:null===(m=n.initialViewMetrics.largestContentfulPaint)||void 0===m?void 0:m.targetSelector,load_event:eT(null===(y=n.initialViewMetrics.navigationTimings)||void 0===y?void 0:y.loadEvent),loading_time:ng(eT(n.commonViewMetrics.loadingTime)),loading_type:n.loadingType,long_task:{count:n.eventCounts.longTaskCount},resource:{count:n.eventCounts.resourceCount},time_spent:eT(n.duration)},feature_flags:S&&!ei(S)?S:void 0,display:n.commonViewMetrics.scroll?{scroll:{max_depth:n.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:n.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:n.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:eT(n.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:!!b||void 0,is_active:!!n.sessionIsActive&&void 0},privacy:{replay_level:e.defaultPrivacyLevel}},ei(n.customTimings)||(_.view.custom_timings=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n[o]=t(e[o])}return n}(n.customTimings,eT)),{rawRumEvent:_,startTime:n.startClocks.relative,domainContext:{location:n.location}}))}),function(e,t,n,r,i,o,s){var u,c=new Set,l=d("initial_load",eO(),s);function d(i,o,s){var u=function(e,t,n,r,i,o,s){void 0===o&&(o=eN());var u,c,l,d,p,v,h,g,m,y,S,w,_,E,C,T,k,I,O,x,R,A,P,L,M,U,j,H,V,F,q,z,K,$,G,X,ee,et,er,ei,eo=tc(),ea=new ep,es={},eu=0,ec=en(r),el=!0;s&&(et=s.name,er=s.service,ei=s.version);var ed={id:eo,name:et,startClocks:o,service:er,version:ei};e.notify(2,ed),e.notify(3,ed);var ef=Q(eP,3e3,{leading:!1}),ev=ef.throttled,eh=ef.cancel,eg=(l={},p=(d=function(e,t,n,r,i,o){var a,s="initial_load"===r,u=!0,c=[];function l(){u||s||!(c.length>0)||o(Math.max.apply(Math,c))}return{stop:(a=function(e){if(u){if(u=!1,e.hadActivity){var t;c.push((t=i.timeStamp,e.end-t))}l()}},ny(nb(e,t,n),a,void 0)).stop,setLoadEvent:function(e){s&&(s=!1,c.push(e),l())}}}(e,t,n,i,c=o,function(e){l.loadingTime=e,ev()})).stop,v=d.setLoadEvent,_=(h=function(e){l.scroll=e},void 0===g&&(void 0===u&&(u=1e3),g=new ep(function(e){if(window.ResizeObserver){var t=Q(function(){var t,n,r;e.notify((n=Math.round((t=window.visualViewport)?t.pageTop-t.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0),r=n6().height,{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(r+n),scrollTop:n}))},u,{leading:!1,trailing:!0}),r=document.scrollingElement||document.documentElement,i=new ResizeObserver(D(t.throttled));i.observe(r);var o=te(n,window,a.SCROLL,t.throttled,{passive:!0});return function(){t.cancel(),i.unobserve(r),o.stop()}}})),m=0,y=0,S=0,w=g.subscribe(function(e){var t=e.scrollDepth,n=e.scrollTop,r=e.scrollHeight,i=!1;t>m&&(m=t,i=!0),r>y&&(y=r,S=eI()-c.relative,i=!0),i&&h({maxDepth:Math.min(m,y),maxDepthScrollTop:n,maxScrollHeight:y,maxScrollHeightTime:S})}),{stop:function(){return w.unsubscribe()}}).stop,E=function(e,t,n,r){if(!t9(f.LAYOUT_SHIFT))return{stop:Z};var i,o,a,s,u,c,l=0;r({value:0});var d=(a=0,s=0,{update:function(e){var t;return void 0===i||e.startTime-o>=1e3||e.startTime-i>=5e3?(i=o=e.startTime,s=a=e.value,t=!0):(a+=e.value,o=e.startTime,(t=e.value>s)&&(s=e.value)),{cumulatedValue:a,isMaxValue:t}}});return{stop:t.subscribe(0,function(t){for(var i=0;i<t.length;i++){var o=t[i];if(o.entryType===f.LAYOUT_SHIFT&&!o.hadRecentInput){var a=d.update(o),s=a.cumulatedValue;if(a.isMaxValue){var p=function(e){var t;if(e)return null===(t=B(e,function(e){return!!e.node&&t4(e.node)}))||void 0===t?void 0:t.node}(o.sources);u=p?new WeakRef(p):void 0,c=o.startTime-n}if(s>l){l=s;var p=null==u?void 0:u.deref();r({value:eS(l,4),targetSelector:p&&nM(p,e.actionNameAttribute),time:c})}}}}).unsubscribe}}(n,e,c.relative,function(e){l.cumulativeLayoutShift=e,ev()}).stop,T=(C=function(e,t,n,r){if(!(t9(f.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:Z,stop:Z};var i,o,a,s,u=("interactionCount"in performance||b||(b=new window.PerformanceObserver(D(function(e){e.getEntries().forEach(function(e){e.interactionId&&(n2=Math.min(n2,e.interactionId),n1=((n3=Math.max(n3,e.interactionId))-n2)/7+1)})}))).observe({type:"event",buffered:!0,durationThreshold:0}),i="initial_load"===n?0:n4(),o={stopped:!1},{getViewInteractionCount:function(){return o.stopped?o.interactionCount:n4()-i},stopViewInteractionCount:function(){o={stopped:!0,interactionCount:n4()-i}}}),c=u.getViewInteractionCount,l=u.stopViewInteractionCount,d=1/0,p=function(e){var t=[];function n(){t.sort(function(e,t){return t.duration-e.duration}).splice(10)}return{process:function(e){var r=t.findIndex(function(t){return e.interactionId===t.interactionId}),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(c),v=-1;return{getInteractionToNextPaint:function(){return v>=0?{value:Math.min(v,6e4),targetSelector:a,time:s}:c()?{value:0}:void 0},setViewEnd:function(e){d=e,l()},stop:r.subscribe(0,function(n){for(var r=0;r<n.length;r++){var i=n[r];(i.entryType===f.EVENT||i.entryType===f.FIRST_INPUT)&&i.interactionId&&i.startTime>=t&&i.startTime<=d&&p.process(i)}var o=p.estimateP98Interaction();o&&o.duration!==v&&(v=o.duration,s=o.startTime-t,a=o.target&&t4(o.target)?nM(o.target,e.actionNameAttribute):void 0)}).unsubscribe}}(n,c.relative,i,e)).stop,k=C.getInteractionToNextPaint,{stop:function(){p(),E(),_()},stopINPTracking:T,setLoadEvent:v,setViewEnd:C.setViewEnd,getCommonViewMetrics:function(){return l.interactionToNextPaint=k(),l}}),em=eg.setLoadEvent,ey=eg.setViewEnd,eb=eg.stop,ew=eg.stopINPTracking,e_=eg.getCommonViewMetrics,eE="initial_load"===i?(I={},x=(O=function(e){em(e.loadEvent),I.navigationTimings=e,ev()},{stop:e.subscribe(0,function(e){for(var t=0;t<e.length;t++){var n=e[t];n.entryType===f.NAVIGATION&&O({domComplete:n.domComplete,domContentLoaded:n.domContentLoadedEventEnd,domInteractive:n.domInteractive,loadEvent:n.loadEventEnd,firstByte:n.responseStart>=0&&n.responseStart<=eI()?n.responseStart:void 0})}}).unsubscribe}).stop,void 0===R&&(R=window),"hidden"===document.visibilityState?A=0:(A=1/0,P=tt(n,R,[a.PAGE_HIDE,a.VISIBILITY_CHANGE],function(e){(e.type===a.PAGE_HIDE||"hidden"===document.visibilityState)&&(A=e.timeStamp,P())},{capture:!0}).stop),L={get timeStamp(){return A},stop:function(){null==P||P()}},U=(M=function(e){I.firstContentfulPaint=e,ev()},{stop:e.subscribe(0,function(e){var t=B(e,function(e){return e.entryType===f.PAINT&&"first-contentful-paint"===e.name&&e.startTime<L.timeStamp&&e.startTime<6e5});t&&M(t.startTime)}).unsubscribe}).stop,K=(j=window,H=function(e){I.largestContentfulPaint=e,ev()},V=1/0,F=tt(n,j,[a.POINTER_DOWN,a.KEY_DOWN],function(e){V=e.timeStamp},{capture:!0,once:!0}).stop,q=0,z=e.subscribe(0,function(e){var t=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(e,function(e){return e.entryType===f.LARGEST_CONTENTFUL_PAINT&&e.startTime<V&&e.startTime<L.timeStamp&&e.startTime<6e5&&e.size>q});if(t){var r=void 0;t.element&&(r=nM(t.element,n.actionNameAttribute)),H({value:t.startTime,targetSelector:r}),q=t.size}}).unsubscribe,{stop:function(){F(),z()}}).stop,G=($=function(e){I.firstInput=e,ev()},{stop:e.subscribe(0,function(e){var t=B(e,function(e){return e.entryType===f.FIRST_INPUT&&e.startTime<L.timeStamp});if(t){var r,i=(r=t.startTime,t.processingStart-r),o=void 0;t.target&&t4(t.target)&&(o=nM(t.target,n.actionNameAttribute)),$({delay:i>=0?i:0,time:t.startTime,targetSelector:o})}}).unsubscribe}).stop,{stop:function(){x(),U(),K(),G(),L.stop()},initialViewMetrics:I}):{stop:Z,initialViewMetrics:{}},eC=eE.stop,eT=eE.initialViewMetrics,eO={stop:(X=nm({lifeCycle:e,isChildEvent:function(e){return e.view.id===eo},onChange:ev})).stop,eventCounts:X.eventCounts},ex=eO.stop,eR=eO.eventCounts,eA=J(eP,3e5);function eP(){eh(),eu+=1;var t=void 0===ee?ek():ee.timeStamp;e.notify(4,{customTimings:es,documentVersion:eu,id:eo,name:et,service:er,version:ei,loadingType:i,location:ec,startClocks:o,commonViewMetrics:e_(),initialViewMetrics:eT,duration:t-o.timeStamp,isActive:void 0===ee,sessionIsActive:el,eventCounts:eR})}return eP(),{name:et,service:er,version:ei,stopObservable:ea,end:function(t){var n,r,i=this;void 0===t&&(t={}),ee||(ee=null!==(n=t.endClocks)&&void 0!==n?n:eN(),el=null===(r=t.sessionIsActive)||void 0===r||r,e.notify(5,{endClocks:ee}),e.notify(6,{endClocks:ee}),W(eA),ey(ee.relative),eb(),eP(),Y(function(){i.stop()},3e5))},stop:function(){eC(),ex(),ew(),ea.notify()},addTiming:function(e,t){if(!ee){var n,r=t<31536e6?t:t-o.timeStamp;es[(n=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_"))!==e&&N.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(n)),n]=r,ev()}}}}(t,n,r,e,i,o,s);return c.add(u),u.stopObservable.subscribe(function(){c.delete(u)}),u}return t.subscribe(10,function(){l=d("route_change",void 0,{name:l.name,service:l.service,version:l.version})}),t.subscribe(9,function(){l.end({sessionIsActive:!1})}),t.subscribe(11,function(e){e.reason===tX.UNLOADING&&l.end()}),o&&(u=i.subscribe(function(e){var t,n,r;t=e.oldLocation,n=e.newLocation,t.pathname===n.pathname&&(""!==(r=n.hash.substring(1))&&document.getElementById(r)||n5(n.hash)===n5(t.hash))||(l.end(),l=d("route_change"))})),{addTiming:function(e,t){void 0===t&&(t=ek()),l.addTiming(e,t)},startView:function(e,t){l.end({endClocks:t}),l=d("route_change",t,e)},stop:function(){null==u||u.unsubscribe(),l.end(),c.forEach(function(e){return e.stop()})}}}(I,K,ej,e,eB,!e.trackViewsManually,s)),tn=e7.addTiming,tr=e7.startView,ti=e7.stop;z.push(ti);var to=(l=O=new ep,(d=[C.error].map(function(e){return nY[e]||(nY[e]=new ep(function(t){var n=T[e];return T[e]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=eF();L(function(){t.notify(function(e,t,n){var r,i,o,a=e.map(function(e){return"string"==typeof e?el(e):e instanceof Error?ez(eR(e)):ee(el(e),void 0,2)}).join(" ");if(t===C.error){var s=B(e,function(e){return e instanceof Error});r=s?eq(eR(s)):void 0,i=eG(s),o=s?eY(s,"console"):void 0}return{api:t,message:a,stack:r,handlingStack:n,fingerprint:i,causes:o}}(r,e,o))})},function(){T[e]=n}})),nY[e]}),ev.apply(void 0,d)).subscribe(function(e){return l.notify({startClocks:eN(),message:e.message,stack:e.stack,fingerprint:e.fingerprint,source:nt.CONSOLE,handling:"handled",handlingStack:e.handlingStack})}),(g=x=function(e,t){var n=e$({stackTrace:e,originalError:t,startClocks:eN(),nonErrorPrefix:"Uncaught",source:nt.SOURCE,handling:"unhandled"});O.notify(n)},nl(window,"onerror",function(e){var t,n,r,i,o,a=e.parameters,s=a[0],u=a[1],c=a[2],l=a[3],d=a[4];g(o=d instanceof Error?eR(d):{name:("[object String]"===({}).toString.call(s)&&(n=(t=eV.exec(s))[1],r=t[2]),i={name:n,message:r}).name,message:i.message,stack:[{url:u,column:l,line:c}]},null!=d?d:s)})).stop,nl(window,"onunhandledrejection",function(e){var t=e.parameters[0].reason||"Empty reason";x(eR(t),t)}).stop,(R=[nX.cspViolation,nX.intervention],A=[],U(R,nX.cspViolation)&&A.push(new ep(function(t){return te(e,document,a.SECURITY_POLICY_VIOLATION,function(e){var n,r;t.notify((n=nX.cspViolation,r="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive"),{type:nX.cspViolation,subtype:e.effectiveDirective,message:"".concat(n,": ").concat(r),stack:nJ(e.effectiveDirective,e.originalPolicy?"".concat(r,' of the policy "').concat(tf(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber),originalReport:e}))}).stop})),(P=R.filter(function(e){return e!==nX.cspViolation})).length&&A.push(new ep(function(e){if(window.ReportingObserver){var t=D(function(t,n){return t.forEach(function(t){var n,r;e.notify({type:n=t.type,subtype:(r=t.body).id,message:"".concat(n,": ").concat(r.message),originalReport:t,stack:nJ(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})})}),n=new window.ReportingObserver(t,{types:P,buffered:!0});return n.observe(),function(){n.disconnect()}}})),ev.apply(void 0,A)).subscribe(function(e){var t={startClocks:eN(),message:e.message,stack:e.stack,type:e.subtype,source:nt.REPORT,handling:"unhandled",originalError:e.originalReport};return"securitypolicyviolation"===e.originalReport.type&&(t.csp={disposition:e.originalReport.disposition}),O.notify(t)}),O.subscribe(function(e){return K.notify(14,{error:e})}),K.subscribe(14,function(e){var t,n,r,o=e.error,a=e.customerContext,s=e.savedCommonContext;K.notify(12,q({customerContext:a,savedCommonContext:s},(t={date:o.startClocks.timeStamp,error:{id:tc(),message:o.message,source:o.source,stack:o.stack,handling_stack:o.handlingStack,type:o.type,handling:o.handling,causes:o.causes,source_type:"browser",fingerprint:o.fingerprint,csp:o.csp},type:"error",view:{in_foreground:eJ.wasInPageStateAt("active",o.startClocks.relative)}},(n=er.findFeatureFlagEvaluations(o.startClocks.relative))&&!ei(n)&&(t.feature_flags=n),r={error:o.originalError},ey(i.MICRO_FRONTEND)&&(r.handlingStack=o.handlingStack),{rawRumEvent:t,startTime:o.startClocks.relative,domainContext:r})))}),{addError:function(e,t){var n=e.error,r=e.handlingStack,i=e.startClocks,o=e.context,a=e$({stackTrace:n instanceof Error?eR(n):void 0,originalError:n,handlingStack:r,startClocks:i,nonErrorPrefix:"Provided",source:nt.CUSTOM,handling:"handled"});K.notify(14,{customerContext:o,savedCommonContext:t,error:a})}}).addError;M={clearTracingIfNeeded:tz,traceFetch:function(t){return tK(e,t,ed,function(e){var n;if(t.input instanceof Request&&!(null===(n=t.init)||void 0===n?void 0:n.headers))t.input=new Request(t.input),Object.keys(e).forEach(function(n){t.input.headers.append(n,e[n])});else{t.init=en(t.init);var r=[];t.init.headers instanceof Headers?t.init.headers.forEach(function(e,t){r.push([t,e])}):Array.isArray(t.init.headers)?t.init.headers.forEach(function(e){r.push(e)}):t.init.headers&&Object.keys(t.init.headers).forEach(function(e){r.push([e,t.init.headers[e]])}),t.init.headers=r.concat(V(e))}})},traceXhr:function(t,n){return tK(e,t,ed,function(e){Object.keys(e).forEach(function(t){n.setRequestHeader(t,e[t])})})}},function(e,t,n){(v||(v=new ep(function(e){var n=nl(XMLHttpRequest.prototype,"open",nf).stop,r=nl(XMLHttpRequest.prototype,"send",function(n){(function(e,t,n){var r=e.target,i=e.handlingStack,o=nd.get(r);if(o){o.state="start",o.startClocks=eN(),o.isAborted=!1,o.xhr=r,o.handlingStack=i;var a=!1,s=nl(r,"onreadystatechange",function(){r.readyState===XMLHttpRequest.DONE&&u()}).stop,u=function(){var e;c(),s(),a||(a=!0,o.state="complete",o.duration=(e=o.startClocks.timeStamp,ek()-e),o.status=r.status,n.notify(en(o)))},c=te(t,r,"loadend",u).stop;n.notify(o)}})(n,t,e)},{computeHandlingStack:!0}).stop,i=nl(XMLHttpRequest.prototype,"abort",np).stop;return function(){n(),r(),i()}})),v).subscribe(function(r){if(t2(t,r.url))switch(r.state){case"start":n.traceXhr(r,r.xhr),r.requestIndex=nh(),e.notify(7,{requestIndex:r.requestIndex,url:r.url});break;case"complete":n.clearTracingIfNeeded(r),e.notify(8,{duration:r.duration,method:r.method,requestIndex:r.requestIndex,spanId:r.spanId,startClocks:r.startClocks,status:r.status,traceId:r.traceId,traceSampled:r.traceSampled,type:"xhr",url:r.url,xhr:r.xhr,isAborted:r.isAborted,handlingStack:r.handlingStack})}})}(K,e,M),(h||(h=new ep(function(e){if(window.fetch)return nl(window,"fetch",function(t){var n,r,i,o,a,s,u,c,l;return n=t.parameters,r=t.onPostCall,i=t.handlingStack,o=n[0],void 0===(s=(a=n[1])&&a.method)&&o instanceof Request&&(s=o.method),u=void 0!==s?String(s).toUpperCase():"GET",c=o instanceof Request?o.url:tP(String(o)),l={state:"start",init:a,input:o,method:u,startClocks:eN(),url:c,handlingStack:i},void(e.notify(l),n[0]=l.input,n[1]=l.init,r(function(t){return function(e,t,n){var r=function(t){n.state="resolve","stack"in t||t instanceof Error?(n.status=0,n.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,n.error=t):"status"in t&&(n.response=t,n.responseType=t.type,n.status=t.status,n.isAborted=!1),e.notify(n)};t.then(D(r),D(r))}(e,t,l)}))},{computeHandlingStack:!0}).stop})),h).subscribe(function(t){if(t2(e,t.url))switch(t.state){case"start":M.traceFetch(t),t.requestIndex=nh(),K.notify(7,{requestIndex:t.requestIndex,url:t.url});break;case"resolve":var n,r,i;n=function(e){M.clearTracingIfNeeded(t),K.notify(8,{duration:e,method:t.method,requestIndex:t.requestIndex,responseType:t.responseType,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"fetch",url:t.url,response:t.response,init:t.init,input:t.input,isAborted:t.isAborted,handlingStack:t.handlingStack})},(i=t.response&&function(e){try{return e.clone()}catch(e){return}}(t.response))&&i.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function a(){if(r.cancel().catch(Z),n.collectStreamBody){if(1===i.length)s=i[0];else{s=new Uint8Array(o);var e,a,s,u=0;i.forEach(function(e){s.set(e,u),u+=e.length})}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}(function e(){r.read().then(D(function(t){if(t.done){a();return}n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?a():e()}),D(function(e){return t(e)}))})()}(i.body,function(){var e;n((e=t.startClocks.timeStamp,ek()-e))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):n((r=t.startClocks.timeStamp,ek()-r))}});var ta=function(e,t){var n,r=[];if(n=function(n){ne(e,t,[n])},tJ(t,"interactive",function(){var e,t={entryType:f.RESOURCE,initiatorType:tW,traceId:function(e){var t,n,r=(t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]"),t6(t&&t.content,n&&n.content)||function(e){var t=function(e){for(var t=0;t<e.childNodes.length;t+=1){var n=t5(e.childNodes[t]);if(n)return n}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var r=e.body.childNodes[t],n=t5(r);if(n)return n;if(r.nodeType!==Node.TEXT_NODE)break}}(e);if(t)return t6(td(t,"trace-id"),td(t,"trace-time"))}(e));if(!(!r||r.traceTime<=ek()-12e4))return r.traceId}(document),toJSON:function(){return q({},e,{toJSON:void 0})}};if(t9(f.NAVIGATION)&&performance.getEntriesByType(f.NAVIGATION).length>0)e=q(performance.getEntriesByType(f.NAVIGATION)[0].toJSON(),t);else{var r=t7();e=q(r,{decodedBodySize:0,encodedBodySize:0,transferSize:0,renderBlockingStatus:"non-blocking",duration:r.responseEnd,name:window.location.href,startTime:0},t)}n(e)}),t8()){var i=performance.getEntries();Y(function(){return ne(e,t,i)})}if(window.PerformanceObserver){var o=D(function(n){return ne(e,t,n.getEntries())}),s=[f.RESOURCE,f.NAVIGATION,f.LONG_TASK,f.PAINT],u=[f.LARGEST_CONTENTFUL_PAINT,f.FIRST_INPUT,f.LAYOUT_SHIFT,f.EVENT];try{u.forEach(function(e){var t=new window.PerformanceObserver(o);t.observe({type:e,buffered:!0,durationThreshold:40}),r.push(function(){return t.disconnect()})})}catch(e){s.push.apply(s,u)}var c=new PerformanceObserver(o);if(c.observe({entryTypes:s}),r.push(function(){return c.disconnect()}),t8()&&"addEventListener"in performance){var l=te(t,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()}).stop;r.push(l)}}if(t9(f.NAVIGATION)||function(e,t){function n(){t(q(t7(),{entryType:f.NAVIGATION}))}tJ(e,"complete",function(){Y(n)})}(t,function(n){ne(e,t,[n])}),!t9(f.FIRST_INPUT)){var d=function(e,t){var n=ek(),r=!1,i=tt(e,window,[a.CLICK,a.MOUSE_DOWN,a.KEY_DOWN,a.TOUCH_START,a.POINTER_DOWN],function(t){if(t.cancelable){var n={entryType:f.FIRST_INPUT,processingStart:eI(),processingEnd:eI(),startTime:t.timeStamp,duration:0,name:""};t.type===a.POINTER_DOWN?tt(e,window,[a.POINTER_UP,a.POINTER_CANCEL],function(e){e.type===a.POINTER_UP&&o(n)},{once:!0}):o(n)}},{passive:!0,capture:!0}).stop;return{stop:i};function o(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<ek()-n&&t(e)}}}(t,function(n){ne(e,t,[n])}).stop;r.push(d)}return{stop:function(){r.forEach(function(e){return e()})}}}(K,e).stop;z.push(ta);var tl=(H=new Map,K.subscribe(10,function(){H.clear()}),{startDurationVital:function(e){H.set(e.name,e)},stopDurationVital:function(e){var t=H.get(e.name);if(t){var n,r,i,o={name:t.name,type:"duration",startClocks:t.startClocks,value:(n=t.startClocks.timeStamp,e.stopClocks.timeStamp-n),context:ec(t.context,e.context)};H.delete(o.name),!eJ.wasInPageStateDuringPeriod("frozen",o.startClocks.relative,o.value)&&K.notify(12,(i={date:o.startClocks.timeStamp,vital:{id:tc(),type:o.type,name:o.name,custom:((r={})[o.name]=o.value,r)},type:"vital"},i._dd={vital:{computed_value:!0}},{rawRumEvent:i,startTime:o.startClocks.relative,customerContext:o.context,domainContext:{}}))}}}),tv=(F=e.applicationId,{get:function(e){var t=eK.findView(e),n=eW.findUrl(e),r=ed.findTrackedSession(e);if(r&&t&&n){var i=e0.findActionId(e);return{application_id:F,session_id:r.id,user_action:i?{id:i}:void 0,view:{id:t.id,name:t.name,referrer:n.referrer,url:n.url}}}}});return{addAction:e1,addError:to,addTiming:tn,addFeatureFlagEvaluation:er.addFeatureFlagEvaluation,startView:tr,lifeCycle:K,viewContexts:eK,session:ed,stopSession:function(){return ed.expire()},getInternalContext:tv.get,startDurationVital:tl.startDurationVital,stopDurationVital:tl.stopDurationVital,stop:function(){z.forEach(function(e){return e()})}}},function(){var e=Z;return{start:Z,stop:Z,onRumStart:function(t,n){e=function(){var e,t,r,i,o,a,s,u,c;return t=(e={errorType:"slim-package"}).session,r=e.viewContext,i=e.errorType,o=t?t.id:"no-session-id",a=[],void 0!==i&&a.push("error-type=".concat(i)),r&&(a.push("seed=".concat(r.id)),a.push("from=".concat(r.startClocks.timeStamp))),u=n.site,c=n.subdomain||function(e){switch(e.site){case eJ:case"datadoghq.eu":return"app";case eX:return"dd";default:return}}(n),s="https://".concat(c?"".concat(c,"."):"").concat(u),"".concat(s).concat("/rum/replay/sessions/".concat(o),"?").concat(a.join("&"))}},isRecording:function(){return!1},getReplayStats:function(){},getSessionReplayLink:function(){return e()}}}());!function(e,t,n){var r=e[t];r&&!r.q&&r.version&&N.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=n,r&&r.q&&r.q.forEach(function(e){return x(e,"onReady callback threw an error:")()})}(z(),"DD_RUM",rg)},37811:(e,t,n)=>{"use strict";n.d(t,{iE:()=>tf,Zh:()=>ty,Z3:()=>tm,bL:()=>tv,j8:()=>tg});var r,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b=n(36870),S=n(86326),w=n(59468),_=n.n(w),E=n(80755),C=n.n(E),T=n(31261),k=n(31250),I=n.n(k),N=n(87561),O=n.n(N),x=n(38161),R=n(72386),A=n(1003),P=n(36337),D=n(93666),L=n(26167),M=n(73183),U=n(32402),j=n(5227),B=n(11234),H=n(2596),V=n(92148),F=n(47918),q=n(31194),z=n(49778);n(89463);var K=n(63237),$=n.n(K),G=n(76154),Y=n.n(G),X=n(5229),J=n.n(X),W=n(15313),Q=n.n(W),Z=n(55482),ee=n.n(Z);let et={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:" "},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:""},an:{name:"Aragonese",nativeName:"aragons"},ar:{name:"Arabic",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" "},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},ba:{name:"Bashkir",nativeName:" "},be:{name:"Belarusian",nativeName:" "},bg:{name:"Bulgarian",nativeName:" "},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:""},bo:{name:"Tibetan",nativeName:""},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal"},ce:{name:"Chechen",nativeName:" "},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:""},cs:{name:"Czech",nativeName:"etina"},cu:{name:"Old Church Slavonic",nativeName:" "},cv:{name:"Chuvash",nativeName:" "},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:""},dz:{name:"Dzongkha",nativeName:""},ee:{name:"Ewe",nativeName:"Eegbe"},el:{name:"Greek",nativeName:""},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espaol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:""},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"froyskt"},fr:{name:"French",nativeName:"Franais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran",nativeName:"Avae'"},gu:{name:"Gujarati",nativeName:""},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:""},he:{name:"Hebrew",nativeName:""},hi:{name:"Hindi",nativeName:""},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Kreyl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:""},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gky"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:" "},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:""},kn:{name:"Kannada",nativeName:""},ko:{name:"Korean",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:""},ku:{name:"Kurdish",nativeName:"Kurd"},kv:{name:"Komi",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:""},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Ltzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latvieu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mi:{name:"Mori",nativeName:"te reo Mori"},mk:{name:"Macedonian",nativeName:" "},ml:{name:"Malayalam",nativeName:""},mn:{name:"Mongolian",nativeName:" "},mr:{name:"Marathi",nativeName:""},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:""},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din bizaad"},ny:{name:"Chichewa",nativeName:"chiChea"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:""},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian",nativeName:" "},pa:{name:"Panjabi",nativeName:""},pi:{name:"Pli",nativeName:""},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Romn"},ru:{name:"Russian",nativeName:""},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:""},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sg:{name:"Sango",nativeName:"yng t sng"},si:{name:"Sinhala",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovenian",nativeName:"slovenina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:" "},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmene"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:" "},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:""},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang",nativeName:"Sa cue"},zh:{name:"Chinese",nativeName:""},zu:{name:"Zulu",nativeName:"isiZulu"}};class en{static getLanguages(e=[]){return e.map(e=>({code:e,name:en.getName(e),nativeName:en.getNativeName(e)}))}static getName(e){return en.validate(e)?et[e].name:""}static getAllNames(){return Object.values(et).map(e=>e.name)}static getNativeName(e){return en.validate(e)?et[e].nativeName:""}static getAllNativeNames(){return Object.values(et).map(e=>e.nativeName)}static getCode(e){return Object.keys(et).find(t=>{let n=et[t];return n.name.toLowerCase()===e.toLowerCase()||n.nativeName.toLowerCase()===e.toLowerCase()})||""}static getAllCodes(){return Object.keys(et)}static validate(e){return et.hasOwnProperty(e)}}function er(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function ei(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function eo(e){return function(t,n){(0,x.B)({name:"isLongerThan",target:t.constructor,propertyName:n,options:e,validator:{validate:ea,defaultMessage:()=>"$property must be a JSON Object with only string / number / boolean / null types"}})}}function ea(e){if(!J()(e))return!1;for(let t in e){if(!O()(t))return!1;let n=e[t];if(ee()(n)||!(O()(n)||$()(n)||Y()(n)||Q()(n)))return!1}return!0}function es(e){return function(t,n){(0,x.B)({name:"isNotBlank",target:t.constructor,propertyName:n,options:e,validator:{validate:eu}})}}function eu(e){return"string"==typeof e&&e.trim().length>0}function ec(e){return(0,R.q)({name:"isISO6391",validator:{validate:(e,t)=>"string"==typeof e&&en.validate(e.toLocaleLowerCase()),defaultMessage:(0,R.Y)(e=>e+"$property must be a valid ISO6391 code",e)}},e)}let el=({value:e})=>"true"===e||"false"!==e&&e,ed=({value:e})=>{if(!e)return;let t=Number(e);return new Date(isNaN(t)?e:t)};class ef{isAnonymous;user_id;email;name;language;country;appVersion;appBuild;customData;privateCustomData;createdDate;lastSeenDate;platform;platformVersion;deviceModel;sdkType="api";sdkVersion}er([(0,A.Zx)(),(0,P.X)(),(0,q.d)(el),ei("design:type",Boolean)],ef.prototype,"isAnonymous",void 0),er([(0,D.IP)(),es(),(0,L.Fv)(),ei("design:type",String)],ef.prototype,"user_id",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"email",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"name",void 0),er([ec(),(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"language",void 0),er([(0,M.Nt)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"country",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"appVersion",void 0),er([(0,U.Mx)(),(0,P.X)(),(0,z.Z)(()=>Number),ei("design:type",Number)],ef.prototype,"appBuild",void 0),er([eo(),(0,P.X)(),(0,q.d)(({value:e})=>O()(e)?JSON.parse(e):e),ei("design:type",Object)],ef.prototype,"customData",void 0),er([eo(),(0,P.X)(),(0,q.d)(({value:e})=>O()(e)?JSON.parse(e):e),ei("design:type",Object)],ef.prototype,"privateCustomData",void 0),er([(0,j.XF)(),(0,P.X)(),(0,q.d)(ed),ei("design:type",Date)],ef.prototype,"createdDate",void 0),er([(0,j.XF)(),(0,P.X)(),(0,q.d)(ed),ei("design:type",Date)],ef.prototype,"lastSeenDate",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"platform",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"platformVersion",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"deviceModel",void 0),er([(0,D.IP)(),(0,P.X)(),(0,B.Sf)(["client","server","mobile","api"]),(0,q.d)(({value:e})=>e),ei("design:type",String)],ef.prototype,"sdkType",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ef.prototype,"sdkVersion",void 0),er([(0,P.X)(),(0,q.d)(({value:e})=>O()(e)?JSON.parse(e):e),ei("design:type",Object)],(class extends ef{optIns}).prototype,"optIns",void 0);class ep{isAnonymous;user_id;email;name;language;country;appVersion;appBuild;customData;privateCustomData;createdDate;lastSeenDate;platform;platformVersion;deviceModel;sdkType;sdkVersion;isDebug}er([(0,A.Zx)(),(0,q.d)(el),ei("design:type",Boolean)],ep.prototype,"isAnonymous",void 0),er([(0,D.IP)(),es(),(0,L.Fv)(),ei("design:type",String)],ep.prototype,"user_id",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ep.prototype,"email",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ep.prototype,"name",void 0),er([ec(),(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ep.prototype,"language",void 0),er([(0,M.Nt)(),(0,P.X)(),ei("design:type",String)],ep.prototype,"country",void 0),er([(0,D.IP)(),(0,P.X)(),ei("design:type",String)],ep.prototype,"appVersion",void 0),er([(0,U.Mx)(),(0,P.X)(),(0,z.Z)(()=>Number),ei("design:type",Number)],ep.prototype,"appBuild",void 0),er([eo(),(0,P.X)(),(0,q.d)(({value:e})=>O()(e)?JSON.parse(e):e),ei("design:type",Object)],ep.prototype,"customData",void 0),er([eo(),(0,P.X)(),(0,q.d)(({value:e})=>O()(e)?JSON.parse(e):e),ei("design:type",Object)],ep.prototype,"privateCustomData",void 0),er([(0,j.XF)(),(0,q.d)(ed),ei("design:type",Date)],ep.prototype,"createdDate",void 0),er([(0,j.XF)(),(0,q.d)(ed),ei("design:type",Date)],ep.prototype,"lastSeenDate",void 0),er([(0,D.IP)(),(0,L.Fv)(),ei("design:type",String)],ep.prototype,"platform",void 0),er([(0,D.IP)(),(0,L.Fv)(),ei("design:type",String)],ep.prototype,"platformVersion",void 0),er([(0,D.IP)(),(0,L.Fv)(),ei("design:type",String)],ep.prototype,"deviceModel",void 0),er([(0,D.IP)(),(0,B.Sf)(["client","mobile"]),ei("design:type",String)],ep.prototype,"sdkType",void 0),er([(0,D.IP)(),(0,L.Fv)(),ei("design:type",String)],ep.prototype,"sdkVersion",void 0),er([(0,A.Zx)(),(0,P.X)(),(0,q.d)(({value:e})=>O()(e)?"true"===e:e),ei("design:type",Boolean)],ep.prototype,"isDebug",void 0),er([(0,D.IP)(),es(),(0,L.Fv)(),ei("design:type",String)],(class{user_id}).prototype,"user_id",void 0);class ev{type;target;date;value;metaData}er([(0,L.Fv)(),(0,D.IP)(),ei("design:type",String)],ev.prototype,"type",void 0),er([(0,P.X)(),(0,D.IP)(),ei("design:type",String)],ev.prototype,"target",void 0),er([(0,P.X)(),(0,U.Mx)(),ei("design:type",Number)],ev.prototype,"date",void 0),er([(0,P.X)(),(0,U.Mx)(),ei("design:type",Number)],ev.prototype,"value",void 0),er([(0,P.X)(),(0,H.av)(),ei("design:type",Object)],ev.prototype,"metaData",void 0);class eh{user;events}er([(0,L.Fv)(),(0,V.K)(),(0,z.Z)(()=>ef),ei("design:type",ef)],eh.prototype,"user",void 0),er([(0,L.Fv)(),(0,F.QS)(),(0,V.K)({each:!0}),(0,z.Z)(()=>ev),ei("design:type",Array)],eh.prototype,"events",void 0),function(e){e["="]="=",e["!="]="!=",e[">"]=">",e[">="]=">=",e["<"]="<",e["<="]="<=",e.exist="exist",e["!exist"]="!exist",e.contain="contain",e["!contain"]="!contain"}(r||(r={})),function(e){e["="]="=",e.exist="exist",e["!exist"]="!exist"}(i||(i={})),function(e){e["="]="=",e["!="]="!=",e.exist="exist",e["!exist"]="!exist",e.contain="contain",e["!contain"]="!contain"}(o||(o={})),function(e){e["="]="=",e["!="]="!=",e[">"]=">",e[">="]=">=",e["<"]="<",e["<="]="<=",e.exist="exist",e["!exist"]="!exist"}(a||(a={})),function(e){e["="]="=",e["!="]="!=",e[">"]=">",e[">="]=">=",e["<"]="<",e["<="]="<=",e.exist="exist",e["!exist"]="!exist"}(s||(s={})),function(e){e.all="all",e.user="user",e.optIn="optIn",e.audienceMatch="audienceMatch"}(u||(u={})),function(e){e.user_id="user_id",e.email="email",e.ip="ip",e.country="country",e.platform="platform",e.platformVersion="platformVersion",e.appVersion="appVersion",e.deviceModel="deviceModel",e.customData="customData"}(c||(c={})),function(e){e.mixpanel="mixpanel",e.csv="csv"}(l||(l={})),function(e){e.string="String",e.boolean="Boolean",e.number="Number",e.semver="Semver"}(d||(d={})),function(e){e.and="and",e.or="or"}(f||(f={})),(p||(p={})).override="override";class eg{type;date;percentage}er([(0,z.Z)(()=>Date),ei("design:type",Date)],eg.prototype,"date",void 0);class em{type;startPercentage;startDate;stages}er([(0,z.Z)(()=>Date),ei("design:type",Date)],em.prototype,"startDate",void 0),er([(0,z.Z)(()=>eg),ei("design:type",Array)],em.prototype,"stages",void 0);class ey{_id;_audience;rollout;distribution;type}er([(0,z.Z)(()=>em),ei("design:type",em)],ey.prototype,"rollout",void 0);class eb{_id;prerequisites;winningVariation;forcedUsers;targets}er([(0,z.Z)(()=>ey),ei("design:type",Array)],eb.prototype,"targets",void 0),function(e){e.api="api",e.dashboard="dashboard"}(v||(v={})),function(e){e.release="release",e.experiment="experiment",e.permission="permission",e.ops="ops"}(h||(h={}));class eS{_id;type;key;variations;configuration;settings;tags}er([(0,z.Z)(()=>eb),ei("design:type",eb)],eS.prototype,"configuration",void 0),function(e){e.api="api",e.dashboard="dashboard",e.clientSDK="clientSDK",e.serverSDK="serverSDK"}(g||(g={})),function(e){e.string="String",e.boolean="Boolean",e.number="Number",e.json="JSON"}(m||(m={})),er([(0,z.Z)(()=>eS),ei("design:type",Array)],(class{project;environment;features;variables;audiences;variableHashes;listAudiences;debugUsers;sse;ably;clientSDKKey}).prototype,"features",void 0);class ew{type;target;customType;user_id;date;clientDate;value;featureVars;metaData}function e_(e,t,n,r){if("boolean"==typeof e)return m.boolean;if("number"==typeof e)return m.number;if("string"==typeof e)return m.string;if("object"==typeof e)return m.json;if(!r)return n.warn(`The default value for variable ${t} is not of type Boolean, Number, String, or JSON`),null;throw Error(`The default value for variable ${t} is not of type Boolean, Number, String, or JSON`)}er([(0,D.IP)(),ei("design:type",String)],ew.prototype,"type",void 0),er([(0,P.X)(),(0,D.IP)(),ei("design:type",String)],ew.prototype,"target",void 0),er([(0,P.X)(),(0,D.IP)(),ei("design:type",String)],ew.prototype,"customType",void 0),er([(0,D.IP)(),(0,L.Fv)(),ei("design:type",String)],ew.prototype,"user_id",void 0),er([(0,U.Mx)(),ei("design:type",Number)],ew.prototype,"date",void 0),er([(0,U.Mx)(),ei("design:type",Number)],ew.prototype,"clientDate",void 0),er([(0,P.X)(),(0,U.Mx)(),ei("design:type",Number)],ew.prototype,"value",void 0),er([(0,L.Fv)(),ei("design:type",Object)],ew.prototype,"featureVars",void 0),er([(0,P.X)(),ei("design:type",Object)],ew.prototype,"metaData",void 0);class eE extends Error{constructor(e){super(e),this.name="ResponseError"}}let eC=e=>{let t=100*Math.pow(2,e),n=.2*t*Math.random();return t+n},eT=e=>(t,n,r)=>!(t>=e)&&(!r||!((null==r?void 0:r.status)<500));async function ek(e){if(!e.ok&&e.status>=400){let t;try{let n=await e.clone().json();t=new eE(n.message||"Something went wrong")}catch(e){t=new eE("Something went wrong")}throw t.status=e.status,t}return e}async function eI(e,t,n){var r;let i=new AbortController;try{let r=setTimeout(()=>{i.abort()},n),o=await ex(e,{...t,signal:i.signal});return clearTimeout(r),o}catch(e){if(null===(r=null==i?void 0:i.signal)||void 0===r?void 0:r.aborted)throw Error("Network connection timed out.");throw e}}async function eN(e,t,n){let[r,i]=await eR(t),o={...i.headers,Authorization:n,"Content-Type":"application/json"};return ek(await r(e,{...i,headers:o,method:"POST"}))}async function eO(e,t,n){let[r,i]=await eR(t),o={...i.headers,Authorization:n,"Content-Type":"application/json"};return ek(await r(e,{...i,headers:o,method:"PATCH"}))}async function ex(e,t){let[n,r]=await eR(t),i={...r.headers,"Content-Type":"application/json"};return ek(await n(e,{...r,headers:i,method:"GET"}))}async function eR(e){if("retries"in e&&e.retries){let t={...e};return t.retryOn=eT(e.retries),t.retryDelay=eC,[_()(fetch),t]}return[fetch,e]}let eA=".devcycle.com",eP="https://sdk-api"+eA,eD="https://events"+eA,eL={retries:5,retryDelay:eC},eM=async(e,t,n,r,i)=>{let o=new URLSearchParams({sdkKey:e});eq(t,o),(null==r?void 0:r.enableEdgeDB)&&o.append("enableEdgeDB",r.enableEdgeDB.toString()),(null==i?void 0:i.sse)&&(o.append("sse","1"),i.lastModified&&o.append("sseLastModified",i.lastModified.toString()),i.etag&&o.append("sseEtag",i.etag)),(null==r?void 0:r.enableObfuscation)&&o.append("obfuscated","1"),(null==r?void 0:r.sdkPlatform)&&o.append("sdkPlatform",r.sdkPlatform);let a=`${(null==r?void 0:r.apiProxyURL)||eP}/v1/sdkConfig?`+o.toString();try{let e=await eI(a,eL,5e3);return await e.json()}catch(e){throw n.error(`Request to get config failed for url: ${a}, response message: ${e}`),Error(`Failed to download DevCycle config. Error details: ${e}`)}},eU=async(e,t,n,r,i,o)=>{if(!e)throw Error("Missing sdkKey to publish events to Events API");let a=function(e,t,n){return{events:n.map(n=>new eV(n,t.user_id,null==e?void 0:e.featureVariationMap)),user:t}}(t,n,r);i.info(`Submit Events Payload: ${JSON.stringify(a)}`);let s=`${(null==o?void 0:o.apiProxyURL)||eD}/v1/events`;(null==o?void 0:o.enableObfuscation)&&(s+="?obfuscated=1");let u=await eN(s,{...eL,body:JSON.stringify(a)},e),c=await u.json();return u.status>=400?i.error(`Error posting events, status: ${u.status}, body: ${c}`):i.info(`Posted Events, status: ${u.status}, body: ${c}`),u},ej=async(e,t,n,r)=>{if(!t)throw Error("Missing sdkKey to save to Edge DB!");if(!e||!e.user_id)throw Error("Missing user to save to Edge DB!");if(e.isAnonymous)throw Error("Cannot save user data for an anonymous user!");try{return await eO(`${(null==r?void 0:r.apiProxyURL)||eP}/v1/edgedb/${encodeURIComponent(e.user_id)}`,{...eL,body:JSON.stringify(e)},t)}catch(e){403===e.status?n.warn("Warning: EdgeDB feature is not enabled for this project"):e.status>=400?n.warn(`Error saving user entity, status: ${e.status}, body: ${e.message}`):n.info(`Saved user entity, status: ${e.status}, body: ${e.message}`);return}},eB={variableEvaluated:"variableEvaluated",variableDefaulted:"variableDefaulted"};class eH{constructor(e,t,n){var r,i;this.eventQueueBatchSize=100,this.sdkKey=e,this.client=t,this.eventQueue=[],this.aggregateEventMap={},this.options=n;let o="number"==typeof n.eventFlushIntervalMS?n.eventFlushIntervalMS:1e4;if(o<500)throw Error(`eventFlushIntervalMS: ${o} must be larger than 500ms`);if(o>6e4)throw Error(`eventFlushIntervalMS: ${o} must be smaller than 1 minute`);if(this.flushInterval=setInterval(this.flushEvents.bind(this),o),this.flushEventQueueSize=null!==(r=null==n?void 0:n.flushEventQueueSize)&&void 0!==r?r:100,this.maxEventQueueSize=null!==(i=null==n?void 0:n.maxEventQueueSize)&&void 0!==i?i:1e3,this.flushEventQueueSize>=this.maxEventQueueSize)throw Error(`flushEventQueueSize: ${this.flushEventQueueSize} must be smaller than maxEventQueueSize: ${this.maxEventQueueSize}`);if(this.flushEventQueueSize<10||this.flushEventQueueSize>1e3)throw Error(`flushEventQueueSize: ${this.flushEventQueueSize} must be between 10 and 1000`);if(this.maxEventQueueSize<100||this.maxEventQueueSize>5e3)throw Error(`maxEventQueueSize: ${this.maxEventQueueSize} must be between 100 and 5000`)}async flushEvents(){let e=this.client.user;if(!e){this.client.logger.warn("Skipping event flush, user has not been set yet.");return}let t=[...this.eventQueue],n=this.eventsFromAggregateEventMap();if(t.push(...n),t.length)for(let n of(this.client.logger.info(`Flush ${t.length} Events`),this.eventQueue=[],this.aggregateEventMap={},C()(t,this.eventQueueBatchSize)))try{let t=await eU(this.sdkKey,this.client.config||null,e,n,this.client.logger,this.options);201===t.status?this.client.logger.info(`DevCycle Flushed ${n.length} Events.`):t.status>=500||408===t.status?(this.client.logger.warn(`failed to flush events, retrying events. Response status: ${t.status}, message: ${t.statusText}`),this.eventQueue.push(...n)):this.client.logger.error(`failed to flush events, dropping events. Response status: ${t.status}, message: ${t.statusText}`)}catch(e){this.client.eventEmitter.emitError(e),this.client.logger.error(`failed to flush events due to error, dropping events. Error message: ${null==e?void 0:e.message}`)}}queueEvent(e){if(this.checkEventQueueSize()){this.client.logger.warn(`DevCycle: Max event queue size (${this.maxEventQueueSize}) reached, dropping event: ${e}`);return}this.eventQueue.push(e)}queueAggregateEvent(e){if(this.checkEventQueueSize()){this.client.logger.warn(`DevCycle: Max event queue size (${this.maxEventQueueSize}) reached, dropping event: ${e}`);return}ez("type",e.type),ez("target",e.target),e.date=Date.now(),e.value=1;let t=this.aggregateEventMap[e.type];t?t[e.target]?t[e.target].value++:t[e.target]=e:this.aggregateEventMap[e.type]={[e.target]:e}}checkEventQueueSize(){let e=Object.values(this.aggregateEventMap).reduce((e,t)=>e+Object.keys(t).length,0),t=this.eventQueue.length+e;return t>=this.flushEventQueueSize&&this.flushEvents(),t>=this.maxEventQueueSize}eventsFromAggregateEventMap(){return Object.values(this.aggregateEventMap).map(e=>Object.values(e)).flat()}async close(){clearInterval(this.flushInterval),await this.flushEvents()}}class eV{constructor(e,t,n){let{type:r,target:i,date:o,value:a,metaData:s}=e;ez("type",r);let u=!(r in eB);this.type=u?"customEvent":r,this.customType=u?r:void 0,this.target=i,this.user_id=t,this.clientDate=o||Date.now(),this.value=a,this.featureVars=n||{},this.metaData=s}}let eF=e=>e instanceof Date?e.getTime():"object"==typeof e?JSON.stringify(e):e,eq=(e,t)=>{for(let n in e){let r=eF(e[n]);null!=r&&t.append(n,r)}},ez=(e,t)=>{if(!eK(t))throw Error(`Missing parameter: ${e}`)},eK=e=>null!=e,e$=(e,t,n)=>{if(!t)throw Error(`Missing parameter: ${e}`);if(typeof t!==n)throw Error(`${e} is not of type ${n}`)};function eG(){return"undefined"!=typeof self&&self.constructor&&"ServiceWorkerGlobalScope"===self.constructor.name}class eY{constructor(e){let{key:t,defaultValue:n}=e;e$("key",t,"string"),ez("defaultValue",n),this.key=t.toLowerCase(),void 0===e.value||null===e.value?(this.isDefaulted=!0,this.value=n):(this.value=e.value,this.isDefaulted=!1),this.defaultValue=e.defaultValue,this.evalReason=e.evalReason}onUpdate(e){return e$("callback",e,"function"),this.callback=e,this}}let eX={User:"dvc:user",AnonUserId:"dvc:anonymous_user_id",AnonymousConfig:"dvc:anonymous_config",IdentifiedConfig:"dvc:identified_config"};class eJ{constructor(e,t){this.store=e,this.logger=t}getConfigKey(e){return e.isAnonymous?eX.AnonymousConfig:eX.IdentifiedConfig}getConfigUserIdKey(e){return`${this.getConfigKey(e)}.user_id`}getConfigFetchDateKey(e){return`${this.getConfigKey(e)}.fetch_date`}async loadConfigUserId(e){let t=this.getConfigUserIdKey(e);return await this.store.load(t)}async loadConfigFetchDate(e){let t=this.getConfigFetchDateKey(e);return parseInt(await this.store.load(t)||"0",10)}async saveConfig(e,t,n){var r;let i=this.getConfigKey(t),o=this.getConfigFetchDateKey(t),a=this.getConfigUserIdKey(t);await Promise.all([this.store.save(i,e),this.store.save(o,n),this.store.save(a,t.user_id)]),null===(r=this.logger)||void 0===r||r.info("Successfully saved config to local storage")}isBucketedUserConfig(e){return!!e&&"object"==typeof e&&"features"in e&&"project"in e&&"environment"in e&&"featureVariationMap"in e&&"variableVariationMap"in e&&"variables"in e}async loadConfig(e,t=6048e5){var n,r,i,o;let a=await this.loadConfigUserId(e);if(e.user_id!==a)return null===(n=this.logger)||void 0===n||n.debug(`Skipping cached config: no config for user ID ${e.user_id}`),null;let s=await this.loadConfigFetchDate(e);if(Date.now()-s>t)return null===(r=this.logger)||void 0===r||r.debug("Skipping cached config: last fetched date is too old"),null;let u=await this.getConfigKey(e),c=await this.store.load(u);return null==c?(null===(i=this.logger)||void 0===i||i.debug("Skipping cached config: no config found"),null):this.isBucketedUserConfig(c)?c:(null===(o=this.logger)||void 0===o||o.debug(`Skipping cached config: invalid config found: ${JSON.stringify(c)}`),null)}async saveUser(e){var t;if(!e)throw Error("No user to save");await this.store.save(eX.User,e),null===(t=this.logger)||void 0===t||t.info("Successfully saved user to local storage")}async loadUser(){return await this.store.load(eX.User)}async saveAnonUserId(e){var t;await this.store.save(eX.AnonUserId,e),null===(t=this.logger)||void 0===t||t.info("Successfully saved anonymous user id to local storage")}async loadAnonUserId(){return await this.store.load(eX.AnonUserId)}async removeAnonUserId(){await this.store.remove(eX.AnonUserId)}}class eW{}class eQ extends eW{constructor(e=!1){super(),this.isTesting=e,this.init()}async init(){this.store=this.isTesting?eZ:window.localStorage}async save(e,t){this.store.setItem(e,JSON.stringify(t))}async load(e){let t=this.store.getItem(e);return t?JSON.parse(t):void 0}async remove(e){this.store.removeItem(e)}}let eZ={getItem:()=>null,setItem:()=>void 0,removeItem:()=>void 0,clear:()=>void 0,key:()=>null,length:0};class e0 extends eW{constructor(){super(),this.connectionPromise=new Promise((e,t)=>{this.init().then(t=>{this.store=t,this.isReady=!0,e()}).catch(e=>t(e))})}async init(){return new Promise((e,t)=>{let n=indexedDB.open(e0.DBName,1);n.onupgradeneeded=e=>{let t=n.result;t.objectStoreNames.contains(e0.storeName)||t.createObjectStore(e0.storeName,{keyPath:"id"})},n.onsuccess=t=>{e(n.result)},n.onerror=e=>{t(n.error)}})}async save(e,t){await this.connectionPromise,this.store.transaction(e0.storeName,"readwrite").objectStore(e0.storeName).put({id:e,data:t})}async load(e){await this.connectionPromise;let t=this.store.transaction(e0.storeName,"readonly").objectStore(e0.storeName).get(e);return new Promise((e,n)=>{t.onsuccess=()=>{e(t.result?t.result.data:void 0)},t.onerror=()=>n(t.error)})}async remove(e){await this.connectionPromise,this.store.transaction(e0.storeName,"readwrite").objectStore(e0.storeName).delete(e)}}e0.storeName="DevCycleStore",e0.DBName="DevCycleDB";var e1={version:"1.25.0"};class e2{constructor(e,t,n,r,i){var o;if((null===(o=e.user_id)||void 0===o?void 0:o.trim())==="")throw Error("A User cannot be created with a user_id that is an empty string");this.user_id=e.isAnonymous||!e.user_id?e.user_id||r||(0,T.A)():e.user_id,this.isAnonymous=e.isAnonymous||!e.user_id,this.email=e.email,this.name=e.name,this.language=e.language,this.country=e.country,this.appVersion=e.appVersion,this.appBuild=e.appBuild,this.customData=e.customData,this.privateCustomData=e.privateCustomData,this.lastSeenDate=new Date;let a="undefined"!=typeof window?window.navigator.userAgent:i;if(n)Object.assign(this,n);else{let e=new(I())(a),n=e.getBrowser().name&&`${e.getBrowser().name} ${e.getBrowser().version}`;this.createdDate=new Date,this.platform=(null==t?void 0:t.reactNative)?"ReactNative":"web",this.platformVersion=null!=n?n:"unknown",this.deviceModel=(null==t?void 0:t.reactNative)&&globalThis.DeviceInfo?globalThis.DeviceInfo.getModel():null!=a?a:"SSR - unknown",this.sdkType="client",this.sdkVersion=e1.version}}getStaticData(){return{createdDate:this.createdDate,platform:this.platform,platformVersion:this.platformVersion,deviceModel:this.deviceModel,sdkType:this.sdkType,sdkVersion:this.sdkVersion}}updateUser(e,t){if(this.user_id!==e.user_id)throw Error("Cannot update a user with a different user_id");return new e2(e,t,this.getStaticData())}}let e3={INITIALIZED:"initialized",NEW_VARIABLES:"newVariables",ERROR:"error",VARIABLE_UPDATED:"variableUpdated",FEATURE_UPDATED:"featureUpdated",CONFIG_UPDATED:"configUpdated",VARIABLE_EVALUATED:"variableEvaluated"},e4=e=>!Object.values(e3).includes(e)&&!e.startsWith(e3.VARIABLE_UPDATED)&&!e.startsWith(e3.FEATURE_UPDATED)&&!e.startsWith(e3.NEW_VARIABLES)&&!e.startsWith(e3.VARIABLE_EVALUATED);class e6{constructor(){this.handlers={}}subscribe(e,t){if(e$("key",e,"string"),e$("handler",t,"function"),e4(e))throw Error("Not a valid event to subscribe to");this.handlers[e]?this.handlers[e].push(t):this.handlers[e]=[t]}unsubscribe(e,t){if(e$("key",e,"string"),!e4(e)){if(t){let n=this.handlers[e].findIndex(e=>e===t);this.handlers[e].splice(n,1)}else this.handlers[e]=[]}}emit(e,...t){var n;e$("key",e,"string"),null===(n=this.handlers[e])||void 0===n||n.forEach(e=>{new Promise(n=>{e(...t),n(!0)})})}emitInitialized(e){this.emit(e3.INITIALIZED,e)}emitError(e){this.emit(e3.ERROR,e)}emitConfigUpdate(e){this.emit(e3.CONFIG_UPDATED,e)}emitVariableEvaluated(e){this.emit(`${e3.VARIABLE_EVALUATED}:*`,e.key,e),this.emit(`${e3.VARIABLE_EVALUATED}:${e.key}`,e.key,e)}emitVariableUpdates(e,t,n){let r=new Set(Object.keys(e).concat(Object.keys(t))),i=!1;r.forEach(r=>{let o=e[r]&&e[r].value,a=t[r],s=a&&t[r].value;if(JSON.stringify(o)!==JSON.stringify(s)){let e=n[r]&&Object.values(n[r]);e&&(i=!0,e.forEach(e=>{var t;e.value=null!=s?s:e.defaultValue,e.isDefaulted=null==s,null===(t=e.callback)||void 0===t||t.call(e,e.value)}));let t=a||null;this.emit(`${e3.VARIABLE_UPDATED}:*`,r,t),this.emit(`${e3.VARIABLE_UPDATED}:${r}`,r,t)}}),i&&this.emit(`${e3.NEW_VARIABLES}`)}emitFeatureUpdates(e,t){Object.keys(e).concat(Object.keys(t)).forEach(n=>{let r=e[n]&&e[n]._variation,i=t[n],o=i&&t[n]._variation,a=i||null;r!==o&&(this.emit(`${e3.FEATURE_UPDATED}:*`,n,a),this.emit(`${e3.FEATURE_UPDATED}:${n}`,n,a))})}}class e5{constructor(e,t,n){this.requestConfigFunction=e,this.handleConfigReceivedFunction=t,this.nextUser=n,this.resolvers=[],this.requestParams=null}async queue(e,t){e&&(this.nextUser=e),t&&(this.requestParams=t);let n=new Promise((e,t)=>{this.resolvers.push({resolve:e,reject:t})});return this.currentPromise||this.processQueue(),n}async processQueue(){if(!this.resolvers.length)return;let e=this.resolvers.splice(0);await this.performRequest(this.nextUser).then(t=>{this.resolvers.length?this.resolvers.push(...e):(this.handleConfigReceivedFunction(t,this.nextUser),e.forEach(({resolve:e})=>e(t)))}).catch(t=>{e.forEach(({reject:e})=>e(t))}),this.resolvers.length&&this.processQueue()}async performRequest(e){this.currentPromise=this.requestConfigFunction(e,this.requestParams?this.requestParams:void 0),this.requestParams=null;let t=await this.currentPromise;return this.currentPromise=null,t}}let e8="[DevCycle]: ";!function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error"}(y||(y={}));class e9{constructor(e,t,n){this.url=e,this.onMessage=t,this.logger=n,this.openConnection()}openConnection(){if("undefined"==typeof EventSource){this.logger.warn("StreamingConnection not opened. EventSource is not available.");return}this.connection=new EventSource(this.url,{withCredentials:!0}),this.connection.onmessage=e=>{this.onMessage(e.data)},this.connection.onerror=()=>{this.logger.warn("StreamingConnection warning. Connection failed to establish.")},this.connection.onopen=()=>{this.logger.debug("StreamingConnection opened")}}isConnected(){var e,t;return(null===(e=this.connection)||void 0===e?void 0:e.readyState)===(null===(t=this.connection)||void 0===t?void 0:t.OPEN)}reopen(){this.isConnected()||(this.close(),this.openConnection())}close(){var e;null===(e=this.connection)||void 0===e||e.close()}}class e7{get isInitialized(){return this._isInitialized}constructor(e,t,n={}){var r;if(this._isInitialized=!1,this.userSaved=!1,this._closing=!1,this.isConfigCached=!1,this.initializeTriggered=!1,this.clientInitialization=async e=>{var t,n;if(this.initializeTriggered||this._closing)return this;this.initializeTriggered=!0;let r=e.user_id?void 0:await this.store.loadAnonUserId();this.user=new e2(e,this.options,void 0,r),this.options.bootstrapConfig||await this.getConfigCache(this.user),this.requestConsolidator=new e5((e,t)=>eM(this.sdkKey,e,this.logger,this.options,t),(e,t)=>this.handleConfigReceived(e,t,Date.now()),this.user);try{this.options.bootstrapConfig?this.handleConfigReceived(this.options.bootstrapConfig,this.user,Date.now()):await this.requestConsolidator.queue(this.user),this.resolveOnInitialized(this),this.logger.info("Client initialized")}catch(e){return this.initializeOnConfigFailure(this.user,e),this}return this.eventEmitter.emitInitialized(!0),this.user.isAnonymous?this.store.saveAnonUserId(this.user.user_id):this.store.removeAnonUserId(),(null===(n=null===(t=this.config)||void 0===t?void 0:t.sse)||void 0===n?void 0:n.url)&&(this.options.disableRealtimeUpdates?this.logger.info("Disabling Realtime Updates based on Initialization parameter"):this.streamingConnection=new e9(this.config.sse.url,this.onSSEMessage.bind(this),this.logger)),this},this.initializeOnConfigFailure=(e,t)=>{this.isInitialized||(this.eventEmitter.emitInitialized(!1),t&&this.eventEmitter.emitError(t),this.setUser(e),this.resolveOnInitialized(this))},n.sdkPlatform||(n.sdkPlatform="js"),(null===(r=n.next)||void 0===r?void 0:r.configRefreshHandler)&&(this.configRefetchHandler=n.next.configRefreshHandler),this.logger=n.logger||function(e){let t=(null==e?void 0:e.level)&&$()(y[null==e?void 0:e.level])?y[null==e?void 0:e.level]:y.error,n=(null==e?void 0:e.logWriter)||console.log,r=(null==e?void 0:e.logWriter)||console.error,i=e=>n(e8+e),o=e=>{};return{error:y.error>=t?(e,t)=>r(e8+e,t):o,warn:y.warn>=t?i:o,info:y.info>=t?i:o,debug:y.debug>=t?i:o}}({level:n.logLevel}),this.store=new eJ(n.storage||(eG()?new e0:new eQ("undefined"==typeof window)),this.logger),this.options=n,this.sdkKey=e,this.variableDefaultMap={},this.eventQueue=new eH(e,this,n),this.eventEmitter=new e6,this.registerVisibilityChangeHandler(),this.onInitialized=new Promise((e,t)=>{this.resolveOnInitialized=t=>{this._isInitialized=!0,e(t)}}),this.options.deferInitialization){if(this.options.bootstrapConfig)throw Error("bootstrapConfig option can not be combined with deferred initialization!")}else{if(!t)throw Error("User must be provided to initialize SDK");this.clientInitialization(t)}(null==n?void 0:n.reactNative)||"undefined"==typeof window||(this.windowMessageHandler=e=>{let t=e.data;(null==t?void 0:t.type)==="DVC.optIn.saved"&&this.refetchConfig(!1)},window.addEventListener("message",this.windowMessageHandler),this.windowPageHideHandler=()=>{this.flushEvents()},window.addEventListener("pagehide",this.windowPageHideHandler))}onClientInitialized(e){if(e&&"function"==typeof e){this.onInitialized.then(()=>e(null,this)).catch(t=>e(t));return}return this.onInitialized}variable(e,t){var n,r;let i;if(null==t)throw Error("Default value is a required param");let o=e_(t,e,this.logger,!0),a="string"==typeof t?t:JSON.stringify(t);if(this.variableDefaultMap[e]&&this.variableDefaultMap[e][a])i=this.variableDefaultMap[e][a];else{let s=null===(r=null===(n=this.config)||void 0===n?void 0:n.variables)||void 0===r?void 0:r[e],u={key:e,defaultValue:t};s&&(s.type===o?(u.value=s.value,u.evalReason=s.evalReason):this.logger.warn(`Type mismatch for variable ${e}. Expected ${o}, got ${s.type}`)),i=new eY(u),this.variableDefaultMap[e]={[a]:i,...this.variableDefaultMap[e]}}return this.trackVariableEvaluated(i),this.eventEmitter.emitVariableEvaluated(i),i}trackVariableEvaluated(e){var t,n;if(!this.options.disableAutomaticEventLogging)try{let r=null===(n=null===(t=this.config)||void 0===t?void 0:t.variables)||void 0===n?void 0:n[e.key];this.eventQueue.queueAggregateEvent({type:e.isDefaulted?eB.variableDefaulted:eB.variableEvaluated,target:e.key,metaData:{value:e.value,type:e_(e.defaultValue,e.key,this.logger),_variable:null==r?void 0:r._id}})}catch(e){this.eventEmitter.emitError(e),this.logger.warn(`Error with queueing aggregate events ${e}`)}}variableValue(e,t){return this.variable(e,t).value}identifyUser(e,t){let n=this._identifyUser(e);if(t&&"function"==typeof t){n.then(e=>t(null,e)).catch(e=>t(e,null));return}return n}async _identifyUser(e){var t;let n;if(this.options.deferInitialization&&!this.initializeTriggered)return await this.clientInitialization(e),(null===(t=this.config)||void 0===t?void 0:t.variables)||{};this.eventQueue.flushEvents();try{await this.onInitialized;let t=await this.store.loadAnonUserId();n=this.user&&e.user_id===this.user.user_id?this.user.updateUser(e,this.options):new e2(e,this.options,void 0,t);let r=await this.requestConsolidator.queue(n);return(e.isAnonymous||!e.user_id)&&await this.store.saveAnonUserId(n.user_id),r.variables||{}}catch(e){throw this.eventEmitter.emitError(e),e}}resetUser(e){let t;let n=new e2({isAnonymous:!0},this.options),r=new Promise((e,r)=>{this.eventQueue.flushEvents(),this.onInitialized.then(()=>this.store.loadAnonUserId()).then(async e=>{await this.store.removeAnonUserId(),t=e}).then(()=>this.requestConsolidator.queue(n)).then(async t=>{await this.store.saveAnonUserId(n.user_id),e(t.variables||{})}).catch(async e=>{this.eventEmitter.emitError(e),t&&await this.store.saveAnonUserId(t),r(e)})});if(e&&"function"==typeof e){r.then(t=>e(null,t)).catch(t=>e(t,null));return}return r}allFeatures(){var e;return(null===(e=this.config)||void 0===e?void 0:e.features)||{}}allVariables(){var e;return(null===(e=this.config)||void 0===e?void 0:e.variables)||{}}subscribe(e,t){this.eventEmitter.subscribe(e,t)}unsubscribe(e,t){this.eventEmitter.unsubscribe(e,t)}track(e){if(this._closing){this.logger.error("Client is closing, cannot track new events.");return}this.options.disableCustomEventLogging||(ez("type",e.type),this.onInitialized.then(()=>{this.eventQueue.queueEvent(e)}))}flushEvents(e){return this.eventQueue.flushEvents().then(()=>null==e?void 0:e())}async close(){var e;this.logger.debug("Closing client"),this._closing=!0,document&&this.pageVisibilityHandler&&document.removeEventListener("visibilitychange",this.pageVisibilityHandler),this.windowMessageHandler&&window.removeEventListener("message",this.windowMessageHandler),this.windowPageHideHandler&&window.removeEventListener("pagehide",this.windowPageHideHandler),null===(e=this.streamingConnection)||void 0===e||e.close(),await this.eventQueue.close()}get closing(){return this._closing}synchronizeBootstrapData(e,t,n){let r=new e2(t,this.options,void 0,void 0,n);if(!e){this.initializeOnConfigFailure(r);return}if(this.options.bootstrapConfig=e,this.options.deferInitialization&&!this.initializeTriggered){this.clientInitialization(t);return}this.handleConfigReceived(e,r,Date.now())}async refetchConfig(e,t,n){await this.onInitialized,this.configRefetchHandler?this.configRefetchHandler(t):await this.requestConsolidator.queue(null,{sse:e,lastModified:t,etag:n})}handleConfigReceived(e,t,n){let r=this.config;this.config=e,this.store.saveConfig(e,t,n),this.isConfigCached=!1,this.setUser(t);let i=(null==r?void 0:r.features)||{},o=(null==r?void 0:r.variables)||{};this.eventEmitter.emitFeatureUpdates(i,e.features),this.eventEmitter.emitVariableUpdates(o,e.variables,this.variableDefaultMap),r&&r.etag===this.config.etag||this.eventEmitter.emitConfigUpdate(e.variables)}async setUser(e){var t;if(this.user!=e||!this.userSaved){if(this.user=e,await this.store.saveUser(e),!this.user.isAnonymous&&te(this.logger,this.config,null===(t=this.options)||void 0===t?void 0:t.enableEdgeDB,!0)){let e=await ej(this.user,this.sdkKey,this.logger,this.options);this.logger.info(`Saved response entity! ${e}`)}this.userSaved=!0}}onSSEMessage(e){var t,n;try{let r=JSON.parse(e),i=JSON.parse(r.data);if(!i)return;i.type&&"refetchConfig"!==i.type||(null===(t=this.config)||void 0===t?void 0:t.etag)&&i.etag===(null===(n=this.config)||void 0===n?void 0:n.etag)||this.refetchConfig(!0,i.lastModified,i.etag).catch(e=>{this.logger.warn(`Failed to refetch config ${e}`)})}catch(e){this.logger.warn(`Streaming Connection: Unparseable message ${e}`)}}registerVisibilityChangeHandler(){var e,t,n;if("undefined"==typeof document)return;let r=(null===(t=null===(e=this.config)||void 0===e?void 0:e.sse)||void 0===t?void 0:t.inactivityDelay)||12e4;this.pageVisibilityHandler=()=>{var e,t,n;(null===(e=this.config)||void 0===e?void 0:e.sse)&&("visible"===document.visibilityState?((null===(t=this.streamingConnection)||void 0===t?void 0:t.isConnected())||(this.logger.debug("Page became visible, refetching config"),this.refetchConfig(!1).catch(e=>{this.logger.warn(`Failed to refetch config ${e}`)}),null===(n=this.streamingConnection)||void 0===n||n.reopen()),null==window||window.clearTimeout(this.inactivityHandlerId)):(null==window||window.clearTimeout(this.inactivityHandlerId),this.inactivityHandlerId=null==window?void 0:window.setTimeout(()=>{var e;this.logger.debug("Page is not visible, closing streaming connection"),null===(e=this.streamingConnection)||void 0===e||e.close()},r)))},null===(n=document.addEventListener)||void 0===n||n.call(document,"visibilitychange",this.pageVisibilityHandler)}async getConfigCache(e){if(this.options.disableConfigCache){this.logger.info("Skipping config cache");return}let t=await this.store.loadConfig(e,this.options.configCacheTTL);t&&(this.config=t,this.isConfigCached=!0,this.eventEmitter.emitFeatureUpdates({},t.features),this.eventEmitter.emitVariableUpdates({},t.variables,this.variableDefaultMap),this.logger.debug("Initialized with a cached config"))}}let te=(e,t,n,r=!1)=>{var i,o,a;return(null===(a=null===(o=null===(i=null==t?void 0:t.project)||void 0===i?void 0:i.settings)||void 0===o?void 0:o.edgeDB)||void 0===a?void 0:a.enabled)?!!n:(n&&r&&e.warn("EdgeDB is not enabled for this project. Only using local user data."),!1)},tt=(e,t={})=>{let n;if(e&&"deferInitialization"in e){if(e.deferInitialization)return{user:void 0,options:e,isDeferred:!0}}else n=e;if(!n)throw Error("Missing user! Call initialize with a valid user");return{user:n,options:t,isDeferred:!1}};function tn(e,t,n={}){let r;if(!e)throw Error("Missing SDK key! Call initialize with a valid SDK key");let i=tt(t,n),{options:o}=i,a=eG();if("undefined"!=typeof window&&!window.addEventListener&&!a&&!(null==o?void 0:o.reactNative))throw Error("Window is not defined, try initializing in a browser context. If running on React Native, initialize with the option reactNative: true");if((null==o?void 0:o.reactNative)&&!globalThis.DeviceInfo)throw Error("DeviceInfo is not defined. Import react-native-device-info and set global.DeviceInfo when running on React Native");if(!o||null===o)throw Error("Invalid options! Call initialize with valid options");return(r=i.isDeferred?new e7(e,void 0,i.options):new e7(e,i.user,i.options)).onClientInitialized().then(()=>r.logger.info("Successfully initialized DevCycle!")).catch(e=>r.logger.error(`Error initializing DevCycle: ${e}`)),r}var tr=n(2396),ti=n.n(tr);let to=(0,S.createContext)(void 0),{Provider:ta,Consumer:ts}=to,tu=(0,S.createContext)({isInitialized:!1}),tc={showConditionalBorders:!1,borderColor:"#ff6347"},tl=(0,S.createContext)(tc),td=(e,t={isAnonymous:!0},n)=>(null==n?void 0:n.deferInitialization)?tn(e,{sdkPlatform:"react",...n,deferInitialization:!0,bootstrapConfig:void 0}):tn(e,t,{sdkPlatform:"react",...n}),tf=()=>{let e=(0,S.useContext)(to);if(void 0===e)throw Error("useDevCycleClient must be used within DevCycleProvider");return e.client},tp=(e,t)=>{let n=(0,S.useContext)(to),[r,i]=(0,S.useState)({}),o=(0,S.useCallback)(()=>i({}),[]);if(void 0===n)throw Error("useVariable must be used within DevCycleProvider");return(0,S.useEffect)(()=>(n.client.subscribe(`variableUpdated:${e}`,o),()=>{n.client.unsubscribe(`variableUpdated:${e}`,o)}),[n,e,o]),n.client.variable(e,t)},tv=(e,t)=>tp(e,t).value;function th(e){var t,n;let r;let{config:i}=e,{user:o,options:a}=i,[s,u]=(0,S.useState)(!1);if(!(r="sdkKey"in i?i.sdkKey:i.envKey))throw Error("You must provide a sdkKey to DevCycleProvider");let c=(0,S.useRef)(),[l,d]=(0,S.useState)({});void 0===c.current&&(c.current=td(r,o,{...a})),(0,S.useEffect)(()=>(void 0===c.current&&(c.current=td(r,o,{...a}),d({})),c.current.onClientInitialized().then(()=>{u(!0)}).catch(()=>{console.log("Error initializing DevCycle."),u(!0)}),()=>{var e;null===(e=c.current)||void 0===e||e.close(),c.current=void 0}),[r,o,a]);let f=Object.assign({},tc,null!==(n=null===(t=e.config.options)||void 0===t?void 0:t.reactDebug)&&void 0!==n?n:{});return(0,b.jsx)(ta,{value:{client:c.current},children:(0,b.jsx)(tu.Provider,{value:{isInitialized:s||c.current.isInitialized},children:(0,b.jsx)(tl.Provider,{value:f,children:e.children})})})}function tg(e){return t=>{let n=n=>(0,b.jsx)(th,{config:e,children:(0,b.jsx)(t,{...n})});return ti()(n,t),n}}let tm=()=>{let e=(0,S.useContext)(tu);if(void 0===e)throw Error("useIsDevCycleInitialized must be used within DevCycleProvider");return e.isInitialized},ty=tm},89463:(e,t,n)=>{/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var r;!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:i=o(r.Reflect,i),t(i)}(function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a=({__proto__:[]})instanceof Array,s=!o&&!a,u={create:o?function(){return O(Object.create(null))}:a?function(){return O({__proto__:null})}:function(){return O({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,p=new(l||"function"!=typeof WeakMap?function(){var e=u.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do t="@@WeakMap@@"+function(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):o(new Uint8Array(16),16):o(Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];(4===n||6===n||8===n)&&(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}();while(u.has(e,t))return e[t]=!0,t}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:u.create()})}return e[n]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}}():WeakMap);function v(e,t,n){var r=p.get(e);if(S(r)){if(!n)return;r=new d,p.set(e,r)}var i=r.get(t);if(S(i)){if(!n)return;i=new d,r.set(t,i)}return i}function h(e,t,n){var r=v(t,n,!1);return!S(r)&&!!r.has(e)}function g(e,t,n){var r=v(t,n,!1);if(!S(r))return r.get(e)}function m(e,t,n,r){v(n,r,!0).set(e,t)}function y(e,t){var n=[],r=v(e,t,!1);if(S(r))return n;for(var o=function(e){var t=I(e,i);if(!T(t))throw TypeError();var n=t.call(e);if(!_(n))throw TypeError();return n}(r.keys()),a=0;;){var s=function(e){var t=e.next();return!t.done&&t}(o);if(!s)return n.length=a,n;var u=s.value;try{n[a]=u}catch(e){try{!function(e){var t=e.return;t&&t.call(e)}(o)}finally{throw e}}a++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function S(e){return void 0===e}function w(e){return null===e}function _(e){return"object"==typeof e?null!==e:"function"==typeof e}function E(e){var t=function(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n="string",i=I(e,r);if(void 0!==i){var o=i.call(e,n);if(_(o))throw TypeError();return o}return function(e,t){if("string"===t){var n=e.toString;if(T(n)){var r=n.call(e);if(!_(r))return r}var i=e.valueOf;if(T(i)){var r=i.call(e);if(!_(r))return r}}else{var i=e.valueOf;if(T(i)){var r=i.call(e);if(!_(r))return r}var o=e.toString;if(T(o)){var r=o.call(e);if(!_(r))return r}}throw TypeError()}(e,n)}(e,0);return"symbol"==typeof t?t:""+t}function C(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function k(e){return"function"==typeof e}function I(e,t){var n=e[t];if(null!=n){if(!T(n))throw TypeError();return n}}function N(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c||t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function O(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(S(n)){if(!C(e)||!k(t))throw TypeError();return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!S(r)&&!w(r)){if(!k(r))throw TypeError();t=r}}return t}(e,t)}if(!C(e)||!_(t)||!_(r)&&!S(r)&&!w(r))throw TypeError();return w(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!S(o)&&!w(o)){if(!_(o))throw TypeError();r=o}}return r}(e,t,n=E(n),r)}),e("metadata",function(e,t){return function(n,r){if(!_(n)||!S(r)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(r))throw TypeError();m(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!_(n))throw TypeError();return S(r)||(r=E(r)),m(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!_(t))throw TypeError();return S(n)||(n=E(n)),function e(t,n,r){if(h(t,n,r))return!0;var i=N(n);return!w(i)&&e(t,i,r)}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!_(t))throw TypeError();return S(n)||(n=E(n)),h(e,t,n)}),e("getMetadata",function(e,t,n){if(!_(t))throw TypeError();return S(n)||(n=E(n)),function e(t,n,r){if(h(t,n,r))return g(t,n,r);var i=N(n);if(!w(i))return e(t,i,r)}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!_(t))throw TypeError();return S(n)||(n=E(n)),g(e,t,n)}),e("getMetadataKeys",function(e,t){if(!_(e))throw TypeError();return S(t)||(t=E(t)),function e(t,n){var r=y(t,n),i=N(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var a=new f,s=[],u=0;u<r.length;u++){var c=r[u],l=a.has(c);l||(a.add(c),s.push(c))}for(var d=0;d<o.length;d++){var c=o[d],l=a.has(c);l||(a.add(c),s.push(c))}return s}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!_(e))throw TypeError();return S(t)||(t=E(t)),y(e,t)}),e("deleteMetadata",function(e,t,n){if(!_(t))throw TypeError();S(n)||(n=E(n));var r=v(t,n,!1);if(S(r)||!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||(p.delete(t),!0)})})}(r||(r={}))},56297:(e,t,n)=>{"use strict";t.Ay=function(e){return(0,r.default)(e),i.has(e.toUpperCase())};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(76041)),i=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"])},76041:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default}}]);