"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2628],{89905:(e,t,r)=>{r.d(t,{Dk:()=>h,K9:()=>m,Nm:()=>f,gG:()=>d,jd:()=>g,vt:()=>v,y:()=>p});var i=r(59595),n=r.n(i),s=r(77596);let o=/(\d{1,4})/g,a={amex:/(\d{1,4})(\d{1,6})?(\d{1,5})?/},l={"american-express":"amex"},u={amex:4};function d(e){let t=n().number(e).card;if(t)return{...t,type:l[t.type]||t.type,cvcLength:[t.code.size]}}function c(e){if(e.length>2)return e;let t=new Date().getFullYear();return`${t.toString().slice(0,2)}${e}`}function h(e){let[t,r]=(e=e.replace(/\s/g,"")).split("/",2);return{month:t=t&&parseInt(t,10),year:r=r&&parseInt(c(r),10)}}function p(e){return n().number(e).isValid}function m(e){let{month:t,year:r}=h(e);return function(e,t){if(e=e.trim(),t=c(t.trim()),!/^\d+$/.test(e)||!/^\d+$/.test(t)||!(12>=parseInt(e,10)))return!1;let r=new Date(t,e),i=new Date;return r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i}(String(t),String(r))}function f(e,t=""){let r=u[t]||[3,4];return n().cvv(e,r).isValid}function g(e){let t=d(e);if(!t)return e;let r=t.lengths[t.lengths.length-1];e=(e=e.replace(/\D/g,"")).slice(0,r);let i=a[t.type]||o;if(i.global){let t=e.match(i);return t&&t.join(" ")}let n=i.exec(e);return n&&n.shift(),n&&n.join(" ")}let v=({number:e,name:t,expiration:r,cvv:i,country:n,addressLine1:o,city:a,state:l,zipCode:u})=>p(e)?(0,s.z3)(t)?{success:!1,reason:"The name is required"}:m(r)?f(i)?(0,s.z3)(n)?{success:!1,reason:"The country is required"}:(0,s.z3)(o)?{success:!1,reason:"The address is required"}:(0,s.z3)(a)?{success:!1,reason:"The city is required"}:(0,s.z3)(l)?{success:!1,reason:"The state is required"}:(0,s.z3)(u)?{success:!1,reason:"The postal code is required"}:{success:!0,reason:"OK"}:{success:!1,reason:"The CVV provided is invalid"}:{success:!1,reason:"The expiration date provided is invalid"}:{success:!1,reason:"The card number provided is invalid"}},19145:(e,t,r)=>{r.d(t,{e:()=>eb});var i=r(36870),n=r(86326),s=r(77926);let o=({level:e,text:t})=>e&&t?(0,i.jsx)(s.A,{error:"error"===e?t:void 0,info:"info"===e?t:void 0,warning:"warning"===e?t:void 0}):null,a={type:"alert",optionsSchema:{},render:({level:e,text:t})=>(0,i.jsx)(o,{level:e,text:t})};var l=r(49207),u=r(68444);let d=({title:e,id:t,variant:r,contextOptions:s,confirmationMessage:o})=>{let[a,d]=(0,n.useState)(!1),[c,h]=(0,n.useState)(!1);if(!e||!t)return null;let p=t.replace(/[^a-zA-Z0-9:]/g,"_"),m=async()=>{d(!0),await s.surfaceHandler.postEventWithResponse(`${p}:click_UICALLBACK`,s.surfaceHandler.state),d(!1)},f=async()=>{await m(),h(!1)};return(0,i.jsxs)(i.Fragment,{children:[o&&(0,i.jsx)(u.Ay,{show:c,title:"Confirm",onHide:()=>h(!1),saveLabel:e,saveButtonVariant:r,onSave:f,children:(0,i.jsx)("p",{children:o})}),(0,i.jsx)(l.$n,{title:e,onClick:o?()=>h(!0):m,id:p,variant:r,saving:a,className:"tw-mr-4 tw-mt-2",children:e})]})},c={type:"button",optionsSchema:{},render:({title:e,id:t,variant:r,confirmationMessage:n},s)=>(0,i.jsx)(d,{title:e,id:t,variant:r,contextOptions:s,confirmationMessage:n})};var h=r(13284);let p=({children:e})=>e?(0,i.jsx)(h.A,{allowedElements:["a","p","br","code","pre","em","strong"],markdown:e}):null,m={type:"text",optionsSchema:{},render:({value:e})=>(0,i.jsx)(p,{children:e})};var f=r(83505);let g={type:"card",optionsSchema:{},render({title:e,description:t,contents:r},n){var s;return r?(0,i.jsx)(f.A,{title:e,description:t&&(0,i.jsx)("div",{className:"tw-mb-4",children:(0,i.jsx)(p,{children:t})}),children:(0,i.jsx)(f.A.Panel,{children:null==n?void 0:null===(s=n.renderElements)||void 0===s?void 0:s.call(n,r,n)})}):null}};var v=r(82303);let y=({code:e,language:t})=>e&&t?(0,i.jsx)("div",{className:"tw-mt-4",children:(0,i.jsx)(v.A,{code:e,language:t})}):null,b={type:"code-snippet",optionsSchema:{},render:({code:e,language:t})=>(0,i.jsx)(y,{code:e,language:t})};var $=r(35903),_=r(61606);let w=({value:e,label:t})=>(0,i.jsx)(_.A,{label:t,value:e,placeholder:"Not set"}),S={type:"display",optionsSchema:{},render:e=>(0,i.jsx)(w,{...e})};var k=r(59868),A=r(65900),T=r(24760),q=r(92488),E=r(27578),N=r(15154),C=r(57079);let P=({packageContext:e,site:t,title:r,description:s,targetPackage:o,illustration:a,surfaceHandler:u})=>{var d,c;let h=(0,E.wA)(),{friendlyName:m}=e||{},[f,g]=(0,n.useState)(!1);if(!t||!o)return null;let v=(0,T.Lq)(t),y=(0,i.jsx)(p,{children:s}),b=null!==(c=null==t?void 0:null===(d=t.get("plugins"))||void 0===d?void 0:d.toJS().some(e=>e.package===o))&&void 0!==c&&c,$=b?"Disable":"Enable",_=`${$} ${m}`;async function w(){let e=null==t?void 0:t.get("plugins"),r=(null==e?void 0:e.toJS())||[];if(b)await u.onDisable(),r=r.filter(e=>e.package!==o),await h((0,A.hj)(t,{plugins:r}));else{g(!0);try{await u.onEnable(),await h((0,k.sN)(t,o,r,!1))}finally{g(!1)}}}return b?(0,i.jsxs)(C.A,{title:_,description:y,deleteLabel:$,onDelete:w,challenge:{label:"Type in the siteâ€™s name to confirm",value:v},children:[y,(0,i.jsxs)("p",{children:["Are you sure you want to remove ",m," from ",v,"?"]})]}):(0,i.jsx)(N.A,{title:r,illustration:a,action:(0,i.jsx)(l.$n,{onClick:w,saving:f,children:_}),children:y})},I=(e,t)=>{if(t)try{return new URL(t).pathname}catch{return[q.r0,e,t].filter(Boolean).join("/")}},O={type:"enablement",optionsSchema:{},render:({title:e,description:t,illustration:r,targetPackage:n},{site:s,packageContext:o,surfaceHandler:a})=>(r=I(null==o?void 0:o.key,r),(0,i.jsx)(P,{title:e,description:t,illustration:r,site:s,packageContext:o,targetPackage:n,surfaceHandler:a}))};var D=r(29785),j=r(63243);let R=e=>{let t={};return e.forEach((e,r)=>{if(!Reflect.has(t,r)){t[r]=e;return}Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(e)}),t},x=({id:e,title:t,description:r,surfaceInputsData:s,saveLabel:o,cancelLabel:a,savingLabel:l,renderElements:u,hideCancel:d,surfaceHandler:c,sdkVersion:h,variant:m="default",readOnly:g=!1})=>{let v=Object.entries(s).reduce((t,[r,i])=>((!h||!e||r.startsWith(e))&&(t[r]=i),t),{}),[y]=(0,n.useState)(v),[b,$]=(0,n.useState)(y),[_,w]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{c.save((e={})=>{let{surfaceInputsData:t}=e;return{surfaceInputsData:{...t,...b}}})},[b]),!e)return null;let S=({name:e,value:t})=>{$(r=>({...r,[e]:t}))},k=async t=>{w(!0);let r=R(new FormData(t.target));await c.onSurfaceSave(e,{...s,...r}),w(!1)},A=async t=>{$(t),await c.onFormCancel(e)};return"default"===m?(0,i.jsx)("section",{className:"card card-settings",children:(0,i.jsx)(j.A,{title:t,description:r,children:(0,i.jsx)(D.A,{onSave:k,saveLabel:null!=o?o:"Save",cancelLabel:null!=a?a:"Cancel",saving:_,onCancel:d?void 0:()=>A(y),children:(0,i.jsx)("div",{className:"tw-mt-4",children:u({onChange:S,surfaceInputsData:b})})})})}):(0,i.jsxs)(f.A,{title:t,description:r&&(0,i.jsx)(p,{children:r}),onSave:k,onCancel:()=>$(y),saving:_,saveLabel:o,savingLabel:l,readOnly:g,children:[(0,i.jsx)(f.A.DefaultView,{className:"table-body",children:u({displayOnly:!0,surfaceInputsData:b})}),(0,i.jsx)(f.A.FormView,{className:"table-body",children:u({onChange:S,surfaceInputsData:b})})]})},L={type:"form",optionsSchema:{},render({title:e,description:t,contents:r,id:n,saveLabel:s,cancelLabel:o,savingLabel:a,variant:l,hideCancel:u,readOnly:d},c){if(!r)return null;let{surfaceHandler:h,surfaceInputsData:p,renderElements:m,sdkVersion:f}=c;u&&"settings"===l&&console.warn("hideCancel is not supported for the `settings` variant");let[g,v,y]=f?f.split(".").map(Number):[0,0,0];return g<1&&v<=4&&y<7&&(l="settings"),(0,i.jsx)(x,{sdkVersion:f,title:e,id:n,description:t,surfaceHandler:h,surfaceInputsData:p,renderElements:e=>null==m?void 0:m(r,{...c,...e}),saveLabel:s,cancelLabel:o,savingLabel:a,variant:l,hideCancel:u,readOnly:d})}};var M=r(51468),U=r(19717),F=r(67448);let z=e=>e.map(e=>{if("string"==typeof e)return{value:e,label:e};let{value:t,label:r=t}=e;return{...e,label:r}}),J=(e,t)=>e.findLast(t),B=F.z.array(F.z.string()).optional(),V=e=>{let t=B.safeParse(e);return!!t.success||(console.warn('"value" is not a valid checkbox value type',t.error),!1)},H=e=>{let t=typeof e,r="string"===t||"undefined"===t;return r||console.warn('"value" is not a valid input value type. Received:',t),r},G=({type:e,id:t,label:r,options:n,helpText:s,required:o,onChange:a,selected:l,leftLabel:u,floatingLabel:d})=>{let c=t||r,h=r=>{let{value:i,checked:n}=r.target,s=new Set(l);"radio"===e&&s.clear(),n?s.add(i):s.delete(i),a({name:t,value:Array.from(s)})};return(0,i.jsx)(U.A,{leftLabel:u,floatingLabel:d,name:t,label:r,helpText:s,controlled:!0,control:(0,i.jsx)("fieldset",{className:"tw-flex tw-flex-col tw-gap-4",children:n.map(({value:t,label:r})=>(0,i.jsx)(M.A,{type:e,name:c,value:t,label:r,checked:l.includes(t),required:o&&!l.length,onChange:h},t))})})},W={type:"input-checkbox",optionsSchema:{},render({id:e,value:t,label:r,type:n,...s},{displayOnly:o,surfaceInputsData:a,onChange:l}){var u;let d=z(t),c=d.filter(({isSelected:e})=>!!e),h=null!==(u=a[e])&&void 0!==u?u:c.map(({value:e})=>e);if(!V(h))return null;if(o){let e=d.filter(({value:e})=>h.includes(e));return(0,i.jsx)(w,{label:r,value:e.map(({label:e})=>e).join(", ")})}return(0,i.jsx)(G,{id:e,type:"checkbox",label:r,options:d,selected:h,onChange:l,...s})}};var K=r(77596),Z=r(45741);let Y=({id:e,label:t,value:r,placeholder:n,helpText:s,required:o,onChange:a,leftLabel:l,floatingLabel:u,onValidate:d,validation:c})=>(0,i.jsx)(Z.A,{leftLabel:l,floatingLabel:u,name:e,label:t,value:r,placeholder:n,helpText:s,required:o,onChange:t=>a({name:e,value:t.target.value}),controlled:!0,onValidate:e=>(null==c?void 0:c.pattern)&&!new RegExp(null==c?void 0:c.pattern).test(e)?{valid:!1,error:null==c?void 0:c.message}:d?d(e):{valid:!0}}),Q={type:"input-password",optionsSchema:{},render({id:e,value:t,label:r,validation:n,...s},{displayOnly:o,surfaceInputsData:a,onChange:l}){var u;let d=null!==(u=a[e])&&void 0!==u?u:t;return H(d)?o?(0,i.jsx)(w,{label:r,value:d&&K.QE}):(0,i.jsx)(Y,{id:e,label:r,value:d,validation:n,onChange:l,...s}):null}},X={type:"input-radio",optionsSchema:{},render({id:e,value:t,label:r,type:n,...s},{displayOnly:o,onChange:a,surfaceInputsData:l}){let u=z(t),d=J(u,({isSelected:e})=>!!e),c=l[e];if(!V(c))return null;let h=c?c[0]:null==d?void 0:d.value;if(o){var p;return(0,i.jsx)(w,{label:r,value:h&&(null===(p=J(u,({value:e})=>e===h))||void 0===p?void 0:p.label)})}return(0,i.jsx)(G,{type:"radio",id:e,label:r,options:u,selected:[h].filter(Boolean),onChange:a,...s})}},ee=({id:e,type:t="text",label:r,value:n,helpText:s,required:o,placeholder:a,onChange:l,leftLabel:u,floatingLabel:d,min:c,max:h,onValidate:p,validation:m})=>(0,i.jsx)(U.A,{type:t,leftLabel:u,floatingLabel:d,name:e,label:r,value:n,placeholder:a,helpText:s,required:o,min:c,max:h,onChange:t=>l({name:e,value:t.target.value}),controlled:!0,onValidate:e=>(null==m?void 0:m.pattern)&&!new RegExp(null==m?void 0:m.pattern).test(e)?{valid:!1,error:null==m?void 0:m.message}:p?p(e):{valid:!0}}),et={type:"input-text",optionsSchema:{},render({id:e,value:t,label:r,type:n,fieldType:s,validation:o,...a},{displayOnly:l,surfaceInputsData:u,onChange:d}){var c;let h=null!==(c=u[e])&&void 0!==c?c:t;return H(h)?l?(0,i.jsx)(w,{label:r,value:h}):(0,i.jsx)(ee,{id:e,type:s,label:r,value:h,validation:o,onChange:d,...a}):null}},er=({href:e,text:t,target:r,block:n})=>{if(!e||!t)return null;let s=!e.match(/^(https?:\/\/)?app\.netlify\.com/);return(0,i.jsx)(l.N_,{href:e,external:s,action:s,target:r,block:n,children:t})},ei={type:"link",optionsSchema:{},render:({href:e,text:t,target:r,block:n})=>(0,i.jsx)(er,{href:e,text:t,target:r,block:n})},en=({items:e})=>e?(0,i.jsx)("ol",{className:"tw-max-w-170 tw-ps-2",children:e.map((e,t)=>(0,i.jsx)("li",{children:e},t))}):null,es={type:"ordered-list",optionsSchema:{},render:({items:e})=>(0,i.jsx)(en,{items:e})},eo=({items:e})=>e?(0,i.jsx)("ul",{className:"tw-max-w-170",children:e.map((e,t)=>(0,i.jsx)("li",{className:(0,l.cn)("tw-my-4",!e.icon&&"tw-ml-6 tw-list-disc"),children:(0,i.jsxs)("div",{className:e.icon&&"tw-flex tw-flex-row tw-items-start",children:[e.icon&&(0,i.jsx)(l.ks,{name:"success"===e.icon?"status-checkmark":"warning-triangle","aria-label":"success"===e.icon?"Success":"Warning",className:"tw-mr-[7px] tw-mt-1"}),e.text]})},t))}):null,ea={type:"unordered-list",optionsSchema:{},render:({items:e})=>(0,i.jsx)(eo,{items:e})};var el=r(57309),eu=r(59622);let ed=({integrationName:e,description:t,contextOptions:r})=>{var s,o;let{surfaceHandler:a,integrationSlug:u,site:d,account:c}=r,{serverUrl:h,netlifyToken:p,siteName:m,accountSlug:f}=null!==(o=null===(s=a.state)||void 0===s?void 0:s.integrationContext)&&void 0!==o?o:{},[g,v]=(0,n.useState)(!1),y=async()=>{var e;v(!0);let t=null!=h?h:`https://netlify-integration-${u}.netlify.app`,r=new URLSearchParams;d&&r.append("siteId",d.get("id")),c&&r.append("teamId",c.get("id"));let i=new URL(`/.netlify/functions/handler/on-disable?${r.toString()}`,t);await fetch(i.toString(),{method:"DELETE",headers:{"netlify-token":p}});let n=null===(e=window.location.pathname.match(/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/))||void 0===e?void 0:e[2];if(n){let e=m?`/sites/${m}/integrations/${n}`:`/teams/${f}/integrations/${n}`;window.location.href=e}else window.location.reload()};return(0,i.jsx)("div",{className:"tw-mt-4",children:(0,i.jsx)(eu.A,{title:"Danger zone",description:"Irreversible and destructive actions",children:(0,i.jsx)(el.A,{title:`Disable ${e}`,action:(0,i.jsx)(l.$n,{variant:"danger",onClick:y,children:"Disable"}),loading:g,children:(0,i.jsx)("p",{children:null!=t?t:`Disable the ${e} integration ${d?"from your site":"for your team"}.`})})})})},ec={type:"disable-integration",optionsSchema:{},render:({description:e,integrationName:t},r)=>t&&r.integrationSlug?(0,i.jsx)(ed,{contextOptions:r,integrationName:t,description:e}):null},eh={type:"section",optionsSchema:{},render({title:e="",description:t,contents:r},n){var s;return r?(0,i.jsx)("div",{className:"tw-mt-4",children:(0,i.jsx)(eu.A,{title:e,description:t&&(0,i.jsx)(p,{children:t}),children:null==n?void 0:null===(s=n.renderElements)||void 0===s?void 0:s.call(n,r,n)})}):null}};var ep=r(57130);let em=({id:e,label:t,options:r,selected:n,placeholder:s,helpText:o,required:a,leftLabel:l,surfaceHandler:u,menuIsOpen:d,surfaceInputsData:c,onChange:h})=>{let p=async t=>{let{value:r}=t.target.value;u&&await u.onSurfaceInteraction(e,r,c),h({name:e,value:r})};return(0,i.jsx)(U.A,{leftLabel:l,name:e,label:t,helpText:o,controlled:!0,control:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"hidden",name:e,defaultValue:n}),(0,i.jsx)(ep.A,{name:e,value:n,options:r,placeholder:s,menuIsOpen:d,required:a,onChange:p})]})})},ef={type:"select",optionsSchema:{},render({id:e,label:t,options:r,menuIsOpen:n,leftLabel:s,...o},{displayOnly:a,surfaceInputsData:l,surfaceHandler:u,onChange:d}){var c;let h=z(r),p=J(h,({isSelected:e})=>!!e),m=null!==(c=l[e])&&void 0!==c?c:null==p?void 0:p.value;if(!H(m))return null;if(a){let e=J(h,({value:e})=>e===m);return(0,i.jsx)(w,{label:t,value:m&&(null==e?void 0:e.label)})}return(0,i.jsx)(em,{id:e,label:t,options:h,selected:m,leftLabel:s,surfaceInputsData:l,surfaceHandler:u,menuIsOpen:n,...o,onChange:d})}},eg={[m.type]:m,[g.type]:g,[O.type]:O,[ef.type]:ef,[et.type]:et,[Q.type]:Q,[X.type]:X,[W.type]:W,[S.type]:S,[L.type]:L,[eh.type]:eh,[c.type]:c,[ei.type]:ei,[$.M.type]:$.M,[ea.type]:ea,[es.type]:es,[ec.type]:ec,"disable-section":ec,[b.type]:b,[a.type]:a},ev=e=>eg[e];function ey(e,t){let r=e.trim().split(".").filter(Boolean);return r.reduce((e,i,n)=>{if(0===n)switch(r[0]){case"$PKG":e=t.packageContext;break;case"$EL":e=t.surfaceInputsData}else e="object"!=typeof e||null===e?null:e[i];return e},null)}let eb=function({config:e,surfaceRouteConfig:t,surfaceConfig:r,envVars:s,site:o,account:a,surfaceData:l,displayOnly:u,outset:d,onChange:c,integrationSlug:h,integrationId:p,surfaceInputsData:m,surfaceHandler:f}){let g={enabled:!0,key:(null==e?void 0:e.packageId)||"",name:(null==e?void 0:e.package)||"",friendlyName:(null==e?void 0:e.friendlyName)||""};return(0,i.jsx)(i.Fragment,{children:function e(t,r,i){let s={...r,renderElements:e};return t.map(e=>{let t={...e};t.id||console.warn('No "id" found for element:',t);let{persistAs:i}=t;if(i&&(t=function(e,t,r){let[i,...n]=e.split("."),s=n.join(".");if("$ENV"!==i)return console.warn("WFUI - persistAs key other than $ENV is not supported:",i),r;let o=t.surfaceHandler.getEnvVarValue(s);return"select"!==r.type||r.label||(r.label=s),r.type.startsWith("input")&&!r.label&&(r.label=s),o||console.log("WFUI - No value found for env var: ",e),r}(i,r,t)),t.if&&(t=function(e,t){let r={...e},i=e.if,n=!1;if(i&&t&&(i.truthy&&ey(i.truthy,t)&&(n=!0),i.falsy&&!ey(i.falsy,t)&&(n=!0),i.equals&&ey(i.equals[0],t)===i.equals[1]&&(n=!0),i.has)){let{type:e,name:r}=i.has;if("plugin"===e){var s,o;(null===(o=t.site)||void 0===o?void 0:null===(s=o.get("plugins"))||void 0===s?void 0:s.toJS().some(e=>e.package===r))&&(n=!0)}}return n&&(null==i?void 0:i.then)&&(r={...r,...i.then}),r}(t,r)),"hidden"===t.display)return null;let o=ev(t.type);if(!o)return console.error(`workflow ui element unknown: ${JSON.stringify(t)}`),null;let a=o.render(t,s);return a?(0,n.cloneElement)(a,{key:t.id,outset:r.outset}):null})}(t,{envVars:s,site:o,account:a,packageContext:g,surfaceData:l,displayOnly:u,outset:d,onChange:c,integrationSlug:h,surfaceInputsData:m,surfaceRouteConfig:t,surfaceConfig:r,surfaceHandler:f,sdkVersion:null==e?void 0:e.sdkVersion,integrationId:p})})}},43825:(e,t,r)=>{r.d(t,{b:()=>_});var i=r(36870),n=r(86326),s=r(27578),o=r(57309),a=r(56674),l=r(33650),u=r(19145),d=r(89907),c=r(70728),h=r(92488),p=r(35903),m=r(70998);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let g="Integration ID is required for identity";async function v(e,t){var r;let i=await fetch(e);if(!i.ok)throw Error(`WFUI - Unable to load script content for "${e}"`);if(!(null===(r=i.headers.get("content-type"))||void 0===r?void 0:r.includes("javascript")))throw Error(`WFUI - Script "${e}" was not javascript`);return{content:await i.text(),type:t}}async function y({surfaceName:e,surfaceScripts:t,queryParams:r,integrationContext:i,host:n}){var s,o,a,l,u,d,c,p;let m;if(!(null==t?void 0:t.length)||document.querySelector(`iframe[data-surface-name="${e}"]`))return null;let[f,g]=await Promise.all([v("/workflow-ui/netlify-context.js","text/javascript"),b({surfaceScripts:t,host:n})]);if(!g.length)return null;i&&(m={href:window.location.href,hash:window.location.hash,search:(null==r?void 0:r.toString())||""});let y=document.createElement("iframe");document.body.appendChild(y);let $=null!==(d=null===(s=y.contentWindow)||void 0===s?void 0:s.document)&&void 0!==d?d:y.contentDocument,_=null!==(c=null==$?void 0:$.head)&&void 0!==c?c:document.createElement("head"),w=document.createElement("meta");w.setAttribute("charset","UTF-8");let S=document.createElement("meta");S.setAttribute("http-equiv","Content-Security-Policy"),S.setAttribute("content",`style-src * 'unsafe-inline'; script-src 'self' 'unsafe-inline' ${h.V8}`),_.appendChild(w),_.appendChild(S);let k=null!==(p=null==$?void 0:$.body)&&void 0!==p?p:document.createElement("body"),{siteId:A,siteName:T,integrationSlug:q,isPreview:E,accountName:N,accountId:C,serverUrl:P}=null!=i?i:{},I=E&&q?void 0:null===(o=window.location.pathname.match(/\/integrations\/([^/]+)/))||void 0===o?void 0:o[1],O=E?`/ui/preview/${q}{{route}}?server=${P}`:T?`/sites/${T}/integrations/${I}/${q}{{route}}`:`/teams/${N}/integrations/${I}/${q}{{route}}`;return[m&&{node:_,type:"text/javascript",content:`
      let integrationNavigation = ${JSON.stringify(m)}; 
      const preservedNames = {
      isPreview: ${JSON.stringify(E)},
      siteId: ${JSON.stringify(A)},
      accountId: ${JSON.stringify(C)},
      search: ${JSON.stringify(m.search)},
    };

      integrationNavigation.navigateTo = (route) => {
        const integrationTemplate = ${JSON.stringify(O)};

        const integrationHref = integrationTemplate.replace('{{route}}', route);
        const createIntegrationUrl = ${((e,t)=>{var r,i;let n=new URL(e,null===(r=window.top)||void 0===r?void 0:r.location.origin);return new URLSearchParams(null!==(i=null==t?void 0:t.search)&&void 0!==i?i:"").forEach((e,t)=>{"server"!==t&&n.searchParams.append(t,e)}),t.isPreview&&t.siteId&&(n.searchParams.has("_previewSiteId")?n.searchParams.set("_previewSiteId",t.siteId):n.searchParams.append("_previewSiteId",t.siteId)),t.isPreview&&t.accountId&&(n.searchParams.has("_previewAccountId")?n.searchParams.set("_previewAccountId",t.accountId):n.searchParams.append("_previewAccountId",t.accountId)),n.toString()}).toString()};
        window.top?.location.assign(createIntegrationUrl(integrationHref, preservedNames));
      };
          
      integrationNavigation.navigateExternally = (url) => {
          window.top?.location.assign(url); 
      };
      `},...[f,...g].map(({content:e,type:t})=>({node:k,type:t,content:e}))].filter(Boolean).forEach(({node:e,content:t,type:r})=>{!function({node:e,content:t,type:r}){let i=document.createElement("script");i.setAttribute("type",r),i.textContent=t,e.appendChild(i)}({node:e,content:t,type:r})}),null===(a=y.contentWindow)||void 0===a||a.dispatchEvent(new Event("load")),null===(l=y.sandbox)||void 0===l||l.add("allow-scripts"),null===(u=y.sandbox)||void 0===u||u.add("allow-top-navigation"),y.setAttribute("data-surface-name",e),y.setAttribute("data-testid",`workflowui-${e}`),y.setAttribute("style","display: none;"),y}async function b({surfaceScripts:e,host:t}){let r=(null==e?void 0:e.flatMap(async e=>{let r;try{r=new URL(e,window.location.origin)}catch(t){return console.log("WorkflowUI - Invalid path given. Please ensure it is a valid path (ie. no path traversal):",e),null}if(r.origin===window.location.origin)return console.log("WorkflowUI - Script paths must be absolute. Please ensure the path is correct:",e),null;let i=RegExp("netlify-integration-([a-zA-Z0-9-]+).netlify.app");return"localhost"===r.hostname||i.test(r.hostname)||h.tc.test(r.toString())?(t&&(r=new URL(r.pathname,t)),await v(r.toString(),"module")):(console.log("WorkflowUI - Script paths must be from localhost, a live preview server or a netlify-integration-*.netlify.app domain. Please ensure the path is correct:",e),null)}))||[];return(await Promise.all(r)).filter(Boolean)}let $=class{updateSurfaceHandlerProps({exposedFunctions:e,envVarHandlers:t,surfaceData:r}){e&&(this.exposedFunctions=e),r&&(this.state||(this.state={}),this.state.surfaceData=r),t&&(this.envVarHandlers=t)}save(e){var t;if(!this.mounted)return;let r="function"==typeof e?e(this.state):e;this.state={...this.state,...r},null===(t=this.updater)||void 0===t||t.call(this)}getEnvVarValue(e){if(!this.envVarHandlers)return null;let t=this.envVarHandlers.reader.getEnvVar(e);return t?t.envVar.values[0].value:null}async onConfigLoaded({surfaceConfig:e,surfaceRouteConfig:t,elementDirectory:r,config:i,matchedRouteKey:n,siteId:s,host:o,integrationId:a}){var l,u;let d,c,h;let{useIdentity:p,integrationSlug:f}=i;if(f){let e=new Headers;e.append("Content-Type","application/json");let t=null!=s?s:this.accountData.accountId;this.sdkVersion&&(e.append("Api-Version","2"),t=this.accountData.accountId);let r=await fetch("/integration-auth",{method:"POST",headers:e,body:JSON.stringify({ownerId:t,integrationSlug:this.isPreview?"netlify-preview":f})});if(r.ok){let{token:e}=await r.json();d=e}else{let e=null===(u=window.location.pathname.match(/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/))||void 0===u?void 0:u[2];if(e){let t=this.siteName?`/sites/${this.siteName}/integrations/${e}`:`/teams/${this.accountData.accountSlug}/integrations/${e}`;window.location.href=t}}}this.state={...this.state,surfaceConfig:e,surfaceRouteConfig:t,integrationContext:{siteId:s,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:d,isConnected:void 0,serverUrl:this.serverUrl}},this.elementDirectory=r,(0,m.zd)(this.surfaceName,this);let v={};if(r.forEach(e=>{let{persistAs:t,id:r}=e;if(!t||!r)return;let[i,...n]=t.split(".");if("$ENV"!==i){console.warn("WFUI - persistAs key other than $ENV is not supported:",i);return}let s=n.join("."),o=this.getEnvVarValue(s);v[r]=o}),p){if(!f||!a)throw Error(g);h=await this.getOAuthConnection(f,a)}let b={...this.state,integrationContext:{siteId:s,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:d,providerOAuthToken:h,isConnected:!!h||void 0,serverUrl:this.serverUrl},surfaceInputsData:v};if(!(null===(l=e.surfaceScripts)||void 0===l?void 0:l.length)){this.save(b);return}let $=await y({surfaceScripts:e.surfaceScripts,surfaceName:this.surfaceName,queryParams:this.queryParams,host:o,integrationContext:f?{integrationSlug:f,isPreview:this.isPreview,siteId:s,siteName:this.siteName,accountName:this.accountData.accountSlug,accountId:this.accountData.accountId,serverUrl:this.serverUrl}:void 0});if(!$){this.save(b);return}this.iframe=$,this.iframeEndpoint=function(e,{terminate:t=!0,targetOrigin:r="*"}={}){let i;if("undefined"==typeof window)throw Error("You can only run fromIframe() in a browser context, but no window was found.");let n=new WeakMap;function s(t){var r;t.source===e.contentWindow&&(null===(r=t.data)||void 0===r?void 0:r.eventName)==="WFUI_IFRAME_LOADED"&&(window.removeEventListener("message",s),i())}let o=new Promise(e=>{i=e,window.addEventListener("message",s)});return{async postMessage(t,i){var n;await o,null===(n=e.contentWindow)||void 0===n||n.postMessage(t,r,i)},addEventListener(t,r){let i=t=>{t.source===e.contentWindow&&r(t)};n.set(r,i),window.addEventListener(t,i)},removeEventListener(e,t){let r=n.get(t);null!=r&&(n.delete(t),window.removeEventListener(e,r))},terminate(){window.removeEventListener("message",s),t&&e.remove()}}}(this.iframe,{terminate:!0,targetOrigin:"*"}),this.iframeEndpoint.addEventListener("message",e=>{e.data.eventName.replace("_RESULT","").endsWith("_UICALLBACK")&&e.data.uiState&&this.save(e.data.uiState)}),this.iframeEndpoint.addEventListener("message",async e=>{if("WFUI_CALL_EXPOSED_FUNCTION"===e.data.eventName){var t,r;let i;let{functionName:n,args:s,id:o}=e.data;try{let e=await (null===(r=this.exposedFunctions)||void 0===r?void 0:r[n](...s));i={status:"success",data:e}}catch(e){console.error("oops",e),i={status:"error",data:e}}null===(t=this.iframeEndpoint)||void 0===t||t.postMessage({eventName:"WFUI_ASYNC_REQUEST_SETTLES",response:i,id:o})}}),this.exposedFunctions&&this.iframeEndpoint.postMessage({eventName:"WFUI_SEND_EXPOSED_FUNCTIONS",surfaceName:this.surfaceName,exposedFunctions:Object.keys(this.exposedFunctions)});let _={...this.state,integrationContext:{siteId:s,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:d,providerOAuthToken:h,isConnected:!!h||void 0,serverUrl:this.serverUrl},surfaceInputsData:v};c=f?this.sdkVersion&&this.sdkVersion.startsWith("2")?`WFUI_LOAD_${this.surfaceName}_${n}`:`WFUI_LOAD_${n}`:"WFUI_LOAD";let w=await this.postEventWithResponse(c,_);this.save(null!=w?w:_)}async onSurfaceInteraction(e,t,r){if(!this.state){console.error("onSurfaceInteraction called with no ui state");return}this.state={...this.state,surfaceInputsData:{...this.state.surfaceInputsData,...r}};let i=await this.postEventWithResponse(`WFUI_INTERACTION_${e}:onChange`,this.state,t);return i&&this.save(i),this.state}async onFormCancel(e){let t=await this.postEventWithResponse(`WFUI_CANCEL_${e}:cancel`,this.state);t&&this.save(t)}async onSurfaceSave(e,t){var r;if(!this.state)return console.error("onSurfaceSave called with no ui state"),this.state;t&&(this.state={...this.state,surfaceInputsData:t});let i=await this.postEventWithResponse(`WFUI_SAVE_${e}:submit`,this.state);if(i&&this.save(i),!this.envVarHandlers)return this.state;let{reader:n,writer:s}=this.envVarHandlers,o=[],a=[];return Object.entries(null!==(r=this.state.surfaceInputsData)&&void 0!==r?r:{}).forEach(([e,t])=>{let r=this.elementDirectory.get(e);if(!(null==r?void 0:r.persistAs))return;let i=c._E.map(e=>e.value),[s,...l]=r.persistAs.split(".");if("$ENV"===s.toUpperCase()){let s=l.join(".");if(!s){console.error("No environment variable key specified for element",r);return}if(Array.isArray(t))throw Error(`${e} should not be an array type for an environment variable`);let u={key:s,scopes:i,values:[{context:"all",value:t}]};n.isExistingEnvVar(s)?o.push(u):a.push(u)}else console.warn("Unknown persistAs key:",s)}),await Promise.all([s.createEnvVars(a),s.updateEnvVars(o)]),this.state}async onDisable(){if(!this.state){console.error("onDisable called with no ui state");return}let e=await this.postEventWithResponse("WFUI_PKG_DISABLED",this.state);if(this.save({...e,surfaceInputsData:{}}),!this.envVarHandlers)return;let{writer:t}=this.envVarHandlers,r=[];this.elementDirectory.forEach(e=>{if(!e.persistAs)return;let[t,...i]=e.persistAs.split(".");if("$ENV"===t.toUpperCase()){let t=i.join(".");if(!t){console.error("No environment variable key specified for element",e);return}r.push(t)}else console.warn("Unknown persistAs key:",t)}),await t.deleteEnvVars(r)}async onEnable(){if(!this.state){console.error("onEnable called with no ui state");return}let e=await this.postEventWithResponse("WFUI_PKG_ENABLED",this.state);e&&this.save(e)}cleanup(){var e;null===(e=this.iframeEndpoint)||void 0===e||e.terminate(),this.iframe=null,this.mounted=!1,this.updater=null,(0,m.ah)(this.surfaceName)}postEventWithResponse(e,t,r){return this.iframeEndpoint?new Promise(i=>{let n=t=>{var r,s;(null===(r=t.data)||void 0===r?void 0:r.eventName)===`${e}_RESULT`&&(i(function(e){if(!e)return;let t={surfaceRouteConfig:e.surfaceRouteConfig,surfaceConfig:e.surfaceConfig,surfaceInputsData:e.surfaceInputsData,integrationContext:e.integrationContext};return Object.entries(t).forEach(([e,r])=>{r||delete t[e]}),t}(t.data.uiState)),null===(s=this.iframeEndpoint)||void 0===s||s.removeEventListener("message",n))};this.iframeEndpoint?(this.iframeEndpoint.addEventListener("message",n),this.iframeEndpoint.postMessage({eventName:e,uiState:t,interactionValue:r})):i(void 0)}):Promise.resolve(void 0)}constructor({surfaceName:e,exposedFunctions:t,envVarHandlers:r,surfaceData:i,accountId:n,accountSlug:s,siteName:o,queryParams:a,serverUrl:l,isPreview:u,branch:d,siteUrl:c,sdkVersion:h},m){f(this,"surfaceName",void 0),f(this,"state",void 0),f(this,"updater",null),f(this,"mounted",!0),f(this,"iframeEndpoint",null),f(this,"iframe",null),f(this,"exposedFunctions",void 0),f(this,"envVarHandlers",void 0),f(this,"elementDirectory",new Map),f(this,"accountData",void 0),f(this,"siteName",void 0),f(this,"siteUrl",void 0),f(this,"branch",void 0),f(this,"queryParams",void 0),f(this,"serverUrl",void 0),f(this,"isPreview",void 0),f(this,"sdkVersion",void 0),f(this,"getOAuthConnection",async(e,t)=>{let r=`${t}_integration_provider`;p.Y.includes(e)&&(r=e);let i=await fetch(`/.netlify/functions/identeer-proxy/connections/${r}`);if(i.ok){let{token:e}=await i.json();return e}}),i&&(this.state={surfaceData:i}),this.surfaceName=e,this.updater=m,this.exposedFunctions=t,this.envVarHandlers=r,this.accountData={accountId:n,accountSlug:s},this.siteName=o,this.siteUrl=c,this.branch=d,this.queryParams=a,this.serverUrl=l,this.isPreview=u,this.sdkVersion=h}},_=({surfaceName:e,packageKey:t,envVars:r,site:c,account:h,notFoundFallbackComponent:p,renderErrorFallback:f,host:v,routeSplat:y,surfaceData:b,displayOnly:_,exposedFunctions:w,outset:S,isPreview:k,integrationInfo:A})=>{var T,q,E;let N=null==h?void 0:h.get("id"),C=(0,s.wA)(),[P,I]=(0,n.useState)(!1),[O,D]=(0,n.useState)(null),[j,R]=(0,n.useState)(null),x=(0,n.useMemo)(()=>c&&N?{reader:(0,d.q)({site:c,envVars:r}),writer:(0,d.Q)({accountId:N,site:c,dispatch:C,envVars:r})}:void 0,[N,C,r,c]),[,L]=(0,n.useState)({}),[M]=(0,n.useState)(()=>new $({queryParams:new URLSearchParams(window.location.search),surfaceName:e,exposedFunctions:w,envVarHandlers:x,surfaceData:b,accountId:N,accountSlug:null==h?void 0:h.get("slug"),integrationSlug:null==O?void 0:O.integrationSlug,integrationId:null==A?void 0:A.id,useIdentity:null==O?void 0:O.useIdentity,siteName:null==c?void 0:c.get("name"),siteUrl:null==c?void 0:c.get("url"),branch:null==c?void 0:c.getIn(["build_settings","repo_branch"]),serverUrl:v,sdkVersion:null==A?void 0:A.sdkVersion,isPreview:k},()=>L({})));return((0,n.useEffect)(()=>{M.updateSurfaceHandlerProps({exposedFunctions:w,surfaceData:b,envVarHandlers:x})},[M,w,b,x]),(0,n.useEffect)(()=>()=>{M.cleanup()},[M]),(0,n.useEffect)(()=>{(async()=>{let r=await (0,m.j8)({surfaceName:e,host:v,packageKey:t,routeSplat:y});if(!r){I(!0);return}let{config:i,surfaceRouteConfig:n,surfaceConfig:s,matchedRouteKey:o,elementDirectory:a}=r;if(!i||!n||!s){I(!0);return}await M.onConfigLoaded({config:i,surfaceConfig:s,surfaceRouteConfig:n,matchedRouteKey:o,elementDirectory:a,siteId:null==c?void 0:c.get("id"),integrationId:null==A?void 0:A.id,host:v}),D(i||null),I(!0)})().catch(e=>{R(e),I(!0)})},[t,y,e,M,v,c,A]),P)?j&&!A?(0,i.jsx)("div",{className:S,children:(null==f?void 0:f(j))||(0,i.jsx)(l.A,{error:j})}):(null==j?void 0:j.message)===g?(0,i.jsx)("div",{className:S,children:!k&&p||"To preview an integration that requires OAuth, make sure you select the team that owns the integration. "}):(j||!O)&&A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{children:null==A?void 0:A.name}),(0,i.jsxs)(o.A,{children:[(0,i.jsx)(o.A.Title,{children:"Enabled"}),(0,i.jsxs)("p",{children:["This integration has been enabled for this ",c?"site":"team","."]})]})]}):O&&(null===(T=M.state)||void 0===T?void 0:T.surfaceConfig)&&(null===(q=M.state)||void 0===q?void 0:q.surfaceRouteConfig)?(0,i.jsx)(u.e,{integrationSlug:O.integrationSlug,integrationId:null==A?void 0:A.id,config:O,surfaceRouteConfig:M.state.surfaceRouteConfig,envVars:r,account:h,site:c,displayOnly:_,outset:S,onChange:({name:e,value:t})=>{M.save((r={})=>{let{surfaceInputsData:i}=r;return{...r,surfaceInputsData:{...i,[e]:t}}})},surfaceInputsData:null!==(E=M.state.surfaceInputsData)&&void 0!==E?E:{},surfaceConfig:M.state.surfaceConfig,surfaceData:M.state.surfaceData,surfaceHandler:M}):(0,i.jsx)("div",{className:S,children:p||"surface package not found"}):(0,i.jsx)(o.A,{children:(0,i.jsx)(a.A,{})})}},35903:(e,t,r)=>{r.d(t,{M:()=>f,Y:()=>p});var i=r(36870),n=r(49207),s=r(86326),o=r(17250),a=r(13243),l=r(27578),u=r(77926),d=r(57309),c=r(56674),h=r(68444);let p=["polyscale","planetscale"],m=({providerName:e,connectWithMessage:t,disconnectFromMessage:r,disconnectWarning:m,contextOptions:f,sdkVersion:g})=>{var v,y;let{surfaceHandler:b,integrationSlug:$,integrationId:_}=f,w=window.location.pathname.startsWith("/ui/preview"),{serverUrl:S,providerOAuthToken:k,netlifyToken:A,siteId:T,accountId:q}=null!==(y=null===(v=b.state)||void 0===v?void 0:v.integrationContext)&&void 0!==y?y:{},[E,N]=(0,s.useState)(),C=!!k,[P,I]=(0,s.useState)(!1),[O,D]=(0,s.useState)(!1),j=null!=m?m:`Are you sure you want to disconnect from your ${e} account?`,R=`Disconnect from ${e}`,{data:x,isLoading:L}=(0,a.$Z)(),M=(0,l.d4)(e=>(0,o.PR)(e)),U=()=>{let e=`${_}_integration_provider`;return $&&p.includes($)&&(e=$),e};if((0,s.useEffect)(()=>{if(x){let e=U();N(!!(null==x?void 0:x.find(t=>t.slug===e)))}},[x]),!1===E)return(0,i.jsx)(u.A,{error:w?`This integration is not configured for OAuth. To configure OAuth, please go to your [integration settings](/teams/${M.get("slug")}/integrations/private/${$}/edit).`:"There was a problem loading the OAuth identity providerâ€™s configuration."});if(P||L)return(0,i.jsx)(d.A,{children:(0,i.jsx)(c.A,{className:"tw-mt-2"})});let F=async()=>{I(!0);let e=new URLSearchParams;e.append("redirect_uri",window.location.href);let t=U(),r=await fetch(`/.netlify/functions/identeer-proxy/auth/${t}?${e.toString()}`);if(r.ok){let{auth_url:e}=await r.json();window.open(e,"_self")}},z=async()=>{I(!0);let[e,t,r]=g.split(".").map(Number),i=U();if(e>=1&&t>=0&&r>=8){let e=new URL("/.netlify/functions/handler/on-disconnect",null!=S?S:`https://netlify-integration-${i}.netlify.app`);e.searchParams.set("siteId",T),e.searchParams.set("teamId",q),await fetch(e,{method:"POST",headers:{"netlify-token":A,"provider-oauth-token":k}})}await fetch(`/.netlify/functions/identeer-proxy/disconnect/${i}`),window.location.reload()};return void 0===C?(0,i.jsx)(d.A,{children:(0,i.jsx)(c.A,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Ay,{show:O,saveLabel:"Disconnect",savingLabel:"Disconnecting",title:R,onSave:z,onHide:()=>D(!1),saveButtonVariant:"danger",children:(0,i.jsx)("p",{children:j})}),(0,i.jsxs)(d.A,{title:C?`Your Netlify account is connected to ${e}`:`Connect your Netlify account to ${e}`,children:[!C&&(0,i.jsx)("p",{children:t}),C&&(0,i.jsx)("p",{children:r}),C?(0,i.jsx)(n.$n,{className:"tw-mt-4 tw-w-max",onClick:()=>D(!0),children:"Disconnect"}):(0,i.jsx)(n.$n,{className:"tw-mt-4 tw-w-max",onClick:F,children:"Connect"})]})]})},f={type:"connection",optionsSchema:{},render({connectWithMessage:e,providerFriendlyName:t,disconnectFromMessage:r,disconnectWarning:n},s){let{sdkVersion:o,integrationSlug:a,integrationId:l}=s;return e&&r&&t&&a&&l&&o?(0,i.jsx)(m,{connectWithMessage:e,disconnectFromMessage:r,disconnectWarning:n,providerName:t,contextOptions:s,sdkVersion:o}):null}}},58963:(e,t,r)=>{r.d(t,{Ay:()=>u});var i=r(85342),n=r(77596),s=r(14989),o=r(43006);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let l=(0,n.lF)((0,s.Md)(new Date));class u{headers(e={}){return{"Content-Type":"application/json",...e}}parseJsonResponse(e){let t=!1;return e.json().then(r=>(t=!0,e.ok?r:Promise.reject(new i.A(r||"Error fetching analytics data")))).catch(r=>t?Promise.reject(r):Promise.reject({status:e.status}))}parsePaginatedJsonResponse(e){let t=!1;return e.json().then(r=>{t=!0;let n=(0,o.vz)(null==r?void 0:r.next);return e.ok?{pagination:n,data:r}:Promise.reject(new i.A(r||"Error fetching analytics data"))}).catch(r=>t?Promise.reject(r):Promise.reject({status:e.status}))}request(e,t={}){let r=t.parseJsonResponse||this.parseJsonResponse,n=this.headers(t.headers||{});return fetch(this.root+e,{credentials:"include",...t,headers:n}).then(r).catch(e=>{let{status:t,code:r,...n}=e;return Promise.reject(new i.A({code:t||r,...n}))})}pageviews(e,{from:t,to:r,resolution:i="day"}){return this.request(`/${e}/pageviews?from=${t}&to=${r}&timezone=${l}&resolution=${i}`)}uniqueVisitors(e,{from:t,to:r,resolution:i="day"}){return this.request(`/${e}/visitors?from=${t}&to=${r}&timezone=${l}&resolution=${i}`)}topLocations(e,{from:t,to:r,resolution:i="day"}){return this.request(`/${e}/ranking/countries?from=${t}&to=${r}&timezone=${l}`)}topSources(e,{from:t,to:r}){return this.request(`/${e}/ranking/sources?from=${t}&to=${r}&timezone=${l}&limit=6`)}topPages(e,{from:t,to:r}){return this.request(`/${e}/ranking/pages?from=${t}&to=${r}&timezone=${l}&limit=15`)}bandwidthUsed(e,{from:t,to:r,resolution:i="day"}){return this.request(`/${e}/bandwidth?from=${t}&to=${r}&timezone=${l}&resolution=${i}`)}realUserMetric(e,t,r="",{from:i,to:n,resolution:s="hour"}){let o=[`from=${i}`,`to=${n}`,`timezone=${l}`,`resolution=${s}`,r&&`device_type=${r}`].filter(Boolean);return this.request(`/${e}/rum/${t}?${o.join("&")}`)}notFound(e,{from:t,to:r}){return this.request(`/${e}/ranking/not_found?from=${t}&to=${r}&timezone=${l}&limit=15`)}async historicalFunctionLogs(e){let{branch:t,site_id:r,name:i,from:s,to:o,next_cursor:a,search:l,deploy_id:u}=e,d=(0,n.Vl)({...a&&{cursor:a},...l&&{search:l},...s&&{from:String(s)},...o&&{to:String(o)},...u&&{deploy_id:u}}),c=t?`branch/${(0,n.lF)(t)}/`:"";return this.request(`/sites/${r}/${c}function_logs/${(0,n.lF)(i)}?${d}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}async historicalEdgeFunctionLogs(e){let{site_id:t,from:r,to:i,next_cursor:s,search:o,deploy_id:a}=e,l=(0,n.Vl)({...s&&{cursor:s},...o&&{search:o},...r&&{from:String(r)},...i&&{to:String(i)},...a&&{deploy_id:a}});return this.request(`/sites/${t}/edge_function_logs?${l}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}accountBuildsUsageTimeseries({id:e,from:t,to:r,resolution:i="day"}){return this.request(`/accounts/${e}/usage_insights/builds?${(0,n.Vl)(t&&r?{from:t,to:r,resolution:i}:{})}`)}accountBuildsUsageTimeseriesLegacy({id:e,from:t,to:r,resolution:i="day"}){return this.request(`/accounts/${e}/usage_insights/build_minutes?${(0,n.Vl)(t&&r?{from:t,to:r,resolution:i}:{})}`)}accountConnectBandwidthTimeseries({id:e,from:t,to:r,resolution:i="day"}){return this.request(`/accounts/${e}/usage_insights/connect?${(0,n.Vl)(t&&r?{from:t,to:r,resolution:i,timezone:l}:{})}`)}accountFunctionsUsageTimeseries({id:e,from:t,to:r,resolution:i="day"}){return this.request(`/accounts/${e}/usage_insights/functions?${(0,n.Vl)(t&&r?{from:t,to:r,resolution:i,timezone:l}:{})}`)}accountBackgroundFunctionsUsageTimeseries({id:e,from:t,to:r,resolution:i="day"}){return Promise.resolve({data:[...Array(90).keys()].map(e=>new Date(new Date().setUTCHours(0,0,0,0)).setDate(new Date().getDate()-e)).reverse().map(e=>({start:e,values:{count:Math.round(1e4*Math.random()),memory_usage_mb_ms:Math.round(1e5*Math.random())}}))})}accountBlobsUsageTimeseries({id:e,from:t,to:r,resolution:i="day"}){return Promise.resolve({data:[...Array(90).keys()].map(e=>[new Date(new Date().setUTCHours(0,0,0,0)).setDate(new Date().getDate()-e),1e4*Math.random()]).reverse()})}accountWebRequestsTimeseries({id:e,from:t,to:r,resolution:i="day"}){return this.request(`/accounts/${e}/usage_insights/web_requests?${(0,n.Vl)(t&&r?{from:t,to:r,resolution:i,timezone:l}:{})}`)}accountImageCdnUsageTimeseries({id:e,from:t,to:r,resolution:i="day"}){return this.request(`/accounts/${e}/usage_insights/image_transformations?${(0,n.Vl)(t&&r?{from:t,to:r,resolution:i,timezone:l}:{})}`)}functionsInvocations({siteId:e,from:t,to:r,resolution:i="hour",branch:n,func:s,byStatus:o,type:a,context:l}){let u=s&&"all"!==s?`&name=${s}`:"",d=l?`&context=${l}`:"",c=n?`&branch=${n}`:"",h="usage_hour,count";return o?h+=",status":h+=",successes,errors",this.request(`/sites/${e}/site_usage_metrics/${a}?from=${t}&to=${r}${c}${u}${d}&resolution=${i}&filter=${h}`)}functionsMetrics({siteId:e,from:t,to:r,filter:i,resolution:n,branch:s,func:o,type:a,context:l}){let u=o&&"all"!==o?`&name=${o}`:"",d=l?`&context=${l}`:"",c=s?`&branch=${s}`:"",h=i?`&filter=${i.join(",")}`:"";return this.request(`/sites/${e}/site_usage_metrics/${a}?from=${t}&to=${r}${c}${u}${d}&resolution=${n}${h}`)}constructor(e){a(this,"apiVersion",void 0),a(this,"root",void 0),this.apiVersion="v2",this.root=`${e.get("analyticsClientApiBase")}/${this.apiVersion}`}}},4140:(e,t,r)=>{r.d(t,{Dv:()=>l,Sc:()=>s,cs:()=>o,lh:()=>u,lm:()=>a,nO:()=>d,ns:()=>h,vu:()=>c,zG:()=>n});var i=r(44110);let n={github:"github",bitbucket:"bitbucket",bitbucket_self_hosted:"bitbucket_self_hosted",gitlab:"gitlab",gitlab_self_hosted:"gitlab_self_hosted",github_app:"github_app",github_enterprise:"github_enterprise",google:"google",email:"email",azure_devops:"azure_devops"},s=(0,i.fromJS)({github:{id:n.github,name:"GitHub",description:"Authenticate users with GitHub and access GitHubâ€™s REST API",iconName:"github",labels:{api_id:"Client ID",client_id:"Client ID",secret:"Client secret"},active:!0,supports:{search:!0}},bitbucket:{id:n.bitbucket,name:"Bitbucket",description:"Authenticate users with Bitbucket and access their REST API",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Key",client_id:"Key",secret:"Secret"},active:!0,supports:{search:!0},hideGitUserFromRepoList:!0},bitbucket_self_hosted:{id:n.bitbucket_self_hosted,name:"Bitbucket Data Center and Server",shortName:"Bitbucket",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Application ID",client_id:"Client ID",secret:"Secret"},active:!1,selfhosted:!0,supports:{search:!0},hideGitUserFromRepoList:!0},gitlab:{id:n.gitlab,name:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},active:!0,supports:{search:!0}},gitlab_self_hosted:{id:n.gitlab_self_hosted,name:"GitLab self-managed",shortName:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},selfhosted:!0,supports:{search:!0},active:!1},github_app:{id:n.github_app,name:"GitHub App",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},active:!1},github_enterprise:{id:n.github_enterprise,name:"GitHub Enterprise",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},selfhosted:!0,active:!1},google:{id:n.google,name:"Google",iconColoredName:"google-colored",labels:{client_id:"Client ID",secret:"Client secret"},active:!1},email:{id:n.email,name:"Email",active:!1},azure_devops:{id:n.azure_devops,name:"Azure DevOps",iconName:"azure-devops",iconColoredName:"azure-devops-colored",active:!1,supports:{search:!0},hideGitUserFromRepoList:!0}}),o=s.toList().filter(e=>e.get("active")),a=s.toList().filter(e=>e.get("selfhosted")),l=e=>o.filterNot(t=>e&&e.find(e=>e.get("name")===t.get("id"))),u=e=>s.get(e)||(0,i.Map)({id:e,name:e,active:!1}),d=e=>{if(!e)return"";let t=s.get(e);return null==t?void 0:t.get("iconName")},c=[n.github,n.github_app,n.github_enterprise],h=[n.bitbucket,n.bitbucket_self_hosted]},72519:(e,t,r)=>{r.d(t,{A:()=>l});var i=r(99895),n=r.n(i),s=r(38900),o=r.n(s);let a={apiKey:"9b0542315c347c80d64e228583ec6dc2",appVersion:"66828bc3ae4a98000820afb4",releaseStage:/^deploy-preview-/.test(window.location.hostname)?"deploy-preview":/--app\.netlify\.app$/.test(window.location.hostname)||/--app\.netlify\.com$/.test(window.location.hostname)?"branch-deploy":(["staging","prod"].includes("prod"),"production"),collectUserIp:!1,enabledReleaseStages:["production","staging","branch-deploy","deploy-preview"],onError:e=>{var t;if(/pbjs\.|MetaMask/.test(e.errors[0].errorMessage)||"ChunkLoadError"===e.errors[0].errorClass)return!1;let r=sessionStorage.getItem("routePath");r&&(e.context=r),(null===(t=e.request.url)||void 0===t?void 0:t.includes("#"))&&(e.request.url=e.request.url.split("#")[0])}};["development","test"].includes("production")&&(a.enabledBreadcrumbTypes=[]),a.enabledReleaseStages.includes("production")||(a.logger=null);let l={start:()=>{n().start({...a,plugins:[new(o())]})}}},27180:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(69398),n=r(85927),s=r(2957),o=r(41443),a=r(94958);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let u=(...e)=>{},d=new class{setInstance(e){this.instance=e}async launch({accountSlug:e,dispatch:t,themePreference:r,setThemePreference:l,user:u}){if(this.didInit)return;this.didInit=!0;let d=u.get("id");if(!d){console.error("Attempted to launch command bar without a user id");return}let c=u.get("command_bar_signed_user_id");(0,i.init)("af6750c6"),this.setInstance(window.CommandBar),Object.entries(this.context).forEach(([e,t])=>{let{value:r,searchOptions:i}=t;this.instance.removeContext(e),this.instance.addContext(e,r,i)}),this.setContext("accountSlug",e),this.setContext("add",[{label:"Add site from git",route:"/start"},{label:"Add site from a template",route:"/start-with-template"},{label:"Add site by manual deploy (drag and drop)",route:"/drop"}]),this.setContext("docs",[],o._L),this.setContext("support",[],o.Rc);let{Dark:h,Light:p,OS:m}=s.B9;return this.instance.addContext("theme",r),this.setTheme((0,n.O)(r)),this.instance.addCallback("theme",(e,t)=>{let r=(0,n.O)(t.theme)===h?p:h;l(r),this.setContext("theme",r),this.setTheme(r)}),this.instance.addCallback("theme-os",(e,t)=>{l(m);let r=(0,n.O)(m);this.setContext("theme",r),this.setTheme(r)}),this.setContext("internal",(u.get("email")||"").endsWith("@netlify.com")),this.instance.setUserProperties({isNetlifyEmployee:(u.get("email")||"").endsWith("@netlify.com")}),this.instance.addCallback("feedback",(e,t)=>{this.instance.shareCallbacks()["commandbar-open-feedback"]()}),this.instance.addEventHandler((r,i)=>(0,o.N6)(t,{eventType:r,eventData:i,userId:d,accountSlug:e})),this.instance.addRouter(e=>a.Nc.push(e)),this.instance.boot(d,{},{hmac:c})}setContext(e,t,r){this.instance.removeContext(e),this.instance.addContext(e,t,r?{searchOptions:{searchFunction:r}}:void 0)}setTheme(e){this.instance.setTheme(`netlify-theme-${e}`)}setSummonHotkey(e){this.instance.setSummonHotkey(e)}open(){this.instance.open()}shutdown(){this.instance.shutdown(),this.didInit=!1}constructor(){l(this,"context",{}),l(this,"didInit",!1),l(this,"instance",{addCallback:u,addContext:(e,t,r)=>{this.context[e]={value:t,searchOptions:r}},addEventHandler:u,addRouter:u,boot:u,open:u,removeContext:e=>{delete this.context[e]},shutdown:u,setCustomComponent:u,setSummonHotkey:u,setTheme:u,shareCallbacks:u,setUserProperties:u})}}},44151:(e,t,r)=>{r.d(t,{A:()=>a});var i=r(85342),n=r(55154),s=r(43006);let o=["headers","parseJsonResponse","request","postRequest"];class a{headers(e={}){return{"Content-Type":"application/json",...e}}parseJsonResponse(e){let t=!1;return e.json().then(r=>(t=!0,e.ok?{data:r,pagination:(0,s.nA)(e)}:Promise.reject({...r,status:e.status}))).catch(r=>t?Promise.reject(r):Promise.reject({status:e.status}))}async request(e,t={}){let r=this.headers(t.headers||{});return"delete"===r["Content-Type"]&&delete r["Content-Type"],fetch(this.root+e,{credentials:"include",...t,headers:r}).then(e=>{if(t.raw&&e.ok)return e.arrayBuffer();let r=e.headers.get("Content-Type");return r&&r.match(/json/)?this.parseJsonResponse(e):e[r&&r.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer"]().then(t=>e.ok?{data:t}:Promise.reject(e))}).catch(e=>{let t;if(/Failed to fetch/.test(e))t=new i.A("Weâ€™re having some trouble connecting you to Netlify.\n\nThis error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito");else if("AbortError"===e.name)t=e;else{var r;let{status:n,code:s,message:o}=e;t=new i.A({code:null!==(r=null!=n?n:s)&&void 0!==r?r:500,message:o})}return Promise.reject(t)})}postRequest(e,t){let r={method:"POST"};return t&&(r.body=t),this.request(e,r)}projects(e){return this.postRequest("/core/projects",JSON.stringify({siteIds:e}))}siteProjects(e,{signal:t}={}){return this.request(`/core/projects/${e}`,{signal:t})}project(e,{signal:t}={}){return this.request(`/project/${e}`,{signal:t})}updateProject(e,t){return this.request(`/project/${e}`,{method:"PUT",body:JSON.stringify({project:t})})}redeployProject(e,{environmentName:t,force:r=!1,previewToken:i}){return this.postRequest(`/project/${e}/redeploy`,JSON.stringify({environmentName:t,force:r,previewToken:i}))}stopProject(e){return this.postRequest(`/project/${e}/stop`)}restartPreview(e){return this.request(`/project/${e}/restart-preview`)}updateProjectEnvVars(e,t){return this.postRequest(`/project/${e}/env-vars`,JSON.stringify(t))}logout(){return this.request("/auth/logout")}projectAction(e,t){return this.postRequest(`/project/${e}/action?type=${t}`,JSON.stringify({action:t}))}connectedOrganization(e){return this.request(`/organization/connected/${e}`)}analyzeRepo(e,t,r,i){return this.postRequest("/project/analyze-repo",JSON.stringify({repoUrl:e,branch:t,options:r,token:i}))}ensureUser(){return this.postRequest("/core/ensure-user")}getUser(){return this.request("/user/my")}constructor(){return!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"root",void 0),this.root="/access-control/create-api",new Proxy(this,{get(e,t,...r){if("function"==typeof e[t]&&!o.includes(t.toString())){let i=Reflect.get(e,t,...r),s=t.toString();return function(...t){let r=(0,n.Df)(`api-${s}-start`),o=i.apply(e,t);return o.then?new Promise((e,t)=>{o.then(t=>{let i=(0,n.Df)(`api-${s}-end`,{rejected:!1});return(0,n.QR)(`api-${s}-complete`,r,i),e(t)}).catch((...e)=>{let i=(0,n.Df)(`api-${s}-end`,{rejected:!0});return(0,n.QR)(`api-${s}-complete`,r,i),t(...e)})}):o}}return Reflect.get(e,t,...r)}})}}},73359:(e,t,r)=>{r.d(t,{A6:()=>P,Au:()=>s,EX:()=>m,Ev:()=>c,Fz:()=>f,Nr:()=>N,O_:()=>a,Rr:()=>o,W$:()=>u,WH:()=>C,WJ:()=>E,WN:()=>p,gH:()=>d,gR:()=>q,jr:()=>h,mt:()=>l,qr:()=>T,wZ:()=>g});var i,n=r(6424);!function(e){e.A="A",e.AAAA="AAAA",e.ALIAS="ALIAS",e.CAA="CAA",e.CNAME="CNAME",e.SPF="SPF",e.SRV="SRV",e.MX="MX",e.NS="NS",e.TXT="TXT"}(i||(i={}));let s="INVALID_FQDN",o="^[a-zA-Z0-9-.]+$",a="NETLIFY_ADDRESS_ERROR",l="NETLIFY",u="NETLIFYv6",d="MX",c="SPF",h="TXT",p="SRV",m="CAA",f="CNAME",g="tag",v="value",y="(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9(\\-)]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9](\\.?))$",b=`^${y}`,$=`^@$|^(\\*)$|^(\\*\\.)?${y}`,_=`^@$|${b}`,w="^(\\*)$|^(\\*\\.)?(([a-zA-Z0-9_]|[a-zA-Z0-9_][a-zA-Z0-9_\\-]*[a-zA-Z0-9_])\\.)*([A-Za-z0-9_]|[A-Za-z0-9_][A-Za-z0-9_\\-]*[A-Za-z0-9_](\\.?))$",S=`^@$|${w}`,k={A:"^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",AAAA:"^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$",ALIAS:b,CNAME:w,MX:b,NS:b,SPF:"^(v=spf1).*$",SRV:b},A={CNAME:w,TXT:S,NS:_};function T(e,t=v){switch(t){case v:return k[e]||"";case g:return"(^issue$)|(^issuewild$)|(^iodef$)";case"hostname":return A[e]||$;default:return""}}function q(e){return e?Promise.all([r.e(1685).then(r.bind(r,16944)),Promise.resolve().then(r.bind(r,13629))]).then(([e,t])=>[e.default||e,t.default||t]).then(([t,r])=>{let i=t.parseDomain(t.fromUrl(e));if(i.type!==n.xG.Listed)return null;let{subDomains:s,domain:o,topLevelDomains:a}=i;return o||(s=i.icann.subDomains,o=i.icann.domain,a=i.icann.topLevelDomains),o?{subdomain:r.toASCII(s.join(".")),domain:r.toASCII(o),tld:r.toASCII(a.join("."))}:null}):Promise.resolve(null)}function E(e){return q(e).then(e=>{let{subdomain:t,domain:r,tld:i}=e||{};return r?"www"===t?`${r}.${i}`:t?null:`www.${r}.${i}`:null})}function N(e){return q(e).then(e=>e?Promise.resolve(e):Promise.reject(s))}let C=e=>({A:"IPv4 address, like 192.0.1.1",AAAA:"IPv6 address, like 2001:cdba:0:0:0:0:3257:9652",ALIAS:"A domain name, like myapp.herokuapp.com",CAA:"The value associated with the tag, like letsencrypt.org",CNAME:"A domain name, like ftp.example.com",SPF:"Text that represents the authorized mail server, like v=spf1 a mx ip4:69.64.153.131 include:_spf.google.com ~all",SRV:"The hostname of the machine providing the service, like bigbox.example.com",MX:"The mail serverâ€™s hostname, like mail.example.com",NS:"The name serverâ€™s hostname, like ns1.example.com",TXT:"Free form text data"})[e]||"",P=e=>e.sort((e,t)=>{try{return e.get("type").trim().localeCompare(t.get("type").trim())||e.get("hostname").trim().localeCompare(t.get("hostname").trim())||e.get("priority",0)-t.get("priority",0)||e.get("value").trim().localeCompare(t.get("value").trim())}catch(r){return console.error("Unexpected error sorting records",{r1:e,r2:t}),0}})},15644:(e,t,r)=>{r.d(t,{b:()=>i});function i(e){let t=document.querySelector("link[rel='icon'][type='image/x-icon']");if(t){var r;null===(r=t.parentNode)||void 0===r||r.removeChild(t)}(document.querySelectorAll("link[rel='icon'][sizes]")||[]).forEach(t=>{let r=t.getAttribute("sizes");t.setAttribute("href",`/favicon-prod-remote-${e}-${r}.png`)})}},69895:(e,t,r)=>{r.d(t,{eC:()=>eu,Ow:()=>ed,fI:()=>ec,g3:()=>el});var i=r(78028),n=r(4140),s=r(77596);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let a="https://dev.azure.com";function l(e){return{login:e.id,full_name:e.displayName,name:e.displayName}}function u(e){return{id:e.accountId,api_id:e.accountName,login:e.accountName,full_name:e.accountName}}function d(e){return e.value.map(u)}let c=["git.push","git.pullrequest.created","git.pullrequest.merged","git.pullrequest.updated"];function h(e){return m(e.name)}function p(e){var t;return null===(t=e.value)||void 0===t?void 0:t.map(h)}function m(e){return null==e?void 0:e.replace(/^refs\/heads\//,"")}function f(e){var t;return null===(t=e.value)||void 0===t?void 0:t.filter(e=>"blob"===e.gitObjectType).map(e=>({...e,path:e.path.replace(/^\//,"")}))}function g(e){return e.content}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return e}function b(e){var t,r,i,n;return{id:e.full_name,api_id:e.full_name,full_name:e.full_name,name:e.name,description:e.description,private:e.is_private,scm:e.scm,default_branch:null===(t=e.mainbranch)||void 0===t?void 0:t.name,language:e.language,updated_at:e.updated_at,repo_url:null===(i=e.links)||void 0===i?void 0:null===(r=i.html)||void 0===r?void 0:r.href,owner:null===(n=e.workspace)||void 0===n?void 0:n.slug}}function $(e){return{data:e.data.values.map(b),pagination:e.pagination}}function _(e){return{id:e.slug,api_id:e.slug,login:e.slug,full_name:e.name,avatar:e.links.avatar.href}}function w(e){return{data:e.data.values.map(_),pagination:e.pagination}}function S({data:e,pagination:t}){return{data:e.values.map(e=>e.name),pagination:t}}function k(e){return{login:e.username,full_name:e.username,name:e.display_name,avatar:e.links.avatar.href}}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return e}function q(e){var t,r;return{id:e.id,api_id:e.slug,organization_name:e.project.key,full_name:`${e.project.key}/${e.name}`,name:e.name,description:e.name,private:!e.public,scm:e.scmId,repo_url:null===(r=e.links)||void 0===r?void 0:null===(t=r.html)||void 0===t?void 0:t.href}}function E(e){return{data:e.data.values.map(q),pagination:e.pagination}}function N(e){return{id:e.key,api_id:e.key,login:e.name,full_name:e.name}}function C(e){return{data:e.data.values.map(N),pagination:e.pagination}}function P({data:e,pagination:t}){return{data:e.values.map(e=>e.displayId),pagination:t}}function I(e){return{login:e.values[0].slug,full_name:e.values[0].displayName,name:e.values[0].name}}var O=r(85342),D=r(43006);function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return e}function x(e){return{id:e.id,api_id:e.full_name,full_name:e.full_name,name:e.name,description:e.description,private:e.private,default_branch:e.default_branch,owner_type:e.owner.type,language:e.language,updated_at:e.updated_at,repo_url:e.html_url,owner:e.owner.login}}function L(e){return e.map(x)}function M(e){return L(e.items)}function U(e){return{id:e.id,api_id:e.login,login:e.login,full_name:e.full_name,avatar:e.avatar_url}}function F(e){return e.map(U)}function z(e){return{login:e.login,full_name:e.login,name:e.name,avatar:e.avatar_url}}class J{headers(e={}){let t=new Headers({"Content-Type":"application/json",...e});return this.token&&t.set("Authorization",`token ${this.token}`),t}parseJsonResponse(e,t){return e.json().then(r=>{if(!e.ok)return Promise.reject(r);let i=(0,D.nA)(e);return{data:t(r),pagination:i}})}request(e,t={}){let r=this.headers(t.headers||{});return fetch(this.root+e,{...t,headers:r}).then(e=>{var r,i;return(null===(i=e.headers)||void 0===i?void 0:null===(r=i.get("Content-Type"))||void 0===r?void 0:r.match(/json/))?this.parseJsonResponse(e,t.format||R):e.text().then(e=>({data:e}))})}user(){return this.request("/user",{format:z})}repos({organization:e,page:t,per_page:r}){let i=e?`/orgs/${e}/repos`:"/user/repos";return i+=`?page=${t}&per_page=${r}`,this.request(i,{format:L})}repo(e){return this.request(`/repos/${e}`,{format:x})}searchRepos({search:e,organization:t}){let r=`/search/repositories?q=${(0,s.lF)(e)}`;return t?(r+=`+user:${t}+fork:true`,this.request(r,{format:M})):this.user().then(e=>(r+=`+user:${e.data.login}+fork:true`,this.request(r,{format:M})))}branches({api_id:e,page:t=1}){return this.request(`/repos/${e}/branches?page=${t}&per_page=100`).then(({data:e,pagination:t})=>({data:e.map(e=>e.name),pagination:t}))}organizations(){return this.request("/user/orgs?page=1&per_page=100",{format:F})}dir({full_name:e,branch:t,filepath:r=""}){let i=`/repos/${e}/contents/${r}`;return t&&(i+=`?ref=${t}`),this.request(i)}read({full_name:e,branch:t="",filepath:r=""}){let i=`/repos/${e}/contents/${r}`;return t&&(i+=`?ref=${t}`),this.request(i,{headers:{Accept:"application/vnd.github.VERSION.raw"}}).then(e=>({data:e.data,path:r}))}addDeployKey(e,t,r){let i={title:"Netlify Deploy Key",key:t.public_key,read_only:r};return this.request(`/repos/${e}/keys`,{method:"POST",body:JSON.stringify(i)}).then(()=>t)}addWebhook({api_id:e,site:t}){let r={name:"web",active:!0,events:["delete","push","pull_request","create","issue_comment","pull_request_review","pull_request_review_comment"],config:{url:t.deploy_hook,content_type:"json"}};return this.request(`/repos/${e}/hooks`,{method:"POST",body:JSON.stringify(r)}).then(()=>t).catch(e=>e.errors&&e.errors[0]&&e.errors[0].message&&e.errors[0].message.match(/already/)?t:Promise.reject(e))}createRepo(e){let t={name:e.name,description:e.description,homepage:e.url,private:!!e.private};return this.request("/user/repos",{method:"POST",body:JSON.stringify(t)}).then(e=>x(e.data)).catch(e=>{let t=e.errors&&e.errors[0]&&/already exists/.test(e.errors[0].message)?"Repository name already exists on this account":e.message||"Repository creation failed";throw new O.A(t)})}constructor(e,t){j(this,"token",void 0),j(this,"root",void 0),this.token=e,this.root=(t||"https://api.github.com").replace(/\/$/,"")}}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let V=e=>t=>({id:t.id,api_id:t.full_name,full_name:t.full_name,name:t.name,description:t.description,private:t.private,installation_id:e,default_branch:t.default_branch,owner_type:t.owner.type,language:t.language,updated_at:t.updated_at,repo_url:t.html_url,owner:t.owner.login}),H=e=>t=>t.repositories.map(V(e)),G=(e,t)=>{let r=RegExp(e,"i");return e=>i=>i.repositories.reduce((t,i)=>(r.test(i.full_name)&&t.push(V(e)(i)),t),t)},W=e=>{let t=e.account;return{id:e.id,api_id:t.login,login:t.login,full_name:t.login,avatar:t.avatar_url,installation_id:e.id,target_type:e.target_type,repository_selection:e.repository_selection}},K=e=>e.installations.map(W),Z=(e,t)=>{let r=e.full_name.toUpperCase(),i=t.full_name.toUpperCase();return r<i?-1:r>i?1:0},Y=()=>new Date().getTime();class Q{constructor(e,t){B(this,"github",void 0),B(this,"request",(e,t)=>this.github.request(e,t)),B(this,"fetchAllInstallations",({data:e=[],page:t=1}={})=>this.installations(t).then(({data:t,pagination:r})=>{let i=null==r?void 0:r.next;return i?this.fetchAllInstallations({data:e.concat(t),page:i}):{data:e.concat(t)}})),B(this,"installations",(e=1)=>this.request(`/user/installations?page=${e}&per_page=100&v=${Y()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:K}).catch(e=>({data:[],pagination:{}}))),B(this,"findInstallation",(e,t)=>this.fetchAllInstallations().then(e=>e.data).then(r=>r.find(t=>e===t.login)||t&&r.find(e=>"Organization"===e.target_type))),B(this,"findInstallationId",({login:e,installationId:t})=>t?Promise.resolve(t):this.findInstallation(e).then(e=>e&&e.id)),B(this,"findInstallationRepos",({installationId:e,page:t,per_page:r,format:i})=>e?this.request(`/user/installations/${e}/repositories?page=${t}&per_page=${r}&v=${Y()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:i(e)}).catch(e=>({data:[],pagination:{}})):Promise.resolve({data:[],pagination:{}})),B(this,"user",()=>this.github.user().then(({data:e})=>this.findInstallation(e.login,!0).then(t=>({data:{...e,installation_id:t&&t.login===e.login&&t.id,installation:t}})))),B(this,"organizations",()=>this.fetchAllInstallations().then(e=>({data:e.data.filter(e=>"Organization"===e.target_type),pagination:{}}))),B(this,"repos",({organization:e,page:t,per_page:r,installationId:i,gitUser:n,format:s=H})=>this.findInstallationId({login:e||n.get("login"),installationId:i}).then(e=>this.findInstallationRepos({installationId:e,page:t,per_page:r,format:s}))),B(this,"searchRepos",({search:e,...t})=>{if(!e)return this.repos(...t);let r=[],i={...t,per_page:100,format:G(e,r)};return this.repos({...i,page:1}).then(({pagination:e})=>{let t=[],r=(null==e?void 0:e.last)||1;for(let e=2;e<=r;e++)t.push(this.repos({...i,page:e}));return Promise.all(t)}).then(e=>({data:r.sort(Z),pagination:{}}))}),B(this,"repo",e=>this.github.repo(e)),B(this,"createRepo",e=>e.template?this.github.createRepo(e):this.user().then(t=>{let{installation_id:r,repository_selection:i}=t.data;if("all"!==i)throw new O.A("Can't create a repo for the current app installation.");return this.request("/user/repos",{method:"POST",body:JSON.stringify({name:e.name,description:e.description,homepage:e.url})}).then(e=>V(r)(e.data))})),B(this,"dir",({full_name:e,branch:t,filepath:r})=>this.github.dir({full_name:e,branch:t,filepath:r})),B(this,"read",({full_name:e,branch:t,filepath:r})=>this.github.read({full_name:e,branch:t,filepath:r})),B(this,"branches",({api_id:e,page:t})=>this.github.branches({api_id:e,page:t})),B(this,"addDeployKey",(e,t,r)=>Promise.resolve(t)),B(this,"addWebhook",({site:e})=>Promise.resolve(e)),this.github=new J(e,t)}}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){return e}function et(e){return{id:e.id,api_id:e.id,full_name:e.path_with_namespace,name:e.name,description:e.description,default_branch:e.default_branch,private:"private"===e.visibility,updated_at:e.updated_at,repo_url:e.http_url_to_repo}}function er(e){return e.map(et)}function ei(e){return{id:String(e.id),api_id:String(e.id),login:e.name,full_name:e.full_name,avatar:e.avatar_url}}function en(e){return e.map(ei)}function es(e){return{login:e.username,full_name:e.username,name:e.name,avatar:e.avatar_url}}class eo{headers(e={}){return{"Content-Type":"application/json",...this.token?{Authorization:`Bearer ${this.token}`}:{},...e}}parseJsonResponse(e,t){return e.json().then(r=>{if(!e.ok)return Promise.reject(r);let i=(0,D.nA)(e);return{data:t(r),pagination:i}})}request(e,t={}){let r=this.headers(t.headers||{});return fetch(this.root+e,{...t,headers:r}).then(e=>{var r,i;return(null==e?void 0:null===(i=e.headers)||void 0===i?void 0:null===(r=i.get("Content-Type"))||void 0===r?void 0:r.match(/json/))?this.parseJsonResponse(e,t.format||ee):e.text().then(e=>({data:e}))})}user(){return this.request("/user",{format:es})}repos({organization:e,page:t,per_page:r,search:i,scopeCurrentUser:n=!0}){let o=e?`/groups/${e}/projects?`:"/projects?min_access_level=40&";return(o+=`page=${t}&per_page=${r}`,i&&(o+=`&search=${(0,s.lF)(i)}`),n&&!e)?this.user().then(e=>{let t=`/users/${e.data.login}${o}`;return this.request(t,{format:er})}):this.request(o,{format:er})}repo(e){return this.request(`/projects/${(0,s.lF)(e)}`,{format:et})}searchRepos(e){return this.repos(e)}branches({api_id:e,page:t=1}){return this.request(`/projects/${(0,s.lF)(e)}/repository/branches?per_page=100&page=${t}`).then(({data:e,pagination:t})=>({data:e.map(e=>e.name),pagination:t}))}organizations({per_page:e=100,prefetchedData:t=[],page:r=1}={}){return this.request(`/groups?per_page=${e}&page=${r}`,{format:en}).then(({data:r,pagination:i})=>{let n=null==i?void 0:i.next,s=t.concat(r);return n?this.organizations({per_page:e,prefetchedData:s,page:n}):{data:s,pagination:i}})}dir({full_name:e,branch:t,filepath:r=""}){let i=`/projects/${(0,s.lF)(e)}/repository/tree?per_page=100`,n="",o=[];return t&&o.push(`ref=${t}`),r&&(o.push(`path=${r}`),n=r+"/"),o&&(i+=`&${o.join("&")}`),this.request(i).then(e=>({data:e.data.map(e=>({path:n+e.name}))}))}read({full_name:e,branch:t,filepath:r=""}){let i;return new RegExp(/^.*\.[^\\]+$/).test(r)?(i=`/projects/${(0,s.lF)(e)}/repository/files`,r&&(i+=`/${(0,s.lF)(r)}`),i+=`?ref=${t}`):i=`/projects/${(0,s.lF)(e)}/repository/tree?path=${r}&ref=${t}`,this.request(i).then(e=>{if(e.data.length){let t=e.data.find(e=>(null==e?void 0:e.type)==="tree");return{data:[{path:null==t?void 0:t.path,type:"dir"}],path:r}}return{data:window.atob(e.data.content),path:r}})}addDeployKey(e,t,r){let i=`/projects/${(0,s.lF)(e)}/deploy_keys`,n={title:"Netlify Deploy Key",key:t.public_key,can_push:!r};return this.request(i,{method:"POST",body:JSON.stringify(n)}).then(new Promise(e=>{setTimeout(()=>{e(t)},1e4)})).then(()=>t)}addWebhook({api_id:e,site:t}){let r=`/projects/${(0,s.lF)(e)}/hooks`,i={url:t.deploy_hook,push_events:!0,merge_requests_events:!0,note_events:!0,enable_ssl_verification:!0};return this.request(r,{method:"POST",body:JSON.stringify(i)}).then(()=>t).catch(function(e){return Promise.reject(e)})}checkErrorForInvalidToken(e){if("invalid_token"===e.error)return{code:401,message:"Your access token has expired. Please reconnect to GitLab to continue."}}createRepo(e){let t={name:e.name,description:e.description};return e.private&&(t.visibility="private"),this.request("/projects",{method:"POST",body:JSON.stringify(t)}).then(e=>et(e.data)).catch(e=>{let t=this.checkErrorForInvalidToken(e);if(t)throw new O.A(t);let r=e.message&&/taken/.test(String(e.message.name))?"Repository name already exists on this account":"Repository creation failed";throw new O.A(r)})}constructor(e,t){X(this,"root",void 0),X(this,"token",void 0),this.token=e,this.root=t||"https://gitlab.com/api/v4"}}let ea={github:J,github_app:Q,github_enterprise:Q,gitlab:eo,gitlab_self_hosted:eo,bitbucket:class{headers(e={}){return{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",...e}}parseJsonResponse(e,t){return e.json().then(r=>{if(!e.ok)return Promise.reject(r);let i=function(e){let{page:t,next:r,previous:i}=e;if(t&&(r||i))return{current:t,next:t+1,nextUrl:r}}(r);return{data:t(r),pagination:i}})}request(e,t={}){let r=this.headers(t.headers||{});return fetch(this.root+e,{...t,headers:r}).then(e=>{var r,i,n;return(null===(i=(n=e.headers).get)||void 0===i?void 0:null===(r=i.call(n,"Content-Type"))||void 0===r?void 0:r.match(/json/))?this.parseJsonResponse(e,t.format||y):e.text().then(e=>({data:e}))})}user(){return this.request("/2.0/user",{format:k})}repos({organization:e,page:t,per_page:r,search:i}){let n="/2.0/repositories",o=e?`${n}/${e}?pagelen=100&role=admin`:`${n}?pagelen=100&role=admin`;return i&&(o+=`&q=${(0,s.lF)(`name~"${i}"`)}`),this.request(o).then($)}repo(e){return this.request(`/2.0/repositories/${e}`,{format:b})}searchRepos(e){return this.repos(e)}branches({api_id:e,page:t=1}){return this.request(`/2.0/repositories/${e}/refs/branches?pagelen=100&page=${t}`).then(S)}async organizations(){let e;let t=async e=>this.request(`/2.0/workspaces?page=${e}`).then(w),r=1,i=[],n=!1;for(;!n;){let{data:s,pagination:o}=await t(r);i.push(...s),(null==o?void 0:o.nextUrl)?r=o.next:(n=!0,e={data:i.reverse(),pagination:o})}return e}fetchAndFormatDir({full_name:e,branch:t,filepath:r="",page:i="",data:n=[]}){let s=i?`?page=${i}`:"";return this.request(`/2.0/repositories/${e}/src/${t}/${r}${s}`).then(i=>{var s;let o={data:i.data.values},a=null===(s=i.pagination)||void 0===s?void 0:s.nextUrl,l=a&&new URLSearchParams(a.split("?")[1]).get("page");return l?this.fetchAndFormatDir({full_name:e,branch:t,filepath:r,page:l,data:n.concat(o.data)}):{data:n.concat(o.data)}})}dir({full_name:e,branch:t,filepath:r=""}){return this.fetchAndFormatDir({full_name:e,branch:t,filepath:r,page:"",data:[]})}read({full_name:e,branch:t,filepath:r=""}){return this.request(`/2.0/repositories/${e}/src/${t}/${r}`).then(e=>({data:e.data,path:r}))}addDeployKey(e,t){return this.request(`/2.0/repositories/${e}/deploy-keys`,{method:"POST",body:JSON.stringify({label:"Netlify Deploy Key",key:t.public_key})}).then(()=>t)}addWebhook({api_id:e,site:t}){let r=`/2.0/repositories/${e}/hooks`;return this.request(r).then(e=>{if("Forbidden"===e.data)return Promise.reject(Error("We couldnâ€™t set up continuous deployment for this repository. This typically happens when you donâ€™t have admin rights to the repository."));let i=e.data.values.find(e=>e.url===t.deploy_hook),n=["repo:push","pullrequest:created","pullrequest:updated","pullrequest:fulfilled","pullrequest:rejected","pullrequest:comment_created","pullrequest:comment_deleted","pullrequest:comment_updated"];return i&&n.sort().toString()!==i.events.sort().toString()?this.request(`${r}/${i.uuid}`,{method:"PUT",body:JSON.stringify({description:"Netlify Deploy Hook",url:t.deploy_hook,active:!0,events:n})}).then(()=>t):i?t:this.request(r,{method:"POST",body:JSON.stringify({description:"Netlify Deploy Hook",url:t.deploy_hook,active:!0,events:n})}).then(()=>t)})}constructor(e){v(this,"root",void 0),v(this,"token",void 0),this.token=e,this.root="https://api.bitbucket.org"}},bitbucket_self_hosted:class{parseJsonResponse(e,t){return e.json().then(r=>{if(!e.ok)return Promise.reject(r);let i=function(e){let{start:t,isLastPage:r,limit:i,nextPageStart:n}=e,s=Math.floor(t/i);if(0!==s||!r)return{current:s+1,isLastPage:r,next:s+2,nextPageStart:n}}(r);return{data:t(r),pagination:i}})}request(e,t){return fetch("/.netlify/functions/bitbucket-self-hosted",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:`${this.instanceUrl}${e}`,method:(null==t?void 0:t.method)||"GET",token:this.token,payload:null==t?void 0:t.payload})}).then(e=>{var r,i;return(null==e?void 0:null===(i=e.headers)||void 0===i?void 0:null===(r=i.get("Content-Type"))||void 0===r?void 0:r.match(/json/))?this.parseJsonResponse(e,(null==t?void 0:t.format)||T):e.text().then(e=>({data:e}))})}user(){return this.request("plugins/servlet/applinks/whoami").then(e=>this.request(`users?filter=${e.data}`,{format:I}))}repos({organization:e,page:t=1,per_page:r=25,search:i}){let n;let o="repos";return n=(i?`rest/api/latest/${o}?name=${(0,s.lF)(i)}&`:e?`projects/${e}/${o}?`:`${o}?`)+`limit=${r}&start=${(t-1)*r}`,this.request(n).then(E)}repo({organization:e,full_name:t}){return this.request(`projects/${e}/repos/${t}`,{format:q})}searchRepos(e){return this.repos(e)}async branches({api_id:e,page:t=1,organization_name:r}){return this.request(`projects/${r}/repos/${e}/branches?pagelen=100&page=${t}`).then(P)}async organizations(){let e;let t=async e=>this.request(`projects?limit=100&start=${e}`).then(C),r=0,i=[],n=!1;for(;!n;){let{data:s,pagination:o}=await t(r);i.push(...s),(null==o?void 0:o.nextPageStart)?r=o.nextPageStart:(n=!0,e={data:i,pagination:o})}return e}fetchAndFormatDir({organization_name:e,api_id:t,branch:r,filepath:i="",page:n="",data:s=[]}){let o=n?`?page=${n}`:"",a=`projects/${e}/repos/${t}/files/${i}${o}`;return this.request(a).then(o=>{var a;let l={data:o.data.values.map(e=>({path:e}))};return(null===(a=o.pagination)||void 0===a?void 0:a.nextPageStart)&&n?this.fetchAndFormatDir({organization_name:e,api_id:t,branch:r,filepath:i,page:String(parseInt(n)+1),data:s.concat(l.data)}):{data:s.concat(l.data)}})}dir({organization_name:e,api_id:t,full_name:r,branch:i,filepath:n=""}){return this.fetchAndFormatDir({organization_name:e,api_id:t,branch:i,filepath:n,page:"",data:[]})}read({organization_name:e,api_id:t,branch:r,filepath:i=""}){return this.request(`projects/${e}/repos/${t}/browse/${i}`).then(e=>({data:e.data.lines.map(e=>e.text).join("\n"),path:i}))}addDeployKey(e,t,r,i){return this.request(`rest/keys/latest/projects/${i}/repos/${e}/ssh`,{method:"POST",payload:{key:{text:t.public_key,label:"Netlify Deploy Key"},permission:"REPO_READ"}}).then(()=>t)}addWebhook({api_id:e,site:t,organization_name:r}){let i=`projects/${r}/repos/${e}/webhooks`;return this.request(i).then(e=>{if("Forbidden"===e.data)return Promise.reject(Error("We couldnâ€™t set up continuous deployment for this repository. This typically happens when you donâ€™t have admin rights to the repository."));let r=e.data.values.find(e=>e.url===t.deploy_hook),n=["repo:refs_changed","pr:opened","pr:from_ref_updated","pr:modified","pr:merged","pr:comment:added","pr:comment:edited","pr:comment:deleted"];return r&&n.sort().toString()!==r.events.sort().toString()?this.request(`${i}/${r.uuid}`,{method:"PUT",payload:{description:"Netlify Deploy Hook",url:t.deploy_hook,active:!0,events:n}}).then(()=>t):r?t:this.request(i,{method:"POST",payload:{description:"Netlify Deploy Hook",url:t.deploy_hook,active:!0,events:n}}).then(()=>t)})}constructor(e,t,r){A(this,"root",void 0),A(this,"token",void 0),A(this,"instanceUrl",void 0),this.token=e,this.root=t,this.instanceUrl=r}},azure_devops:class{headers(e={}){return new Headers({"Content-Type":"application/json",Authorization:`Bearer ${this.token}`,...e})}parseJsonResponse(e,t){return e.json().then(r=>e.ok?{data:t?t(r):r,pagination:function(e){let t=e.headers.get("x-ms-continuationtoken");return t?{next:t}:null}(e)}:Promise.reject(r))}request(e,t={}){let r=this.headers(t.headers||{}),i=(0,s.Vl)({...t.queryParams||{},"api-version":this.apiVersion});return fetch(`${t.root||this.root}${e}?${i}`,{method:t.method||"GET",headers:r,...t.body&&{body:t.body}}).then(e=>{var r,i;return(null===(i=e.headers)||void 0===i?void 0:null===(r=i.get("Content-Type"))||void 0===r?void 0:r.match(/json/))?this.parseJsonResponse(e,t.format):e.text().then(e=>({data:e}))})}user(){return this.request("/_apis/profile/profiles/me",{format:l})}organizations({userLogin:e}){return this.request("/_apis/accounts",{queryParams:{memberId:e},format:d})}repos({organization:e}){return this.request(`/${(0,s.lF)(e)}/_apis/git/repositories`,{root:a,format:t=>{var r;return null===(r=t.value)||void 0===r?void 0:r.map(t=>{var r,i,n;return{id:t.id,api_id:t.id,full_name:`${e}/${t.project.name}/_git/${t.name}`,full_name_encoded:`${e}/${(0,s.lF)(t.project.name)}/_git/${(0,s.lF)(t.name)}`,full_name_ui:`${e}/${t.project.name}/${t.name}`,name:t.name,default_branch:m(t.defaultBranch),private:(null===(r=t.project)||void 0===r?void 0:r.visibility)!=="public",project_name:null===(i=t.project)||void 0===i?void 0:i.name,project_id:null===(n=t.project)||void 0===n?void 0:n.id,organization_name:e,repo_url:t.webUrl}})}}).catch(()=>({data:[]}))}searchRepos(e){let{search:t}=e;return this.repos(e).then(e=>"string"==typeof e.data?e:{data:e.data.filter(({name:e,organization_name:r,project_name:i})=>`${r}/${i}/${e}`.toLowerCase().includes(t.toLowerCase()))})}branches({api_id:e,page:t,organization_name:r}){let i={$top:1e3,filter:"heads"};return t&&(i.continuationToken=t),this.request(`/${(0,s.lF)(r)}/_apis/git/repositories/${(0,s.lF)(e)}/refs`,{root:a,queryParams:i,format:p})}addWebhook({api_id:e,site:t,organization_name:r,project_id:i}){let n=({subscriptions:r})=>!Array.isArray(null==r?void 0:r.value)||!r.value.some(r=>{var n,s,o;return(null==r?void 0:null===(n=r.publisherInputs)||void 0===n?void 0:n.projectId)===i&&(null==r?void 0:null===(s=r.publisherInputs)||void 0===s?void 0:s.repository)===e&&(null==r?void 0:null===(o=r.consumerInputs)||void 0===o?void 0:o.url)===t.deploy_hook}),o=({eventType:n})=>{let o={publisherId:"tfs",resourceVersion:"1.0",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:n,publisherInputs:{projectId:i,repository:e},consumerInputs:{url:t.deploy_hook}};return"git.pullrequest.updated"===n&&(o.publisherInputs.notificationType="PushNotification"),this.request(`/${(0,s.lF)(r)}/_apis/hooks/subscriptions`,{method:"POST",body:JSON.stringify(o),root:a})};return Promise.all(c.map(e=>this.request(`/${(0,s.lF)(r)}/_apis/hooks/subscriptions`,{method:"GET",root:a,queryParams:{publisherId:"tfs",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:e}}).then(t=>({eventType:e,subscriptions:null==t?void 0:t.data})))).then(e=>e.filter(n)).then(e=>Promise.all(e.map(o))).then(()=>t).catch(function(e){return"AccessCheckException"===e.typeKey?{...t,webhooks_inactive:!0}:Promise.reject(e)})}dir({organization_name:e,api_id:t,branch:r,filepath:i=""}){return this.request(`/${(0,s.lF)(e)}/_apis/git/repositories/${(0,s.lF)(t)}/items`,{root:a,queryParams:{"versionDescriptor.version":r,scopePath:i,recursionLevel:"oneLevel"},format:f})}read({organization_name:e,api_id:t,branch:r,filepath:i}){return this.request(`/${(0,s.lF)(e)}/_apis/git/repositories/${(0,s.lF)(t)}/items`,{root:a,queryParams:{"versionDescriptor.version":r,path:i,$format:"json",includeContent:!0},format:g})}constructor(e,t,r){o(this,"token",void 0),o(this,"root",void 0),o(this,"apiVersion",void 0),o(this,"addDeployKey",(e,t,r)=>Promise.resolve(t)),this.token=e,this.root=t||"https://app.vssps.visualstudio.com",this.apiVersion=r||"7.0"}}};function el(e){return({"github.com":n.zG.github,"gitlab.com":n.zG.gitlab,"bitbucket.org":n.zG.bitbucket,"dev.azure.com":n.zG.azure_devops})[e]}function eu(e){let t=(0,i.oL)(e);return ed(t,(0,i.o7)(e),(0,i.Qk)(e),(0,i.H0)(e))}function ed(e,t,r,i){if(e){let n=ea[e];if(n){let s=new n(t,r,i);return s.provider=e,s}}}function ec(e,t){return({github:`https://github.com/${t}`,gitlab:`https://gitlab.com/${t}`,bitbucket:`https://bitbucket.org/${t}`,azure_devops:void 0})[e]}},81930:(e,t,r)=>{r.d(t,{G:()=>o});var i=r(11080);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){}class o{constructor({appId:e,onAppInstall:t,enterpriseUrl:r=""}){n(this,"appId",void 0),n(this,"onAppInstall",void 0),n(this,"provider",void 0),n(this,"url",void 0),n(this,"messageHandler",e=>{let t=e&&e.data;if(/^installation:ready:/.test(t)){let[e,r,i]=t.match(/^installation:ready:(\d+):([\w-]+)$/);this.onAppInstall({installationId:Number(r),login:i}),this.close()}}),n(this,"open",()=>{window.addEventListener("message",this.messageHandler,!1),(0,i.D1)({provider:this.provider,url:this.url})}),n(this,"close",()=>{this.cleanup()}),n(this,"cleanup",()=>{window.removeEventListener("message",this.messageHandler,!1),(0,i.Do)()}),this.appId=e||"netlify",this.onAppInstall=t||s,this.url=r?`${r.replace(/\/$/,"")}/github-apps/netlify/installations/new`:`https://github.com/apps/${this.appId}/installations/new`,this.provider=r?"github_enterprise":"github_app"}}},18701:(e,t,r)=>{r.d(t,{Ay:()=>w,MJ:()=>$,Ul:()=>u});var i=r(99895),n=r.n(i),s=r(96359),o=r.n(s);let a=()=>r.e(6014).then(r.t.bind(r,95589,23)),l={listFrameworks:async function(e){return(await a()).listFrameworks(e)}},u=["netlify.toml","package.json",".nvmrc",".node_version","netlify","functions",".lfsconfig","Gemfile"],d={"jekyll with no gemfile":`It looks like this is a **Jekyll** site, but you don't have a **Gemfile**.
This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"jekyll not in gemfile":`It looks like this is a **Jekyll** site, but your **Gemfile** doesnâ€™t list
Jekyll as a dependency. This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"error parsing package.json":`You have a malformed package.json in your folder. This will most likely lead to a
broken build when attempting to install your npm dependencies.`,"repository uses large media":`**This repository uses Netlify Large Media**

Repository files tracked by the Large Media service are stored with the original site. These files cannot be accessed in clones or forks. Contact the original repository owner for possible alternatives.`},c=[(e,t)=>{if(t["package.json"])try{JSON.parse(t["package.json"])}catch(e){return d["error parsing package.json"]}},(e,t)=>!e.includes("_config.yml")||e.includes("_config.yml")&&t["package.json"]&&t["package.json"].match(/hexo/)?void 0:t.Gemfile?t.Gemfile.match(/('jekyll'|"jekyll"|'github-pages'|"github-pages")/)?void 0:d["jekyll not in gemfile"]:d["jekyll with no gemfile"],(e,t,r)=>{if(t[".lfsconfig"]&&r&&/\.netlify\/large-media/.test(t[".lfsconfig"]))return d["repository uses large media"]}],h=({plugins:e=[],context:t={}})=>(Object.keys(t).forEach(r=>{t[r].plugins&&e.push(...t[r].plugins)}),[...new Set(e.map(e=>e.package))]),p=e=>{var t,r;let i;if(!e)return{};let s={cmd:void 0,dir:void 0,functions_dir:void 0,template:void 0};try{i=o().parse(e)}catch(e){return n().notify(e,e=>{e.context="getNetlifyTomlSettings => TOML.parse",e.severity="info"}),s}(null==i?void 0:i.build)&&(s.cmd=i.build.command,s.dir=i.build.publish),s.functions_dir=(null==i?void 0:null===(t=i.build)||void 0===t?void 0:t.functions)||(null==i?void 0:null===(r=i.functions)||void 0===r?void 0:r.directory),(null==i?void 0:i.template)&&(s.template=i.template);let a=h(i);return a.length&&(s.plugins_installed=a),s},m=(e,t)=>{var r;let i;if(!t["package.json"])return{};try{i=JSON.parse(t["package.json"])}catch(e){return{}}let n=e.includes("yarn.lock")?"yarn":"npm run";return(null==i?void 0:null===(r=i.scripts)||void 0===r?void 0:r.build)?{cmd:`${n} build`}:{}},f=(e,t)=>{var r;let i;let n=(null===(r=t[".nvmrc"])||void 0===r?void 0:r.trim())||"v16.19.1";try{i=t["package.json"]?JSON.parse(t["package.json"]):{}}catch(e){i={}}return{pathExists:t=>{let r=t.startsWith("./")?t.slice(2):t;return e.includes(r)},packageJson:i,nodeVersion:n}},g=async(e,t)=>{try{let r=f(e,t),i=await l.listFrameworks(r),n={};if(i.length){let{build:e,id:t,name:r,plugins:s}=i[0];n.cmd=e.commands[0],n.dir=e.directory,n.framework=t,n.frameworkName=r,n.plugins_recommended=s}return n}catch(e){throw Error(`Error getting framework information: ${e}`)}},v=e=>(function(e){let t=e.netlify,r=e.functions;if((!t||!Array.isArray(t))&&(!r||!Array.isArray(r)))return null;if(t){for(let e of t)if("netlify/functions"===e.path&&"dir"===e.type)return{functions_dir:e.path};if(!r)return null}return{functions_dir:"functions"}})(e)||{},y=({netlifyTomlSettings:e,packageJsonSettings:t,frameworksLibSettings:r,functionsSettings:i,visualEditorSettings:n})=>{let s={cmd:void 0,dir:void 0,template:void 0,functions_dir:void 0,plugins_installed:void 0,plugins_recommended:void 0,framework:void 0,frameworkName:void 0,visualEditorSettings:{hasConfig:!1}};return[e,t,r,i].forEach(e=>{e&&Object.keys(e).forEach(t=>{s[t]=s[t]||e[t]})}),!s.dir&&s.cmd&&(s.dir="dist/"),{...s,visualEditorSettings:n}},b=(e=[],t=[],r=[])=>t.reduce((t,i)=>e.includes(i)&&!r.includes(i)?t:[...t,{package:i}],[]),$=e=>{let t=["stackbit.config.js","stackbit.config.cjs","stackbit.config.mjs","stackbit.config.ts"];return{hasConfig:null==e?void 0:e.some(e=>t.includes(e.path))}},_=async(e=[],t={})=>{let r=p(t["netlify.toml"]),i=m(e,t),n=await g(e,t),s=y({netlifyTomlSettings:r,packageJsonSettings:i,frameworksLibSettings:n,functionsSettings:v(t),visualEditorSettings:$(e)});return s.plugins=b(null==r?void 0:r.plugins_installed,null==n?void 0:n.plugins_recommended,["@netlify/plugin-nextjs"]),s},w=async(e,t,r)=>{let i=function(e=[],t={},r){for(let i in c){let n=c[i](e,t,r);if(n)return n}}(e,t,r);return{settings:await _(e,t),warning:i}}},47936:(e,t,r)=>{r.d(t,{O:()=>s});var i=r(26447);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends i.Q2{changeBranch(e){this.details.branch=e,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}getEnvironment(){return"browser"}isAbsolute(e){return e.startsWith("/")}resolve(...e){let t=this.join(...e);return this.isAbsolute(t)?t:this.join(this.cwd,t)}async fileExists(e){try{return await this.readFile(e),!0}catch{return!1}}async readDir(e,t){let r;let i=this.resolve(e).replace(/^\//,""),n=this.dirCache.get(i);if(n)r=n;else{let e=this.pending.get(i);if(e)r=await Promise.resolve(e);else{let e=this.git.dir({...this.details,filepath:i}).then(e=>e.data);this.pending.set(i,e),r=await e,this.dirCache.set(i,r),this.pending.delete(i)}}return t?r.reduce((e,t)=>({...e,[t.name]:"dir"===t.type?"directory":"file"}),{}):r.map(({name:e})=>e)}async readFile(e){let t=this.resolve(e).replace(/^\//,""),r=this.fileCache.get(t);if(r)return r;let i=this.pending.get(t);if(i)return await Promise.resolve(i);let n=this.git.read({...this.details,filepath:t}).then(e=>e.data);this.pending.set(t,n);let s=await n;return this.fileCache.set(t,s),this.pending.delete(t),s}constructor(e,t){super(),n(this,"git",void 0),n(this,"details",void 0),n(this,"fileCache",void 0),n(this,"dirCache",void 0),n(this,"pending",void 0),this.git=e,this.details=t,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}}},56832:(e,t,r)=>{r.d(t,{y:()=>l});var i=r(11080),n=r(61371);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){console.error(e)}let a={socketeer:class{_initBuildLog(e){this.path="/build/logs",this.subscribeMsg={deploy_id:e.deployId,site_id:e.siteId}}_initDevServerLog(e){this.path="/dev-server/logs",this.subscribeMsg={dev_server_id:e.devServerId,site_id:e.siteId}}_initFunctionLog(e){this.path="/function/logs",this.subscribeMsg={account_id:e.awsAccountId,function_id:e.functionId,site_id:e.siteId,from:e.fromDatetime,to:e.toDatetime}}_initEdgeFunctionLog(e){this.path="/edge-function/logs",this.subscribeMsg={deploy_id:e.deployId,site_id:e.siteId,since:new Date(Date.now()-3e5).toISOString(),use_v2:e.useV2}}async _getAccessControlToken(){return(0,i.r$)()?(0,i.pB)().then(e=>{this.subscribeMsg&&e&&(this.subscribeMsg.access_token=e)},e=>{console.error(e)}):Promise.resolve()}listen(e,t=o){let r=`wss://socketeer.services.netlify.com${this.path}`;this.ws=new WebSocket(r),this.ws.addEventListener("open",()=>{this._getAccessControlToken().then(()=>{this.ws.send(JSON.stringify(this.subscribeMsg))}).catch(e=>{console.error(e)})}),this.ws.addEventListener("message",({data:r})=>{try{let{ts:t,message:i,type:n,request_id:s,level:o,request_path:a,function:l,section:u}=JSON.parse(r);if("start"===n)return;e({ts:t,type:n,log:i,requestId:s,level:o,requestPath:a,functionName:l,...u&&{section:u}})}catch(e){t(e)}}),this.ws.addEventListener("error",t)}close(){this.ws&&this.ws.readyState!==WebSocket.CLOSED&&(this.ws.close(),this.ws=null)}constructor(e){switch(s(this,"path",void 0),s(this,"subscribeMsg",void 0),s(this,"ws",void 0),e.resource){case n.A.BUILD:this._initBuildLog(e);break;case n.A.FUNCTION:this._initFunctionLog(e);break;case n.A.EDGE_FUNCTION:this._initEdgeFunctionLog(e);break;case n.A.DEV_SERVER:this._initDevServerLog(e);break;default:throw Error("unknown log type")}}}};function l(e){let t=a[e.type];return t&&new t(e)}},61371:(e,t,r)=>{r.d(t,{A:()=>i});let i={BUILD:"build",DEV_SERVER:"devServer",FUNCTION:"function",EDGE_FUNCTION:"edgeFunction"}},45235:(e,t,r)=>{r.d(t,{HY:()=>b,ME:()=>c,Rr:()=>T,VD:()=>S,X0:()=>v,XG:()=>k,XR:()=>y,Yq:()=>l,_Q:()=>h,dU:()=>g,fD:()=>a,gN:()=>n,hQ:()=>s,hR:()=>u,k:()=>A,mG:()=>o,mg:()=>p,p_:()=>i,qZ:()=>d,qn:()=>_,r0:()=>$,u8:()=>f,wW:()=>m});let i="Organization Owner",n="Owner",s="Developer",o="Billing Admin",a="Git Contributor",l="Reviewer",u="Publisher",d="Content Editor",c="Developer Lite",h=()=>[n,s,o,u,d,c],p=e=>e===i,m=e=>[i,n].includes(e),f=e=>e===n,g=e=>[s,"Collaborator"].includes(e),v=e=>[o,"Controller"].includes(e),y=e=>e===u||e===d,b=e=>e===u,$=e=>e===d,_=e=>e===l,w=(e,t)=>{let r=e.find(e=>e.role===t);return r?r.counts.total:0},S=({memberRoles:e,excludeActive:t=!1})=>e.reduce((e,r)=>{var i;return r.billable?(null===(i=r.counts)||void 0===i?void 0:i.active)!==void 0?t?e:e+r.counts.active:e+r.counts.total:e},0),k=e=>w(e,l),A=e=>{var t;return null===(t=e.find(e=>e.role===a))||void 0===t?void 0:t.counts},T=e=>{var t,r;return(null===(r=e.find(e=>e.role===a))||void 0===r?void 0:null===(t=r.counts)||void 0===t?void 0:t.active)||0}},18740:(e,t,r)=>{r.d(t,{A:()=>m});var i=r(85342),n=r(49262),s=r(77596),o=r(14989),a=r(55154),l=r(45235),u=r(43006);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c=(0,s.lF)((0,o.Md)(new Date)),h="/api/experiments",p=["headers","parseJsonResponse","request","postRequest"];class m{headers(e={},t,r){let i={};return(this.token||r)&&!t&&(i.Authorization=`Bearer ${r||this.token}`),{"Content-Type":"application/json",...i,...e}}parseJsonResponse(e){let t=!1;return e.json().then(r=>(t=!0,e.ok?{data:r,pagination:(0,u.nA)(e)}:Promise.reject(r))).catch(r=>t?Promise.reject(r):Promise.reject({status:e.status}))}async request(e,t={}){let r;let s=!t.forceUseApiBase;t.forceUseApiBase&&(0,n.s$)()&&(r=await (0,n.kP)());let o=this.headers(t.headers||{},s,r);"delete"===o["Content-Type"]&&delete o["Content-Type"];let a=t.forceUseApiBase&&this.apiBase?this.apiBase:this.root;t.retryWithMockServer&&this.mockRoot&&(a=this.mockRoot);let l=t.noPrefix?a+e:a+(t.prefix||"/api/v1")+e,u={};return s&&(u.credentials="include"),fetch(l,{...u,...t,headers:o}).then(e=>{if(t.raw&&e.ok)return e.arrayBuffer();let r=e.headers.get("Content-Type");return r&&r.match(/json/)?this.parseJsonResponse(e):e[r&&r.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer"]().then(t=>e.ok?{data:t}:Promise.reject(e))}).catch(e=>{let t;if(/Failed to fetch/.test(e))t=new i.A("Weâ€™re having some trouble connecting you to Netlify.\n\nThis error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito");else{let{status:r,code:n,...s}=e;t=new i.A({code:r||n,...s})}return Promise.reject(t)})}postRequest(e,t){let r={method:"POST"};return t&&(r.body=t),this.request(e,r)}enableAnalytics(e){return this.request(`/sites/${e}/analytics`,{method:"POST"})}deleteAnalytics(e,t){return this.request(`/sites/${e}/analytics/${t}`,{method:"DELETE"})}site(e){return this.request(`/sites/${e}.${this.siteDomain}`)}siteAvailability(e){return this.request(`/site_availability/${e}`)}siteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`)}updateSiteFirewallRuleSet(e,t){return this.request(`/sites/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}deleteSiteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`,{method:"DELETE"})}getAccountTrafficRulesConfigs(e){return this.request(`/accounts/${e}/traffic_rules_configs`)}createAccountTrafficRulesConfig(e,t){return this.request(`/accounts/${e}/traffic_rules_config/`,{method:"POST",body:JSON.stringify(t)})}updateAccountTrafficRulesConfig(e,t,r){return this.request(`/accounts/${e}/traffic_rules_config/${t}`,{method:"PUT",body:JSON.stringify(r)})}deleteAccountTrafficRulesConfig(e,t){return this.request(`/accounts/${e}/traffic_rules_config/${t}`,{method:"DELETE"})}getAccountLevelTrafficRulesConfig(e,t){let r=`/accounts/${e}/traffic_rules_config`;return t&&(r+=`?scope=${t}`),this.request(r,{method:"GET"})}setAccountLevelTrafficRulesConfig(e,t,r){return this.request(`/accounts/${e}/traffic_rules_config`,{method:"PUT",body:JSON.stringify({config_id:t,scope:r})})}getSiteLevelTrafficRulesConfig(e,t){return this.request(`/sites/${e}/traffic_rules_config?scope=${t}`,{method:"GET"})}setSiteLevelTrafficRulesConfig(e,t,r){return this.request(`/sites/${e}/traffic_rules_config`,{method:"PUT",body:JSON.stringify({config_id:t,scope:r})})}updateSiteCover(e,t){let r=new FormData;return r.append("file",t),this.request(`/sites/${e}/cover`,{method:"POST",body:r,headers:{"Content-Type":"delete"}})}deleteSiteCover(e){return this.request(`/sites/${e}/cover`,{method:"DELETE"})}unlinkSiteRepository(e){return this.request(`/sites/${e}/unlink_repo`,{method:"PUT"})}siteById(e){return this.request(`/sites/${e}`)}sites({page:e,perPage:t,searchTerm:r,searchGlobally:i,visibility:n,creator:s,sortBy:o,orderBy:a,labelIds:l,accountSlug:u,token:d,hasVisualEditor:c}){let h="";return!i&&u&&(h+=`/${u}`),h+=`/sites?filter=${"me"===s?"owner":"all"}&sort_by=${o||"published_at"}&order_by=${a||"asc"}&page=${e||1}&per_page=${t||15}`,r&&(h+=`&name=${r}`),d&&(h+=`&token=${d}`),n&&(h+=`&visibility=${n}`),l&&(h+=`&label_ids=${l.join(",")}`),void 0!==c&&(h+=`&visual_editor_active=${c}`),h+="&include_favorites=true",this.request(h)}siteSnippets(e){return this.request(`/sites/${e}/snippets`)}siteSnippetRemove(e,t){return this.request(`/sites/${e}/snippets/${t}`,{method:"DELETE"})}siteSnippetAdd(e,t){return this.postRequest(`/sites/${e}/snippets`,JSON.stringify(t))}siteBuildHooks(e){return this.request(`/sites/${e}/build_hooks`)}addBuildHook(e,t){return this.request(`/sites/${e}/build_hooks`,{method:"POST",body:JSON.stringify(t)})}removeBuildHook(e,t){return this.request(`/sites/${e}/build_hooks/${t}`,{method:"DELETE"})}siteDevServerHooks(e){return this.request(`/sites/${e}/dev_server_hooks`)}addDevServerHook(e,t){return this.request(`/sites/${e}/dev_server_hooks`,{method:"POST",body:JSON.stringify(t)})}removeDevServerHook(e,t){return this.request(`/sites/${e}/dev_server_hooks/${t}`,{method:"DELETE"})}branches(e){return this.request(`/sites/${e}/deployed-branches`)}getEnvVars({accountId:e="",siteId:t="",scope:r="all",context:i="all",merge:n=!0}){let s=[t&&`site_id=${t}`,`scope=${r}`,`context=${i}`,n&&"level=all"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${s}`)}createEnvVars({accountId:e="",siteId:t="",envVars:r=[]}){let i=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${i}`,{method:"POST",body:JSON.stringify(r)})}updateEnvVar({accountId:e="",siteId:t="",oldKey:r="",newKey:i="",is_secret:n=!1,scopes:s=[],values:o=[]}){let a=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${r}?${a}`,{method:"PUT",body:JSON.stringify({key:i,is_secret:n,scopes:s,values:o})})}setEnvVarValue({accountId:e="",siteId:t="",key:r="",context:i="",context_parameter:n,value:s=""}){let o=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${r}?${o}`,{method:"PATCH",body:JSON.stringify({context:i,context_parameter:n,value:s})})}deleteEnvVar({accountId:e="",siteId:t="",key:r="",id:i=""}){let n=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${r}${i?`/value/${i}`:""}?${n}`,{method:"DELETE"})}deploy(e){return this.request(`/deploys/${e}`)}deploys(e,{page:t,perPage:r,filter:i,state:n,minimal:s,from:o,to:a}){let l=`/sites/${e}/deploys?page=${t||1}&per_page=${r||15}`;return i&&("deploy previews"===i?l+="&deploy-previews=true":l+=`&branch=${i}`),n&&(l+=`&state=${n}`),s&&(l+="&minimal=true"),o&&(l+=`&from=${o}`),a&&(l+=`&to=${a}`),this.request(l)}deployLog(e){return this.request(`/deploys/${e}/log`).then(e=>{var t;return(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.url)&&fetch(e.data.url).then(e=>e.json())})}deploySummary(e){return this.request(`/deploys/${e}/summary`)}deployCommitters(e){return this.request(`/deploys/${e}/committers`,{prefix:h})}createDevServer(e,t,r){let i=t?`?branch=${t}`:"";return this.request(`/sites/${e}/dev_servers${i}`,{method:"POST",body:JSON.stringify({clear_cache:!!r})})}shutdownDevServer(e,t){return this.request(`/sites/${e}/dev_servers?branch=${t}`,{method:"DELETE"})}devServers(e,{page:t,perPage:r,filter:i,state:n,minimal:s,from:o,to:a}){let l=`/sites/${e}/dev_servers?page=${t||1}&per_page=${r||15}`;return i&&(l+=`&branch=${i}`),n&&(l+=`&state=${n}`),s&&(l+="&minimal=true"),o&&(l+=`&from=${o}`),a&&(l+=`&to=${a}`),this.request(l)}devServer(e,t){return this.request(`/sites/${e}/dev_servers/${t}`)}lookupDevServer(e){return this.request(`/dev_servers/lookup?domain=${e}`,{method:"POST"})}devServerMetrics(e,t,r,i){let n=`/sites/${e}/dev_servers/${t}/metrics`;return r&&(n+=`?from=${r}`),i&&(n+=`&to=${i}`),this.request(n)}fetchPullRequest(e){return this.request(`/cdp/deploys/${e}`)}deployActivity(e){return this.request(`/cdp/deploys/${e}/events`)}inviteCommitter(e,t){return this.request(`/deploys/${e}/invite`,{prefix:h,method:"POST",body:JSON.stringify({committer:t})})}deployPluginRuns(e){return this.request(`/deploys/${e}/plugin_runs`)}buildHooks(e){return this.request(`/sites/${e}/build_hooks`)}devServerHooks(e){return this.request(`/sites/${e}/dev_server_hooks`)}publishDeploy(e){let t=`/deploys/${e}/restore`;return this.request(t,{method:"POST"})}triggerDeploy(e,t,r){return this.request(`/sites/${e}/builds`,{method:"POST",body:JSON.stringify({clear_cache:t,template_id:r})})}createDeployKey(){return this.request("/deploy_keys",{method:"POST"})}getDeployKey(e){return this.request(`/deploy_keys/${e}`)}createSite(e={}){let{account_slug:t}=e,r=t?`/${t}/sites`:"/sites";return this.request(r,{method:"POST",body:JSON.stringify(e)})}createDeploy(e,t={}){return this.request(`/sites/${e}/deploys`,{method:"POST",body:JSON.stringify(t)})}siteDeploy(e,t){return this.request(`/sites/${e}/deploys/${t}`)}updateSite(e,t){return this.request(`/sites/${e}`,{method:"PUT",body:JSON.stringify(t)})}analyzeSiteRepoContentForVisualEditing(e,t){let r={repoUrl:t.repoUrl,branch:t.branch,options:{runnableDir:t.runnableDir,validateAppAccess:!1,validateContent:!0}};return this.request(`/sites/${e}/visual_editor/analyze_repo`,{method:"POST",body:JSON.stringify(r)})}deleteSite(e){return this.request(`/sites/${e}`,{method:"DELETE"})}uploadFile(e,t,r,i){let n=`/deploys/${e}/files${t}`,s={"Content-Type":"application/octet-stream"};return i&&(s.Authorization=`Bearer ${i}`),this.request(n,{method:"PUT",body:r,headers:s,forceUseApiBase:!0})}waitForDeploy(e){return new Promise((t,r)=>{let i=()=>{this.deploy(e).then(e=>{var r;if((null===(r=e.data)||void 0===r?void 0:r.state)==="ready")return t(e);setTimeout(i,1e3)}).catch(r)};i()})}waitForSiteDeploy(e){return new Promise((t,r)=>{let i=()=>{this.site(e).then(e=>{var r;if(null===(r=e.data)||void 0===r?void 0:r.deploy_id)return t(e);setTimeout(i,1e3)}).catch(r)};i()})}dnsZones(e,t=1){return this.request(e?`/dns_zones?account_slug=${e}&page=${t}`:`/dns_zones?page=${t}`)}dnsZonePath(e){return`/dns_zones/${e.replace(/\./g,"_")}`}dnsZone(e){return this.request(this.dnsZonePath(e))}createDnsZone(e,t,r={}){return this.request("/dns_zones",{method:"POST",body:JSON.stringify({...r,name:e,account_slug:t})})}enableDnsZoneIPv6(e){let t=this.dnsZonePath(e);return this.request(`${t}/enable-ipv6`,{method:"PUT"})}enableDedicatedDns(e){let t=this.dnsZonePath(e);return this.request(`${t}/expand`,{method:"PUT"})}destroyDnsZone(e){return this.request(this.dnsZonePath(e),{method:"DELETE"})}transferDnsZone(e,{account_id:t,transfer_account_id:r,transfer_user_id:i}){return this.request(`${this.dnsZonePath(e)}/transfer`,{method:"PUT",body:JSON.stringify({account_id:t,transfer_account_id:r,transfer_user_id:i})})}domainsPath(e){return`/domains-next/${e.replace(/\./g,"_")}`}toggleDomainAutoRenew(e,t,r){return this.request(`${this.domainsPath(e)}/auto-renew`,{method:"PUT",body:JSON.stringify({account_id:t,auto_renew:r})})}dnsRecords(e){return this.request(`${this.dnsZonePath(e)}/dns_records`)}dnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`)}createDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records`,{method:"POST",body:JSON.stringify(t)})}destroyDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`,{method:"DELETE"})}listDeployFiles(e,{page:t,perPage:r}={}){let i=t&&r?`?page=${t}&per_page=${r}`:"";return this.request(`/deploys/${e}/files${i}`)}downloadDeployFile(e,t){return this.request(`/deploys/${e}/files${t}`,{forceUseApiBase:!0,raw:!0,headers:{"Content-Type":"application/vnd.bitballoon.v1.raw"}})}largeMediaAssets(e,{page:t,perPage:r,filter:i}){return this.request(`/large_media_assets/?site_id=${e}&page=${t||1}&per_page=${r||15}${i?`&name=${i}`:""}`)}user(){return this.request("/user")}updateUser(e){return this.request("/user",{method:"PUT",body:JSON.stringify(e)})}updateUserQuestionnaireTelemetry(e){return this.request(`/users/${e.userId}/questionnaire`,{method:"PUT",body:JSON.stringify(e)})}updateUserAvatar(e){let t=new FormData;return t.append("file",e),this.request("/users/avatar",{method:"POST",body:t,headers:{"Content-Type":"delete"}})}deleteUserAvatar(){return this.request("/users/avatar",{method:"DELETE"})}generateCreateAuthJwt(e){return this.request("/users/create_auth_jwt",{method:"POST",body:JSON.stringify({create_env:e})})}paymentMethods({provider:e,accountId:t}){return this.request(`/billing/payment_methods${"zuora"===e&&t?`?account_id=${t}`:""}`)}receiptPdf(e){return this.request(`/billing/receipts/${e}`,{raw:!0,headers:{Accept:"application/pdf"}})}getPromo(e){return this.request(`/billing/promo_codes/${e}`)}updateBilling(e){return this.request("/billing",{method:"PUT",body:JSON.stringify(e)})}paymentProviderToken({sandbox:e,accountId:t,enterpriseException:r,secure:i}){let n=`/billing/client_token?sandbox=${~~!!e}&legacy=0`;return t&&(n+=`&account_id=${t}`),r&&(n+=`&enterprise_exception=${~~!!r}`),i&&(n+="&token_type=rsa_signature"),this.request(n,{method:"POST"})}braintreeToken(){return this.request("/billing/client_token?legacy=1&sandbox=0",{method:"POST"})}paymentMethod(e){return this.request(`/billing/payment_methods/${e}`)}savePaymentMethod(e){let{customer_id:t,sandbox:r,enterpriseException:i}=e;if(!t)return Promise.reject("Missing customer_id in attributes");let n=`/accounts/payments?customer_id=${t}&gateway=zuora_${r?"sandbox":"production"}`;return i&&(n+=`&enterprise_exception=${~~!!i}`),this.postRequest(n,JSON.stringify(e))}removePaymentMethod(e){return this.request(`/billing/payment_methods/${e}`,{method:"DELETE"})}payBalance(e){return this.request(`/accounts/${e}/pay_balance`,{method:"POST"})}members(e){return this.request(`/sites/${e}/members`)}inviteMember(e,t){return this.postRequest(`/sites/${e}/members`,JSON.stringify({email:t}))}certificate(e){return this.request(`/sites/${e}/ssl`)}updateSsl(e,t,r){let i=`/sites/${e}/ssl`;return r&&(i+=`/${r}`),this.postRequest(i,JSON.stringify(t))}verifySsl(e){return this.request(`/sites/${e}/ssl/verify_custom_domain`)}removeMember(e,t){return this.request(`/sites/${e}/members/${t}`,{method:"DELETE"})}acceptInvite(e){return this.postRequest(`/invites/${e}/accept`)}hooks(e){return this.request(`/hooks?site_id=${e}`)}hookTypes(e){return this.request(`/hooks/types?site_id=${e}`)}addHook(e){return this.request("/hooks",{method:"POST",body:JSON.stringify(e)})}updateHook(e,t){return this.request(`/hooks/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteHook(e){return this.request(`/hooks/${e}`,{method:"DELETE"})}enableHook(e){return this.request(`/hooks/${e}/enable`,{method:"POST"})}siteForms(e,{page:t,perPage:r}={}){let i=`/sites/${e}/forms`;return i+=`?page=${t||1}&per_page=${r||15}`,this.request(i)}siteForm(e){return this.request(`/forms/${e}`)}formSubmissions(e,{formId:t,page:r,perPage:i,filter:n}){let s=t?`/sites/${e}/forms/${t}/submissions?`:`/sites/${e}/submissions?`;return s+=`state=${n||"ham"}&page=${r||1}&per_page=${i||15}`,this.request(s)}markSubmissionAsHam(e,t){return this.request(`/submissions/${t}/ham`,{method:"PUT"})}markSubmissionAsSpam(e,t){return this.request(`/submissions/${t}/spam`,{method:"PUT"})}functions(e,t){let r=`/sites/${e}/functions`;return t&&(r+=`?filter=${encodeURIComponent(t)}`),this.request(r)}fetchEdgeAccessToken(e,t){return this.request("/auth/edge-access",{noPrefix:!0,method:"POST",body:JSON.stringify({site_id:e,domain:t})})}edgeFunctions(e){let t=`/deploys/${e}/edge_functions`;return this.request(t)}authProviders(e){return this.request(`/sites/${e}/authentication_providers`)}createAuthProvider(e,t,r,i){return this.request(`/sites/${e}/authentication_providers`,{method:"POST",body:JSON.stringify({name:t,provider:t,api_id:r,api_secret:i})})}removeAuthProvider(e,t){return this.request(`/sites/${e}/authentication_providers/${t}`,{method:"DELETE"})}setupMultiFactorAuth(){return this.request("/user/multifactor_auth/setup")}enableMultiFactorAuth({otp:e,token:t}){return this.request("/user/multifactor_auth",{method:"POST",body:JSON.stringify({otp:e,token:t})})}disableMultiFactorAuth({otp:e}){return this.request("/user/multifactor_auth",{method:"DELETE",body:JSON.stringify({otp:e})})}verifyLogin({otp:e,token:t}){return this.request("/user/multifactor_auth/verify_login",{method:"POST",body:JSON.stringify({otp:e}),headers:{Authorization:`Bearer ${t}`}})}application(e){return this.request(`/oauth/applications/${e}`)}applications(){return this.request("/oauth/applications")}createApplication(e){return this.request("/oauth/applications",{method:"POST",body:JSON.stringify(e)})}updateApplication(e,t){return this.request(`/oauth/applications/${e}`,{method:"PUT",body:JSON.stringify(t)})}removeApplication(e){return this.request(`/oauth/applications/${e}`,{method:"DELETE"})}verifyUserByToken(e){let[t,r]=e.split("-");return this.request("/auth/verify",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:t,code:r})})}verifySamlUserByToken(e,t){return this.request("/auth/verify-saml",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:e,code:t})})}verifyUser(e,t){return this.request(`/users/${e}/confirm_email`,{method:"PUT",body:JSON.stringify({secret:t})})}resetPasswordEmail(e){return this.request("/password_reset",{method:"POST",body:JSON.stringify({email:e})})}resetPassword(e,t,r){return this.request("/password_reset",{method:"PUT",body:JSON.stringify({token:e,password:t,password_confirmation:r})})}resendVerifyEmail(e,t){return this.request("/auth/resend-verify-email",{noPrefix:!0,method:"POST",body:JSON.stringify({email:e,saml_account_slug:t})})}authorizeApplication(e){return this.request("/oauth/authorize",{noPrefix:!0,body:JSON.stringify({client_id:e.clientID,redirect_uri:e.redirectURI,response_type:e.responseType,scope:e.scope,state:e.state,grant_saml:e.grantSaml}),method:"POST"})}authorizedApplications(e){let t="/oauth/applications/authorized";return e&&(t+=`?administrator_id=${e}`),this.request(t)}revokeAuthorizedApplication(e,t){let r=`/oauth/applications/${e}/revoke`;return t&&(r+=`?administrator_id=${t}`),this.request(r,{method:"DELETE"})}createPersonalToken(e){return this.postRequest("/oauth/applications/create_token",JSON.stringify({...e,administrator_id:null}))}ticket(e){return this.request(`/oauth/tickets/${e}`)}authorizeTicket(e,t){let r=`/oauth/tickets/${e}/authorize`;return t&&(r+="?grant_saml=true"),this.request(r,{method:"POST"})}createTemplate(e){return this.postRequest("/templates",JSON.stringify(e))}verifyPubstorm(e){return this.postRequest("/pubstorm/verify",JSON.stringify(e))}claimPubstorm(e){return this.postRequest("/pubstorm/claim",JSON.stringify(e))}requestPubstormRecovery(e){return this.postRequest("/pubstorm/recover",JSON.stringify({email:e}))}deployLogLocation(e){return this.request(`/deploys/${e}/log`)}deployLogAccessCheck(e){return this.request(`/deploys/${e}/check_access`)}lockDeploy(e){return this.postRequest(`/deploys/${e}/lock`)}unlockDeploy(e){return this.postRequest(`/deploys/${e}/unlock`)}retryDeploy(e,t){return this.postRequest(`/deploys/${e}/retry`,JSON.stringify(t||{}))}acceptDeploy(e){return this.postRequest(`/deploys/${e}/accept`)}rejectDeploy(e){return this.postRequest(`/deploys/${e}/reject`)}cancelDeploy(e){return this.postRequest(`/deploys/${e}/cancel`)}deleteDeploy(e){return this.request(`/deploys/${e}`,{method:"DELETE"})}organizations(){return this.request("/organizations")}organization(e){return this.request(`/organizations/${e}`)}organizationAccounts(e){return this.request(`/organizations/${e}/accounts`)}organizationMembers(e){return this.request(`/organizations/${e}/members`)}inviteOrganizationMember(e,t){return this.postRequest(`/organizations/${e}/members`,JSON.stringify({email:t}))}deleteOrganizationMember(e,t){return this.request(`/organizations/${e}/members/${t}`,{method:"DELETE"})}organizationInvoices(e){return this.request(`/organizations/${e}/invoices`)}organizationInvoice(e,t){return this.request(`/organizations/${e}/invoices/${t}`)}organizationReceipts(e){return this.request(`/organizations/${e}/receipts`)}organizationReceipt(e,t){return this.request(`/organizations/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}organizationClientToken(e){return this.request(`/organizations/${e}/client_token`)}organizationSamlConnection(e){return this.request(`/organizations/${e}/workos`)}organizationScimConnection(e){return this.request(`/organizations/${e}/workos_scim`)}organizationCreateAccount(e,t){return this.postRequest("/accounts",JSON.stringify({name:t,organization_id:e}))}organizationSamlDashboard(e){return this.postRequest(`/organizations/${e}/workos`,JSON.stringify({}))}organizationScimDashboard(e){return this.postRequest(`/organizations/${e}/workos_scim`,JSON.stringify({}))}organizationScimStatus(e,t){return this.request(`/organizations/${e}/workos_scim`,{method:"PATCH",body:JSON.stringify({status:t})})}organizationScimMappings(e){return this.request(`/organizations/${e}/directory_sync_entities`)}organizationScimAddMapping(e,t){let{group_id:r,account_id:i,role:n,site_access:s,site_ids:o}=t;return this.request(`/organizations/${e}/directory_sync_entities/${r}/account_role_associations`,{method:"POST",body:JSON.stringify({account_id:i,role:n,site_access:s,site_ids:o})})}organizationScimUpdateMapping(e,t){let{group_id:r,account_id:i,role:n,site_access:s,site_ids:o}=t;return this.request(`/organizations/${e}/directory_sync_entities/${r}/account_role_associations/${i}`,{method:"PATCH",body:JSON.stringify({role:n,site_access:s,site_ids:o})})}organizationScimDeleteMapping(e,t){let{group_id:r,account_id:i}=t;return this.request(`/organizations/${e}/directory_sync_entities/${r}/account_role_associations/${i}`,{method:"DELETE"})}organizationSamlDeleteConnection(e){return this.request(`/organizations/${e}/workos`,{method:"DELETE"})}organizationScimDeleteConnection(e){return this.request(`/organizations/${e}/workos_scim`,{method:"DELETE"})}organizationScimDeleteConnectionKeepingUsers(e){return this.request(`/organizations/${e}/workos_scim/delete_directory_sync`,{method:"DELETE"})}updateOrganization(e,t){return this.request(`/organizations/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateOrganizationLogo(e,t){let r=new FormData;return r.append("file",t),this.request(`/organizations/${e}/logo`,{method:"POST",body:r,headers:{"Content-Type":"delete"}})}updateOrganizationPaymentMethod(e,t){return this.postRequest(`/organizations/${e}/payments`,JSON.stringify(t))}updateOrganizationSecurityContacts(e,t){return this.request(`/organizations/${e}/security_contacts`,{method:"PUT",body:JSON.stringify({contacts:t})})}deleteOrganizationLogo(e){return this.request(`/organizations/${e}/logo`,{method:"DELETE"})}accounts(){return this.request("/accounts")}accountsLightweight(){return this.request("/accounts?minimal=true")}account(e){return this.request(`/accounts/${e}`)}accountFirewallRuleSet(e){return this.request(`/accounts/${e}/firewall_rule_set`)}updateAccountFirewallRuleSet(e,t){return this.request(`/accounts/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}accountSiteLabels(e,t){let r=`/accounts/${e}/site_labels?page=${t.page||1}`;return t.perPage&&(r+=`&per_page=${t.perPage}`),this.request(r)}createAccountSiteLabel(e,t){return this.request(`/accounts/${e}/site_labels`,{method:"POST",body:JSON.stringify(t)})}updateAccountSiteLabel(e,t,r){return this.request(`/accounts/${e}/site_labels/${t}`,{method:"PUT",body:JSON.stringify(r)})}deleteAccountSiteLabel(e,t){return this.request(`/accounts/${e}/site_labels/${t}`,{method:"DELETE"})}updateSiteLabels(e,t,r){return this.request(`/accounts/${e}/site_labels`,{method:"PUT",body:JSON.stringify({label_ids:t,site_id:r})})}accountJwt(e){return this.request(`/accounts/${e}/jwt`)}accountBandwidth({id:e,from:t,to:r}){return this.request(`/accounts/${e}/bandwidth?${(0,s.Vl)(t&&r?{from:t,to:r}:{})}`)}accountBandwidthRanking({id:e,limit:t,from:r,to:i}){let n={...t&&{limit:t},...r&&{from:r},...i&&{to:i}};return this.request(`/accounts/${e}/bandwidth/ranking?${(0,s.Vl)(n)}`)}accountConnectBandwidth({id:e,from:t,to:r}){return this.request(`/accounts/${e}/connect?${(0,s.Vl)(t&&r?{from:t,to:r}:{})}`)}accountConnectBandwidthDataLayers({id:e,from:t,to:r}){return this.request(`/accounts/${e}/connect/data_layers?${(0,s.Vl)(t&&r?{from:t,to:r}:{})}`)}accountDomainsBandwidthTimeseries({id:e,from:t,to:r,resolution:i="month"}){return this.request(`/accounts/${e}/bandwidth/timeseries?${(0,s.Vl)(t&&r?{from:t,to:r,resolution:i,timezone:c}:{})}`)}accountEdgeFunctionsUsage(e){return this.request(`/accounts/${e}/edge_functions`)}accountCompliance(e){return this.request(`/accounts/${e}/compliance`)}accountCommitters(e,t={}){return t.billingPeriod?this.request(`/accounts/${e}/committers?billing_period=current`):this.request(`/${e}/committers`)}createCommitter(e,t,r){return this.request(`/${e}/committers`,{method:"POST",body:JSON.stringify({build_id:t,member_id:r})})}updateCommitter(e,t,r){return this.request(`/${e}/committers/${t}`,{method:"PATCH",body:JSON.stringify({member_id:r})})}deleteCommitter(e,t){return this.request(`/${e}/committers/${t}`,{method:"DELETE"})}accountTypes(){return this.request("/accounts/types")}createAccount(e){return this.request("/accounts",{method:"POST",body:JSON.stringify(e)})}deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}disableUser(){return this.request("/users/disable",{method:"POST"})}updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateAccountLogo(e,t){let r=new FormData;return r.append("file",t),this.request(`/accounts/${e}/logo`,{method:"POST",body:r,headers:{"Content-Type":"delete"}})}deleteAccountLogo(e){return this.request(`/accounts/${e}/logo`,{method:"DELETE"})}updateAccountSecurityContacts(e,t){return this.request(`/accounts/${e}/security_contacts`,{method:"PUT",body:JSON.stringify({contacts:t})})}accountBuilds(e,t){return t={page:1,per_page:15,...t},this.request(`/${e}/builds?${(0,s.Vl)(t)}`)}accountBuildStatus(e){return this.request(`/${e}/builds/status`)}accountBuildQueueBump(e,t){return this.postRequest(`/${e}/builds/${t}/prioritize`)}accountBuildStatusPerSite({id:e,from:t,to:r,resolution:i="month"}){return this.request(`/${e}/builds/per_site?${(0,s.Vl)(t&&r?{from:t,to:r,resolution:i,timezone:c}:{})}`)}accountBuildsPerDay(e){return this.request(`/${e}/builds/per_day`)}accountMember(e,t){return this.request(`/${e}/members/${t}`)}accountMembers(e,t={}){let r=(0,l._Q)(),{roles:i,...n}=t,o={sort_by:"updated_at","roles[]":((null==i?void 0:i.length)?i:r).join(","),...n};return this.request(`/${e}/members?${(0,s.Vl)(o)}`)}accountReviewerMembers(e,t={}){let r={sort_by:"created_at","roles[]":l.Yq,...t};return this.request(`/${e}/members?${(0,s.Vl)(r)}`)}inviteAccountMember(e,{email:t,role:r,site_ids:i,site_access:n,build_id:s}){return this.postRequest(`/${e}/members`,JSON.stringify({email:t,role:r,site_ids:i,site_access:n,build_id:s}))}removeAccountMember(e,t){return this.request(`/${e}/members/${t}`,{method:"DELETE"})}updateAccountMember(e,t,{role:r,self_invite_state:i,site_access:n,site_ids:s}){return this.request(`/${e}/members/${t}`,{method:"PUT",body:JSON.stringify({role:r,self_invite_state:i,site_access:n,site_ids:s})})}accountBillingSummary(e){return this.request(`/${e}/billing`)}accountSubscriptions(e){return this.request(`/${e}/billing/subscriptions`)}accountInvoices(e,t={}){return this.request(`/${e}/billing/invoices?${(0,s.Vl)(t)}`)}accountReceipts(e){return this.request(`/${e}/receipts`)}accountReceiptPdf(e,t){return this.request(`/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}accountReceiptHtml(e,t){return this.request(`/${e}/receipts/${t}`,{headers:{Accept:"text/html"}})}transferSite(e,t){return this.postRequest(`/sites/${e}/transfer?account_id=${t}`)}trafficSplits(e){return this.request(`/sites/${e}/traffic_splits`)}trafficSplit(e,t){return this.request(`/sites/${e}/traffic_splits/${t}`)}createTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits`,JSON.stringify(t))}updateTrafficSplit(e,t,r){return this.request(`/sites/${e}/traffic_splits/${t}`,{method:"PUT",body:JSON.stringify(r)})}startTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/publish`)}stopTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/unpublish`)}teamAudit({accountId:e,page:t,perPage:r,logType:i,sortBy:n,sortOrder:s}){let o=[`page=${t||1}`,`per_page=${r||15}`,i&&`log_type=${i}`,n&&`sort_by=${n}`,s&&`sort_order=${s}`].filter(Boolean);return this.request(`/accounts/${e}/audit?${o.join("&")}`)}siteAudit({siteId:e,page:t,perPage:r,search:i}){let n=[`page=${t||1}`,`per_page=${r||15}`,i&&`query=${i}`].filter(Boolean);return this.request(`/sites/${e}/audit?${n.join("&")}`)}addAuditLog(e){let t={audit_action:null==e?void 0:e.auditAction,account_id:null==e?void 0:e.accountId,site_id:null==e?void 0:e.siteId,traits:null==e?void 0:e.traits};return this.postRequest("/audit_logs",JSON.stringify(t))}destroyAccessToken(){return this.request("/access_tokens/revoke",{method:"DELETE"})}identity(e,t){return this.request(`/sites/${e}/identity/${t}`)}createIdentity(e,t){return this.postRequest(`/sites/${e}/identity`,JSON.stringify(t))}updateIdentity(e,t,r){return this.request(`/sites/${e}/identity/${t}`,{method:"PUT",body:JSON.stringify(r)})}deleteIdentity(e,t){return this.request(`/sites/${e}/identity/${t}`,{method:"DELETE"})}identityUsers(e,t,{page:r,per_page:i,sort:n,filter:s}){return this.request(`/sites/${e}/identity/${t}/users?page=${r||1}&per_page=${i||15}&sort=${n||"created_at"}${s?`&filter=${s}`:""}`)}identityUser(e,t,r){return this.request(`/sites/${e}/identity/${t}/users/${r}`)}createIdentityUser(e,t,r){return this.postRequest(`/sites/${e}/identity/${t}/users`,JSON.stringify(r))}updateIdentityUser(e,t,r,i){return this.request(`/sites/${e}/identity/${t}/users/${r}`,{method:"PUT",body:JSON.stringify(i)})}deleteIdentityUser(e,t,r){return this.request(`/sites/${e}/identity/${t}/users/${r}`,{method:"DELETE"})}sendIdentityInvites(e,t,r){return this.postRequest(`/sites/${e}/identity/${t}/users/invite`,JSON.stringify(r))}sendIdentityRecovery(e,t,r){return this.postRequest(`/sites/${e}/identity/${t}/users/${r}/recover`)}identityAudit({page:e,perPage:t,search:r,siteId:i,identityId:n}){return this.request(`/sites/${i}/identity/${n}/audit?page=${e||1}&per_page=${t||15}${r?`&query=${r}`:""}`)}getStripeIdentityVerificationSession(e){return this.request(`/identity_verification?code=${e}`)}createStripeIdentityVerificationSession(e){return this.request("/identity_verification",{method:"POST",body:JSON.stringify({code:e})})}services(e){return this.request(`/sites/${e}/service-instances`)}createService(e,t,r={}){return this.postRequest(`/sites/${e}/services/${t}/instances`,JSON.stringify(r))}updateService(e,t,r,i){return this.request(`/sites/${e}/services/${t}/instances/${r}`,{method:"PUT",body:JSON.stringify(i)})}deleteService(e,t,r){return this.request(`/sites/${e}/services/${t}/instances/${r}`,{method:"DELETE"})}deleteForm(e,t){return this.request(`/sites/${e}/forms/${t}`,{method:"DELETE"})}deleteFormSubmission(e,t){return this.request(`/submissions/${t}`,{method:"DELETE"})}claim({id:e,token:t}){let r=e?`/sites/${e}/claim`:"/sites/claim";return this.postRequest(r,JSON.stringify({token:t}))}updateSamlConfig(e,t,r){return this.request(`/saml/${e}/parse-idp-metadata`,{method:"PUT",body:JSON.stringify({url:t,data:r})})}deleteSamlConfig(e){return this.request(`/saml/${e}`,{method:"DELETE"})}getSamlStartUrl(e){return this.request(`/saml/account-lookup?id=${e}`,{method:"GET"})}siteUsage(e){return this.request(`/sites/${e}/usage`)}changeAddonPlan(e,t,r){return this.request(`/usage_records/${e}/change_plan?plan=${t}&site_id=${r}`,{method:"PUT"})}searchDomain(e,t){return this.request(`/domains-next/search?account_id=${t}&domain=${e}`)}buyDomain(e,t,r){return this.request("/domains-next",{method:"POST",body:JSON.stringify({account_id:t,domain:e,site_id:r})})}dropToken(){return this.request("/drop/token",{method:"POST"})}dropFiles(e,t){return this.request("/drop",{method:"POST",body:JSON.stringify({files:e,token:t})})}dropClaim(e,t){return this.request("/drop/claim",{method:"POST",body:JSON.stringify({site:e,token:t})})}authLink({provider:e}){return this.request(`/auth/link?provider=${e}&site_id=${this.siteId}`,{noPrefix:!0})}authUnlink({provider:e}){return this.request(`/auth/unlink?provider=${e}&site_id=${this.siteId}`,{method:"POST",noPrefix:!0})}updateSelfHostedGitConfig(e,t,r){let i=`/accounts/${e}/${r}_config`;return this.request(i,{method:"PUT",body:JSON.stringify(t)})}deleteSelfHostedGitConfig(e,t){let r=`/accounts/${e}/${t}_config`;return this.request(r,{method:"DELETE"})}logDrains(e){return this.request(`/sites/${e}/log_drains`)}async createLogDrain(e,t={}){try{return await this.postRequest(`/sites/${e}/log_drains`,JSON.stringify(t))}catch(e){if(/^access denied$/i.test(e.message))throw new i.A("You don't have the necessary permissions to create a log drain.");throw e}}async verifyLogDrain(e,t,r){try{return await this.postRequest(`/sites/${e}/log_drains/${t}/verify`,JSON.stringify({token:r}))}catch(e){if(/^access denied$/i.test(e.message))throw new i.A("You don't have the necessary permissions to verify a log drain.");throw e}}async updateLogDrain(e,t,r){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"PUT",body:JSON.stringify(r)})}catch(e){if(/^access denied$/i.test(e.message))throw new i.A("You don't have the necessary permissions to edit a log drain.");throw e}}async deleteLogDrain(e,t){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"DELETE"})}catch(e){if(/^access denied$/i.test(e.message))throw new i.A("You don't have the necessary permissions to delete a log drain.");throw e}}slackWorkspace(e){return this.request(`/slack/accounts/${e}`)}deleteSlackWorkspace(e){return this.request(`/slack/accounts/${e}`,{method:"DELETE"})}slackSubscriptions(e){return this.request(`/slack/accounts/${e}/subscriptions`)}slackChannels(e,t){let{limit:r,cursor:i}=null!=t?t:{},n=[r&&`limit=${r}`,i&&`cursor=${i}`].filter(Boolean);return this.request(`/slack/accounts/${e}/channels?${n.join("&")}`)}createSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions`,{method:"POST",body:JSON.stringify(t)})}editSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions/${t.id}`,{method:"PUT",body:JSON.stringify(t)})}deleteSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions/${t}`,{method:"DELETE"})}graphJwt(e){return this.request(`/sites/${e}/jwt`)}securityKpis(e){return this.request(`/${e}/security_kpis`)}securityKpiFindingsCsv(e,t){return this.request(`/${e}/security_kpis/${t}/findings.csv`)}blob(e,t,r){let i=`/blobs/${e}/${t}/${r}`;return this.request(i,{headers:{accept:"application/json;type=signed-url"}})}blobs(e,t,r=""){let i=`/blobs/${e}/${t}?directories=true`;return r&&(i+=`&prefix=${r}`),this.request(i)}listBlobStores(e){return this.request(`/blobs/${e}`)}accountSitesSummary(e){return this.request(`/accounts/${e}/sites_summary`)}constructor(e){return d(this,"token",void 0),d(this,"root",void 0),d(this,"mockRoot",void 0),d(this,"siteDomain",void 0),d(this,"siteId",void 0),d(this,"apiBase",void 0),this.token=e.get("accessToken"),this.apiBase=e.get("apiBase"),this.root=e.get("clientApiBase")||e.get("apiBase")||"https://api.netlify.com",this.mockRoot=e.get("mockApiBase"),this.siteDomain=e.get("siteDomain")||"netlify.app",this.siteId=e.get("siteId"),new Proxy(this,{get(e,t,...r){if("function"==typeof e[t]&&!p.includes(t.toString())){let i=Reflect.get(e,t,...r),n=t.toString();return function(...t){let r=(0,a.Df)(`api-${n}-start`),s=i.apply(e,t);return s.then?new Promise((e,t)=>{s.then(t=>{let i=(0,a.Df)(`api-${n}-end`,{rejected:!1});return(0,a.QR)(`api-${n}-complete`,r,i),e(t)}).catch((...e)=>{let i=(0,a.Df)(`api-${n}-end`,{rejected:!0});return(0,a.QR)(`api-${n}-complete`,r,i),t(...e)})}):s}}return Reflect.get(e,t,...r)}})}}},11080:(e,t,r)=>{let i;r.d(t,{Ay:()=>S,D1:()=>_,Do:()=>w,FG:()=>y,M_:()=>v,pB:()=>b,r$:()=>$});var n=r(99895),s=r.n(n),o=r(52062),a=r(85342),l=r(29383),u=r(4140),d=r(94958);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(){try{let{utm_campaign:e="",utm_source:t="",utm_medium:r=""}=window.location.search.substr(1).split("&").reduce((e,t)=>{let[r,i]=t.split("=");return e[r]=i,e},{});return e&&{utm_campaign:e,utm_source:t,utm_medium:r}}catch(e){return null}}function p(e){(0,l.J2)("nf.utm",JSON.stringify(e))}let m=h();m&&p(m);class f{toString(){return this.err&&this.err.message}constructor(e){c(this,"err",void 0),this.err=e}}let g={[u.zG.github_app]:{width:1200,height:800,closeWindow:!1},[u.zG.github_enterprise]:{width:1200,height:800,closeWindow:!1},[u.zG.github]:{width:960,height:600,closeWindow:!0},[u.zG.gitlab]:{width:960,height:600,closeWindow:!0},[u.zG.gitlab_self_hosted]:{width:960,height:600,closeWindow:!0},[u.zG.bitbucket]:{width:1024,height:600,closeWindow:!0},[u.zG.bitbucket_self_hosted]:{width:1024,height:600,closeWindow:!0},[u.zG.azure_devops]:{width:960,height:600,closeWindow:!0},[u.zG.email]:{width:500,height:400,closeWindow:!0}};async function v({access_token:e}){if(200!==(await fetch("/access-control/set-auth",{headers:{Authorization:`Bearer ${e}`},credentials:"include"})).status)throw Error("failed to set-auth for user")}function y(){return document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=.netlify.com",document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname}`,document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname.split(".").slice(1).join(".")}`,v({access_token:"unset"})}async function b(){let e=await fetch("/access-control/generate-access-control-token",{credentials:"include"});if(200!==e.status)throw Error("failed to access control token for user");let{accessControlToken:t}=await e.json();return t}function $(){return document.cookie.includes("_nf-auth-hint")}function _({provider:e="github",url:t="",target:r="auth"}){let{top:n,left:s,width:o,height:a}=function(e){let t=g[e]||g.github,r=Math.min(window.screen.width,t.width),i=t.height,n=(window.screen.width-r)/2;return{top:Math.max((window.screen.height-i)/2,0),left:n,width:r,height:i}}(e);return(i=window.open(t,r,`toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=${o},height=${a},top=${n},left=${s}`))&&i.focus(),i}function w(){i&&i.close()}let S=class{open({url:e,provider:t},r){this.handshake(t,r),_({provider:t,url:e})}done({provider:e}){g[e].closeWindow&&w()}postMessage(e,t,r){try{i.postMessage(e,t)}catch(e){s().notify(e,e=>{e.context="netlify-auth ï¹¥ postMessage"}),o.L.addAction("CustomError",{error:e,errorType:"AuthPostMessageError",provider:r})}}handshake(e,t){let r=i=>{let{origin:n,data:s}=i;n===this.base_url&&s===`authorizing:${e}`&&(window.removeEventListener("message",r,!1),this.authorize(e,t),this.postMessage(s,n,e))};window.addEventListener("message",r,!1)}authorize(e,t){let r=i=>{let{origin:n,data:s}=i;if(n===this.base_url){if(0===s.indexOf(`authorization:${e}:success:`)){let i=JSON.parse(s.match(RegExp(`^authorization:${e}:success:(.+)$`))[1]);window.removeEventListener("message",r,!1),this.done({provider:e}),t(null,i)}if(0===s.indexOf(`authorization:${e}:error:`)){let i=JSON.parse(s.match(RegExp(`^authorization:${e}:error:(.+)$`))[1]);window.removeEventListener("message",r,!1),this.done({provider:e}),t(new f(i))}}};window.addEventListener("message",r,!1)}getSiteID(){if(this.site_id)return this.site_id;let e=document.location.host.split(":")[0];return"localhost"===e?null:e}authenticate(e,t){let r;let i=this.getSiteID(),n=e.provider,s=!this.useAuthWindow&&e.redirect,o=function(){let e=[],t=h()||function(){try{let e=sessionStorage.getItem("nf.utm"),{utm_campaign:t="",utm_source:r="",utm_medium:i=""}=JSON.parse(e||"{}");return t&&{utm_campaign:t,utm_source:r,utm_medium:i}}catch(e){}}();if(t)for(let r in p(t),t)e.push(`${r}=${t[r]}`);return e.join("&")}(),u=(0,l.Hd)("tracking_session_id");if(!n)return t(new f({message:"You must specify a provider when calling netlify.authenticate"}));if(!i)return t(new f({message:'You must set a site_id with netlify.configure({site_id: "your-site-id"}) to make authentication work from localhost'}));if(s&&"email"===n&&!e.email)return r=(e.signup?"/signup":"/login")+"/email",o&&(r+="?"+o),d.Nc.push(r);r=`${this.base_url}/auth`,s&&"email"===n&&(r+=e.reviewer||e.signup?"/signup":"/login"),r+=`?provider=${n}&site_id=${i}&tracking_session_id=${u}`,e.accountId&&(r+="&account_id="+e.accountId),e.scope&&(r+="&scope="+e.scope),!0===e.login&&(r+="&login=true"),e.beta_invite&&(r+="&beta_invite="+e.beta_invite),e.invite_code&&(r+="&invite_code="+e.invite_code),o&&(r+="&"+o),s&&(r+="&redirect="+(/^http/.test(s)?window.encodeURIComponent(s):`${window.location.origin}${!0===s?"/":s}`));let c={email:e.email,password:e.password,no_autosignup:!e.signup,redirect:window.location.origin};e.reviewer&&(c.full_name=e.full_name,c.jobrole=e.jobrole,c.reviewer_signup=e.reviewer_signup,c.redirect=e.redirect),s?"email"===n?function({url:e,data:t,signup:r},i){return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>{if("success"===e.state||e.redirect_uri)i(null,e.data||e);else{let t=e.message;r&&/No user found/.test(t)&&(e.message="An account with this email already exists"),i(new a.A(e))}}).catch(e=>i(new a.A(e)))}({url:r,data:c,signup:e.signup},t):window.location.href=r:this.open({url:r,provider:n},t)}constructor(e){c(this,"base_url",void 0),c(this,"site_id",void 0),c(this,"useAuthWindow",void 0),this.site_id=e.site_id||e.siteId,this.base_url=e.base_url||e.apiBase||"https://api.netlify.com",this.useAuthWindow=e.useAuthWindow}}},43006:(e,t,r)=>{r.d(t,{jp:()=>s,nA:()=>n,vz:()=>i});let i=e=>{let t={};return e&&(t.next=e),t},n=e=>{let t,r,i,n,s,o=e.headers.get("Link");if(!o)return null;let a={};o=o.split(",");for(let e=0,l=o.length;e<l;e++)t=o[e].replace(/(^\s*|\s*$)/,""),[r,i]=t.split(";"),s=(n=r.match(/\bpage=(\d+)/))&&Number(n[1]),i.match(/next/)?(a.next=s,a.current=s-1):i.match(/prev/)?(a.prev=s,a.current=s+1):i.match(/last/)&&(a.last=s);let l=Number(e.headers.get("Total"));if(l){var u,d;let e=Number(null===(d=o[0])||void 0===d?void 0:null===(u=d.match(/per_page=(\d+)/))||void 0===u?void 0:u[1]);e>0&&(a.page_count=Math.ceil(l/e),a.total=l)}return a},s=e=>null==e?void 0:e.get("current")},82364:(e,t,r)=>{r.d(t,{$m:()=>T,$q:()=>g,J7:()=>l,JR:()=>y,Jm:()=>f,Jv:()=>q,O:()=>k,QU:()=>c,QX:()=>_,Te:()=>O,V2:()=>A,_h:()=>w,ay:()=>v,bR:()=>S,fS:()=>E,gD:()=>h,gX:()=>d,jI:()=>C,kY:()=>N,n5:()=>P,qK:()=>a,sK:()=>b,tx:()=>m,ty:()=>I,x3:()=>o,xl:()=>$,xw:()=>s});var i=r(45235),n=r(75060);let s="all",o="selected",a="none",l=["enforced_strict","enforced_with_fallback"],u="active",d="final_notice",c="hibernating",h="cancelled",p="locked";function m(e,t){return!!(e&&(0,n.qA)(t)&&!g(e))}function f(e,t){return!!(e&&(0,n.KP)(t)&&!g(e))}function g(e){return!!(e&&e.get("public"))}function v(e,t){return(0,n.fq)(t)||g(e)}function y(e,t){return!!t||(0,n.vK)(e)}function b(e){return!!e&&l.includes(e.get("enforce_saml"))}function $(e,t){return!!e&&(e&&!b(e)||t&&t.get("saml_enabled")||e&&e.get("org_saml_enabled"))}function _(e){return(0,n.vK)(e)}function w(e){return!q(e)&&y(e)}function S(e){return(0,i.dU)(e)?i.hQ:(0,i.X0)(e)?i.mG:e}function k(e){return e===s?"All sites":e===o?"Specific sites":e===a?"No sites":""}function A(e,t){let r=e&&e.get("account_slug");return t&&t.find(e=>e.get("slug")===r)}function T(e){return e&&e.get("lifecycle_state")===u}function q(e){let t=e&&e.get("lifecycle_state");return t&&t!==u&&t!==p}function E(e){return[d,c,h].includes(e&&e.get("lifecycle_state"))}function N(e){return(e&&e.get("lifecycle_state"))===p}function C(e,t){return e&&(e.getIn(["capabilities",t])||e.getIn(["site_capabilities",t]))}function P(e){return!!(e&&e.getIn(["capabilities","self_hosted_git_support","included"]))&&(0,n.Xq)(e)}function I(e){return!!(e&&(0,n.MN)(e)&&"all"===e.get("site_access")&&!E(e))}let O=e=>{let t=null==e?void 0:e.getIn(["capabilities","security_kpis","included"]),r=(0,n.We)(e);return t&&r}},86147:(e,t,r)=>{r.d(t,{A:()=>i});let i=new(r(21900)).E({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}})},87504:(e,t,r)=>{r.d(t,{n:()=>u});var i=r(38429),n=r(5226),s=r(96655),o=r(99953);let a=({accountId:e})=>{async function t(t,r){let i;try{let t=await (0,s.C)({accountId:e});i=`Bearer ${t.jwt}`}catch{i=void 0}let n=new URL("/graphql",o.t);n.search=new URLSearchParams({operationName:t.name,show_metrics:"false",netlify_account_id:e}).toString();let a=await fetch(n,{method:"POST",headers:{Authorization:i,"Content-Type":"application/json",Accept:"application/json",serviceid:"94103628-541d-4cbd-8273-16850b910ebc"},body:JSON.stringify({query:t.text,doc_id:t.id,variables:r})}),l=await a.json();return"mutation"===t.operationKind&&l.errors?{data:null,errors:l.errors}:l}return async function(e,r){return t(e,r)}},l=()=>{let e=new URL("/graphql/subscriptions",o.t);e.protocol="wss";let t=new n.SubscriptionClient(e.href,{reconnect:!0});return(e,r)=>{let n=t.request({query:e.text,operationName:e.name,variables:r});return i.Observable.from(n)}},u=({accountId:e})=>{let t=a({accountId:e}),r=l();return new i.Environment({network:i.Network.create(t,r),store:new i.Store(new i.RecordSource)})}},55154:(e,t,r)=>{let i;r.d(t,{My:()=>M,Q:()=>U,IX:()=>L,Jw:()=>x,QR:()=>T,Df:()=>A,p2:()=>z,$3:()=>F});var n=r(52062),s=r(90451),o=r(6430),a=r(29383);let l=["api-aws.netlify.com","api.netlify.com","api-staging.netlify.com","www.netlify.com","www.netlify.app","app.netlifystg.com","app.netlifystg.app","app.netlify.com","analytics.services.netlify.com","analytics-staging.services.netlify.com","supportapi.services.netlify.com","list-v2--netlify-plugins.netlify.app","localhost","d33wubrfki0l68.cloudfront.net"],u=["commandbar","github","zuora","bitbucket","gitlab","gravatar"];function d(e){return null!=e&&new URL(e||"",window.location.origin).origin===window.location.origin}let c="viewInitialRender",h="viewDataFullyLoaded",p="viewChanged",m=["user"],f="featureLoadTimingListener",g="featureSpecificDFLListener";r(45557);let v=[],y=0,b=[],$=[],_=window,w=window.location;function S(e){v.push(e),b.length>0&&requestIdleCallback(()=>{b=b.filter(({whenMadeCallback:e,markNamesToWaitFor:t,startOffset:r,verifyMark:i})=>{let n=q(t,v,r,i);return!n||(e(n),!1)})},{timeout:2e3}),$.forEach(t=>t(e))}function k(){return{pageUrl:w.href,pageIsIframed:_.top!==_.self}}function A(e,t){let r=_.performance.mark(e),i=null==t?void 0:t.overrideTimeMarked;r||(r=performance.getEntriesByName(e).pop());let n={name:e,props:t,timeMarked:(!i||0===i)&&i||(null==r?void 0:r.startTime)||performance.now(),index:y++,env:k()};return S(n),n}function T(e,t,r){let i=_.performance.mark(e);i||(i=performance.getEntriesByName(e).pop());let n={name:e,duration:r.timeMarked-t.timeMarked,timeMarked:(null==i?void 0:i.startTime)||performance.now(),index:y++,env:k()};return S(n),n}function q(e,t,r,i){let n=t.reduce((t,n,s)=>(void 0!==r&&s<r||e.includes(n.name)&&(!i||i(n))&&(t[n.name]=n),t),{});return Object.keys(n).length===e.length?n:null}function E({markNamesToWaitFor:e,whenMadeCallback:t,startOffset:r,verifyMark:i,listenerClass:n}){let s=q(e,v,r,i);s?requestIdleCallback(()=>{t(s)},{timeout:2e3}):b.push({whenMadeCallback:t,markNamesToWaitFor:e,startOffset:r,verifyMark:i,listenerClass:n})}function N(e){b=b.filter(({listenerClass:t})=>t!==e)}function C(e){$.push(e)}window._rum=window._rum||{},window._rum.markers={getAllMarks:function(){return v},markTime:A,markMeasurement:T,whenAllMarksMade:E,onMarkAdded:C};let P=[];window._rum=window._rum||{},window._rum.timings=[];let I=[],O="unset",D=!0,j=!window.Cypress,R=0;function x(){let e="abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",t="pubd771a23f8cb1e4f45f24b5fd37e11a96",r="netlify-react-ui";j&&e&&t&&r&&!window.Cypress&&(n.L.init({applicationId:e,clientToken:t,site:"datadoghq.com",service:r,version:"66828bc3ae4a98000820afb4",env:"production",sessionSampleRate:100,trackUserInteractions:!1,trackViewsManually:!0,trackResources:!0,trackLongTasks:!0,enableExperimentalFeatures:["feature_flags"],beforeSend:(e,t)=>{var r,i;return!("error"===e.type&&(null===(r=e.error)||void 0===r?void 0:r.source)==="report"||"error"===e.type&&((null===(i=e.error)||void 0===i?void 0:i.message)||"").toLowerCase().includes("userflow"))&&(function(e,t){var r,i,n,o,a;let c={};e.view&&e.view.url.includes("#")&&(e.view.url=e.view.url.split("#")[0]),(null===(i=e.view)||void 0===i?void 0:null===(r=i.referrer)||void 0===r?void 0:r.includes("#"))&&(e.view.referrer=e.view.referrer.split("#")[0]);let h=e.resource;if(h&&h.url&&h.url.includes("#")&&(h.url=h.url.split("#")[0]),"resource"===e.type){let r=function(e){if(null==e)return!1;let t=new URL(e||"",window.location.origin);return t.hostname.toLowerCase().endsWith(".netlify.com")||l.includes(t.hostname.toLowerCase())||d(e)}(e.resource.url);if(c={...c,requestIsInternal:r,requestIsSameOrigin:d(e.resource.url),requestIsExternalDep:!r&&function(e){if(null==e)return!1;let t=new URL(e||"",window.location.origin);return u.some(e=>t.hostname.toLowerCase().includes(e))}(e.resource.url),requestApiType:null!=(a=e.resource.url)&&new URL(a||"",window.location.origin).pathname.startsWith("/.netlify/functions/")?"function":"server"},(null==h?void 0:h.url.includes("#access_token"))&&(c.resourceHasAccessToken=!0),(null==h?void 0:h.url.includes("#token"))&&(c.resourceHasToken=!0),"performanceEntry"in t&&void 0!==t.performanceEntry&&(c={...c,...function(e){if(!e)return{};let t={...e,...function(e){let t={};return Array.isArray(e)&&e.forEach(({name:e,duration:r,description:i})=>{r&&(t[`st_${e}_duration`]=r),i&&(t[`st_${e}_desc`]=i)}),t}(null==e?void 0:e.serverTiming)};return delete t.name,delete t.serverTiming,delete t.entryType,t}(t.performanceEntry)}),"fetch"===e.resource.type||"xhr"===e.resource.type){let e=null==t?void 0:t.response,i=(0,s.Fi)(),a=null,l=null;if((null==e?void 0:e.headers)&&(a=e.headers.get("x-request-id"),l=e.headers.get("x-nf-srv-version")),(null===(n=t.performanceEntry)||void 0===n?void 0:n.startTime)&&r){let e=function(e){if(0===P.length)return;if(1===P.length)return P[0].featureName;let t=P.reduceRight((t,r,i)=>(t||0!==i||(t=r),!t&&e>r.viewStartTime&&(t=r),t),void 0);return t?t.featureName:void 0}(null===(o=t.performanceEntry)||void 0===o?void 0:o.startTime);i!==e&&(c.featureName=e,c.respondedAfterViewChange=!0)}c={...c,requestId:a,requestNFServerVersion:l}}}else"view"!==e.type||I.includes(e.view.id)||(O=e.view.id,I.push(e.view.id),D="initial_load"===e.view.loading_type);e.context={...e.context,...c}}(e,t),!0)}}),n.L.setGlobalContextProperty("suspiciousUsage",o.S),n.L.addTiming("deviceLoadCount",function(){let e="ntl_device_loads",t=(parseInt((0,a._S)(e)||"0",10)||0)+1;return Promise.resolve().then(()=>{(0,a.AP)(e,t)}),t}()),C(e=>{if(e.name===p){var t,r,i;let o=[c],a=(0,s.f5)(null===(t=e.props)||void 0===t?void 0:t.featureName),l=a.name;(null==a?void 0:null===(r=a.networkingRules)||void 0===r?void 0:r.skipMeasuringCriticalPathData)||o.push(h),(null===(i=e.props)||void 0===i?void 0:i.featureName)&&P.push({featureName:l,viewStartTime:e.timeMarked}),N(f),E({listenerClass:f,markNamesToWaitFor:o,startOffset:v.length-1,whenMadeCallback:t=>{var r,i;let s=t[c],o=t[h],a=D?0:e.timeMarked,u=s.timeMarked-a,d=o?o.timeMarked-a:-1,p=o?o.timeMarked-s.timeMarked:-1;n.L.addTiming("viewInitialRender",u),n.L.addTiming("viewDataFullyLoaded",d),n.L.addTiming("viewIRDFLDelta",p),o&&(null===(r=o.props)||void 0===r?void 0:r.viewDFLTimedOut)===!0&&n.L.addAction("DataFullyLoadedTimeout",{featureName:l,viewInitialRender:u,viewDataFullyLoaded:d,delta:p}),window._rum.timings.push({featureName:l,viewInitialRender:u,viewDataFullyLoaded:d,delta:p,viewDFLTimedOut:!!(null==o?void 0:null===(i=o.props)||void 0===i?void 0:i.viewDFLTimedOut)})},verifyMark:e=>{var t;return(null===(t=e.props)||void 0===t?void 0:t.viewId)===O}})}}))}function L({routePath:e}){let t=(0,s.rc)(e),r=(0,s.f5)(t),n=O,o=J(),l=!1,u=!1;return{markInitialRender:e=>{l||(l=!0,A(c,{viewId:n,featureName:t,...e||{}}))},markDataFullyLoaded:e=>{u||(u=!0,A(h,{viewId:n,featureName:t,...e||{}}))},whenDataFullyLoaded:({whenDFLCallback:e,timeout:n=15e3})=>{var s;N(g);let l=[],u={viewDFLTimedOut:!1};o&&(0,a._S)("nf-session")&&(l=[...l,...m]);let d=null==r?void 0:null===(s=r.networkingRules)||void 0===s?void 0:s.criticalPathAPICalls;if(d&&(Array.isArray(d)?l=[...l,...d]:"function"==typeof d&&(l=[...l,...d()])),window._rum.waiters.push({featureName:t,apiMarksToWaitFor:l}),0===l.length){null==e||e(u);return}let c=setTimeout(()=>{u.viewDFLTimedOut=!0,null==e||e(u),e=null},n);E({listenerClass:g,markNamesToWaitFor:l.map(e=>`api-${e}-complete`),startOffset:o?0:null==i?void 0:i.index,whenMadeCallback:()=>{clearTimeout(c),null==e||e(u),e=null}})}}}function M(e,t){j&&n.L.setGlobalContextProperty(e,t)}function U({id:e,plan:t,accountId:r,email:i}){if(j){let s={id:e,plan:t,accountId:r};"string"==typeof i&&(s.isInternalUser=i.endsWith("@netlify.com")),n.L.setUser(s)}}function F(e){if(j){R++;let t=(0,s.zX)(e);n.L.setGlobalContextProperty("featureName",t),n.L.startView(e),i=A(p,{urlTrackPath:e,featureName:(0,s.rc)(e)}),A(p,{urlTrackPath:e,featureName:t}),n.L.addTiming("viewDepth",R)}}function z(e){if(j){let t="internal-nav";J()&&(t="page-load-nav");let r={pathname:window.location.pathname,errorPageType:e,navType:t};n.L.addAction("ErrorPageHit",r),A("errorPageHit",r)}}window._rum=window._rum||{},window._rum.waiters=[];let J=()=>R<=1},24760:(e,t,r)=>{r.d(t,{B$:()=>R,BS:()=>f,B_:()=>M,HN:()=>F,K2:()=>E,LQ:()=>A,Lq:()=>C,RP:()=>O,R_:()=>$,TF:()=>S,Tr:()=>b,V2:()=>P,VE:()=>L,Z4:()=>h,ZD:()=>N,bL:()=>x,ff:()=>d,fz:()=>T,h5:()=>p,mS:()=>c,o3:()=>U,pj:()=>v,pq:()=>w,qO:()=>u,rq:()=>y,sO:()=>_,s_:()=>q,t0:()=>k,tU:()=>D,yW:()=>g});var i=r(44110),n=r(70728),s=r(43134),o=r(23015),a=r(4140),l=r(47975);let u="success",d="error",c="in-progress",h="blank",p={SUCCESS:u,ERROR:d,IN_PROGRESS:c,BLANK:h},m={[u]:"Site is live",[d]:"Site deploy failed",[c]:"Site deploy in progress",[h]:"Site has not yet been deployed"};function f(e){return e.get("deploy_id")?u:e.get("error_message")?d:e.get("build_id")||"current"!==e.get("state")?c:h}function g(e){return m[f(e)]}function v(e,t,r){return{site_id:e.get("id"),site_name:C(e),repo_url:e.getIn(["build_settings","repo_url"]),working_branch:e.getIn(["build_settings","repo_branch"]),env_variables:r.map(e=>({key:e.key,is_secret:e.is_secret,value:e.is_secret?"":(0,n.Uy)(e.values).all})),account_id:t.get("id"),account_name:t.get("slug"),working_directory:e.getIn(["build_settings","base"])}}function y(e){return!D(e)&&(0,l.Ts)(_(e))}function b(e){let{siteDomain:t}=s.A,r=e.get("name")||e.get("subdomain");return`${r}.${t}`}function $(e){return e.get("custom_domain")?e.get("url"):function(e){let t=e.get("default_domain")||b(e);return`https://${t}`}(e)}function _(e){return e&&e.getIn(["build_settings","provider"])}function w(e){let t=_(e);return t&&a.Sc.getIn([t,"name"])||t}function S(e){return/^gitlab/.test(_(e))?"merge request":"pull request"}function k(e){return/^gitlab/.test(_(e))?"MR":"PR"}function A(e){return!!e.getIn(["build_settings","repo_branch"])}function T(e){return A(e)&&1!==(e.getIn(["build_settings","allowed_branches"])||(0,i.List)()).size}function q(e,t){return`https://${t}--${b(e)}`}function E(e){return e.get("custom_domain")||I(e)}function N(e){return e.get("custom_domain")}function C(e){return e.get("account_subdomain")||e.get("name")}function P(e){return e.get("id")||e.get("site_id")}function I(e){return e.get("default_domain")||b(e)}function O(e){let[t,...r]=I(e).split(".");return r.join(".")}function D(e){return!((null==e?void 0:e.getIn(["build_settings","repo_url"]))||(null==e?void 0:e.get("repo_url"))||(null==e?void 0:e.get("deploy_hook")))}let j=["trusty","production",null];function R(e){if(D(e))return!1;let t=null==e?void 0:e.get("build_image");return j.includes(t)}function x(e){return!D(e)&&"xenial"===(null==e?void 0:e.get("build_image"))}function L(e){return!!(null==e?void 0:e.getIn(["build_settings","stop_builds"]))}function M(e){return e.getIn(["build_settings","provider"])===a.zG.github&&"Organization"===e.getIn(["build_settings","repo_owner_type"])&&!e.getIn(["build_settings","public_repo"])}let U=e=>{let t=[],r={deploy_preview_custom_domain:"Deploy Preview",branch_deploy_custom_domain:"branch deploy"};if(Object.entries(e).reverse().forEach(([e,n])=>{let s=r[e];n.forEach(e=>{if(null==e?void 0:e.includes("has invalid characters"))return t.push(`Additional subdomain for ${s}s should only contain letters, numbers, hyphens, or dots. It must end with a letter or number.`);if(null==e?void 0:e.includes("exceeds the permitted length of 225 chars"))return t.push(`The combined length of your ${s} domain exceeds the permitted length of 225 characters.`);if(null==e?void 0:e.includes("exceeds the permitted length of 63 chars"))return t.push(`Additional subdomain for ${s}s exceeds the permitted subdomain length of 63 characters.`);if(null==e?void 0:e.includes("the subdomain or apex domain has not been added to this site's team with Netlify DNS"))return t.push(`The ${s} domain is not set up to use Netlify DNS.`);if(null==e?void 0:e.includes("This automatic deploy subdomain is already used on site ")){let r="This automatic deploy subdomain is already used on site ",n=r.replace("automatic deploy subdomain",`${s} domain`),a=e.split(r)[1],l=(0,o.l2)((0,i.fromJS)({name:a}),"settings","domain#automatic-deploy-subdomains");return t.push(`${n}[${a}](${l})`)}return t.push(e)})}),t.length>0)return t.join("\n\n")},F=e=>(null==e?void 0:e.get("visual_editor_active"))?null==e?void 0:e.getIn(["primary_create_project","create_project_id"]):void 0},75060:(e,t,r)=>{r.d(t,{Ay:()=>_,Bq:()=>h,D9:()=>q,Ew:()=>T,FV:()=>O,FX:()=>E,H9:()=>I,Jb:()=>s,Jx:()=>x,KP:()=>U,MC:()=>y,MN:()=>f,O7:()=>A,Rs:()=>J,SE:()=>C,UE:()=>$,U_:()=>n,We:()=>j,XA:()=>P,XS:()=>z,Xq:()=>l,Y7:()=>p,ZA:()=>u,cr:()=>N,cs:()=>F,f0:()=>c,fq:()=>k,gb:()=>D,gl:()=>d,h1:()=>L,hM:()=>v,hl:()=>o,hw:()=>w,jC:()=>S,k3:()=>a,kT:()=>b,l7:()=>R,qA:()=>M,vK:()=>m,zh:()=>g});let i=(e,t,r)=>!!(e&&e.getIn(["user_capabilities",t,r])),n=e=>e&&e.getIn(["user_capabilities","billing"]),s=e=>i(e,"account_firewall","u"),o=e=>i(e,"account_usage","r"),a=e=>i(e,"accounts","r"),l=e=>i(e,"accounts","u"),u=e=>i(e,"accounts","d"),d=e=>i(e,"account_traffic_rules","c"),c=e=>i(e,"account_traffic_rules","u"),h=e=>i(e,"account_traffic_rules","d"),p=e=>i(e,"billing","r"),m=e=>i(e,"billing","u"),f=e=>i(e,"builds","r"),g=e=>i(e,"connect","c"),v=e=>i(e,"connect","r"),y=e=>i(e,"connect","u"),b=e=>i(e,"connect","d"),$=e=>i(e,"create","c"),_=e=>i(e,"create","r"),w=e=>i(e,"create","u"),S=e=>i(e,"create","d"),k=e=>i(e,"deploys","r"),A=e=>i(e,"domains","c"),T=e=>i(e,"domains","r"),q=e=>i(e,"domains","u"),E=e=>i(e,"domains","d"),N=e=>i(e,"members","c"),C=e=>i(e,"members","r"),P=e=>i(e,"members","u"),I=e=>i(e,"members","d"),O=e=>i(e,"reviewers","c"),D=e=>i(e,"reviewers","u"),j=e=>i(e,"security_kpis","r"),R=e=>i(e,"site_firewall","u"),x=e=>i(e,"sites","c"),L=e=>i(e,"sites","r"),M=e=>i(e,"sites","u"),U=e=>i(e,"sites","d"),F=e=>i(e,"site_traffic_rules","c"),z=e=>i(e,"site_traffic_rules","u"),J=e=>i(e,"site_traffic_rules","d")},69289:(e,t,r)=>{r.d(t,{k:()=>o});var i=r(52062),n=r(58505),s=r(6430);function o(e){if(s.S){i.L.addAction("CustomError",{message:"Userflow has failed to load due to the browser being sus",errorType:"UserflowError"});return}n.A.load().then(e,e=>{e.errorType="UserflowError",i.L.addAction("CustomError",e)})}},47975:(e,t,r)=>{r.d(t,{Ts:()=>m,X2:()=>l});var i=r(55359),n=r.n(i),s=r(70728),o=r(4140);let a=({site:e,visualEditorRepoAnalysisData:t,settingsFramework:r})=>{var i,n;return(null==t?void 0:t.ssgName)&&(null==t?void 0:t.ssgName)!=="custom"?t.ssgName:(null===(i=e.published_deploy)||void 0===i?void 0:i.framework)==="astro"||"astro"===r?"astro":null!==(n=null==t?void 0:t.ssgName)&&void 0!==n?n:void 0},l=({formSettings:e,repo:t,site:r,gitAccessToken:i,environmentVariables:o,cms:l})=>{var u,d,c,h,m,f,g;let v;let{visualEditorSettings:y,branch:b,env:$,base:_,framework:w}=e;if(!y)return{};let{name:S,id:k,account_id:A}=r,T=null===(u=t.visualEditorRepoAnalysis)||void 0===u?void 0:u.data,q=null==o?void 0:o.reduce((e,{key:t,values:r,is_secret:i=!1})=>{let{production:n,all:o}=(0,s.Uy)(r);return e[t]={value:i?"":n||o,isValid:!0,secure:i},e},{}),E=($?Object.keys($):[]).reduce((e,t)=>(e[t]={value:$[t],isValid:!0,secure:!1},e),q||{}),N=a({site:r,visualEditorRepoAnalysisData:T,settingsFramework:w});return(null==T?void 0:T.validation.hasConfig)||(v=p({ssgName:N,cmsValues:l?[l]:[]})),{gitAccessToken:i,coreAccountId:A,previewBranch:y.previewBranch,publishBranch:b,projectParameters:{name:S,cmsData:{cmsName:null},config:v,generateConfig:!(null==T?void 0:T.validation.hasConfig),ssgData:{ssgName:N,ssgDir:null==T?void 0:T.ssgDir,runnableDir:null!=_?_:""},envVars:E,settings:{appConfigEnv:"prod"},deployData:{deployName:"netlify",sharedUser:!1,siteId:k}},repoInfo:{selectedGitRepo:{name:t.name,owner:{login:t.owner}},useExistingRepo:!0,selectedRepoUrl:t.repo_url,selectedRepoAccessToken:null!==(f=y.repoInfo.selectedRepoAccessToken)&&void 0!==f?f:"",selectedBranch:b,stackbitYmlFound:null==T?void 0:null===(d=T.validation)||void 0===d?void 0:d.hasConfig,stackbitYmlValid:!!((null==T?void 0:null===(c=T.validation)||void 0===c?void 0:c.hasConfig)&&n()(null==T?void 0:null===(h=T.validation)||void 0===h?void 0:h.config)&&n()(null==T?void 0:null===(m=T.validation)||void 0===m?void 0:m.content)),isValidated:!0,isAnalyzed:!0,themeConfig:null!==(g=null==T?void 0:T.config)&&void 0!==g?g:{}}}},u=`
import { defineStackbitConfig } from '@stackbit/types';

export default defineStackbitConfig({})`,d={stackbitVersion:"~0.6.0",nodeVersion:"18",ssgName:"",contentSources:[]},c=["contentful","sanity","datoCms","contentstack"],h={contentful:{postInstallCommand:"@stackbit/cms-contentful",import:"import { ContentfulContentSource } from '@stackbit/cms-contentful';",contentSource:`
        new ContentfulContentSource({
            spaceId: process.env.CONTENTFUL_SPACE_ID!,
            environment: process.env.CONTENTFUL_ENVIRONMENT || 'master',
            previewToken: process.env.CONTENTFUL_PREVIEW_TOKEN!,
            accessToken: process.env.CONTENTFUL_MANAGEMENT_TOKEN!
        }),
`},sanity:{postInstallCommand:"@stackbit/cms-sanity",import:`import { SanityContentSource } from '@stackbit/cms-sanity';
import path from 'path';`,contentSource:`
        new SanityContentSource({
            projectId: process.env.SANITY_PROJECT_ID!,
            token: process.env.SANITY_ACCESS_TOKEN!,
            dataset: process.env.SANITY_DATASET || 'production',
            rootPath: __dirname,
            studioPath: path.resolve(__dirname, 'studio'),
            studioUrl: process.env.SANITY_STUDIO_URL || ''
        }),
`},datoCms:{postInstallCommand:"@stackbit/cms-datocms",import:"import { DatoCMSContentSource } from '@stackbit/cms-datocms';",contentSource:`
        new DatoCMSContentSource({
            apiToken: process.env.DATOCMS_API_TOKEN!,
            projectId: process.env.DATOCMS_PROJECT_ID!
        }),
`},contentstack:{postInstallCommand:"@stackbit/cms-contentstack",import:"import { ContentstackContentSource } from '@stackbit/cms-contentstack';",contentSource:`
        new ContentstackContentSource({
            apiKey: process.env.CONTENTSTACK_API_KEY!,
            managementToken: process.env.CONTENTSTACK_MANAGEMENT_TOKEN!,
            authtoken: process.env.CONTENTSTACK_AUTHTOKEN,
            branch: process.env.CONTENTSTACK_BRANCH!,
            publishEnvironmentName: process.env.CONTENTSTACK_PUBLISH_ENV || 'production',
            skipFetchOnStartIfCache: true
        }),
    `}},p=({ssgName:e="custom",cmsValues:t})=>{t&&0!==t.length||(t=["noCms"]);let r={...d,ssgName:e},i=u,n="",s="npm i --no-save @stackbit/types";for(let e of t)if(c.some(t=>t===e)){let t=h[e];t&&(n=n.concat(t.contentSource),s=s.concat(` ${t.postInstallCommand}`),i=i.replace(/^/,`${t.import}
`))}let o=JSON.stringify({...r,postInstallCommand:s},null,4);return n&&(o=o.replace(/\[\]/g,`[${n}    ]`)),o=i.replace(/defineStackbitConfig\(\{\}\)/,`defineStackbitConfig(${o.trim()})`).trim()},m=e=>{let t=[o.zG.azure_devops,o.zG.gitlab,o.zG.gitlab_self_hosted];return!!e&&!t.includes(e)}},92488:(e,t,r)=>{r.d(t,{Gj:()=>u,V8:()=>c,Zt:()=>a,_m:()=>l,_o:()=>o,aQ:()=>d,r0:()=>s,tE:()=>n,tc:()=>h});let i="workflow-ui",n=`/${i}/surfaces`,s=`/${i}/package`,o="site-settings",a="log-drains-settings",l="integrations-settings",u="integration-team-configuration",d="integration-site-configuration",c="http://localhost:35472",h=/https:\/\/integration-preview--[^/]+\.netlify\.live/},89907:(e,t,r)=>{r.d(t,{Q:()=>s,q:()=>n});var i=r(3640);function n({site:e,envVars:t}){return{isExistingEnvVar(e){var r;return null!==(r=null==t?void 0:t.some(t=>t.key===e))&&void 0!==r&&r},getEnvVar(e){let r=null==t?void 0:t.find(t=>t.key===e);return r?{envVar:r}:null}}}function s({dispatch:e,site:t,accountId:r}){let n=t.get("id");return{async createEnvVars(t){if(t.length)return e((0,i.g8)({accountId:r,siteId:n,envVars:t}))},async deleteEnvVars(t){t.length&&t.forEach(t=>{e((0,i.mP)({accountId:r,siteId:n,key:t}))})},async updateEnvVars(t){t.length&&t.forEach(t=>{e((0,i.cr)({accountId:r,siteId:n,oldKey:t.key,newKey:t.key,scopes:t.scopes,values:t.values}))})}}}},70998:(e,t,r)=>{r.d(t,{zd:()=>u,ah:()=>d,_x:()=>l,j8:()=>h,B$:()=>c});var i=r(29383),n=r(92488);let s=async(e,t,r)=>{let i;let s=null==t?void 0:t.includes("netlify.live");t?s?((i=new URL(window.location.origin)).pathname="/.netlify/functions/workflow-ui",i.searchParams.set("host",t)):(i=new URL(t)).pathname="ui/integration-ui.json":i=new URL([n.tE,e,r].filter(Boolean).join("/"),window.location.origin);let o=await fetch(i);if(!o.ok){if(404===o.status)return null;throw Error("Unable to load Workflow UI config!")}try{let e=await o.json();return Object.keys(e).length?e:null}catch(e){return console.error("Workflow UI Config is not valid JSON"),null}};async function o(e){let t,r;try{t=JSON.parse((0,i._S)("wui-dev-mode")||"{}")}catch(e){}let s=null==t?void 0:t.packages;if(!(Array.isArray(s)&&s.length>0))return null;let o=(...e)=>(console.error(...e),null),a=`${n.V8}/workflow-ui.json`,l=await fetch(a);if(l.ok&&(r=await l.json()),!r)return o(`No local config found at ${a}`);if("string"!=typeof r.packageId)return o('Config doesn\'t have a "packageId" at root level',r);if(!s.includes(r.package))return o(`Config loaded locally is for a different package (${r.package}) than what's in dev mode: ${s.join(",")}`);if(!Array.isArray(r.surfaces))return o('Config doesn\'t have a "surfaces" array field at root level',r);let u=null;return(null==e?void 0:e.surfaceName)&&r.surfaces.length>0&&r.surfaces.some(t=>t.surfaceName===e.surfaceName)&&(u=r),u}let a=new Map,l=e=>a.get(e),u=(e,t)=>{a.set(e,t)},d=e=>{a.delete(e)},c=async e=>s(e),h=async({surfaceName:e,host:t,routeSplat:r="",packageKey:i})=>{var n;let a=`iframe[data-surface-name="${e}"]`;if(document.querySelector(a))return;let l=await s(e,t,i),u=await o({surfaceName:e,packageKey:i});u&&(l=u);let d=new Map,c=l?function(e,t){let r=e.surfaces.map(e=>({...e,routes:Object.entries(e.routes).reduce((e,[r,i])=>(e[r]=i.map(e=>(function e(t,r){var i;let n="contents"in t?null===(i=t.contents)||void 0===i?void 0:i.map(t=>e(t,r)):void 0,s=t.id||crypto.randomUUID(),o={...t,id:s,...n&&{contents:n}};return r.set(s,o),o})(e,t)),e),{})}));return{...e,surfaces:r}}(l,d):void 0,h=null==r?void 0:r.split("/").filter(Boolean),p=null==c?void 0:c.surfaces.find(t=>t.surfaceName===e),m=null==h?void 0:h.reduce((e,t,r)=>{let i=e[r]||"";return e.push(`${i}/${t}`.replace("//","/")),e},["/"]).reverse(),f=(null==m?void 0:m.find(e=>!!(null==p?void 0:p.routes[e])))||"",g=null==p?void 0:p.routes[f],v=!!(null==p?void 0:null===(n=p.routesRequiringLastSelectedSite)||void 0===n?void 0:n.includes(f));return{config:c,surfaceConfig:p,surfaceRouteConfig:g,matchedRouteKey:f,useDevMode:!!u,elementDirectory:d,requiresLastSelectedSite:v}}},21138:(e,t,r)=>{let i;r.d(t,{Ay:()=>C});var n=r(99895),s=r.n(n),o=r(85342),a=r(89905),l=r(51966),u=r(86715);let d=e=>e?"004"===e?"CVV code":"002"===e?"card number":"003"===e?"card type":"":"",c=e=>{switch(e){case"creditCardExpirationMonth":return"card expiration month";case"creditCardExpirationYear":return"card expiration year";case"cardSecurityCode":return"CVV code";case"creditCardHolderName":return"cardholder name";case"creditCardCountry":return"country";case"creditCardState":return"state";case"creditCardAddress1":case"creditCardAddress2":return"address";case"creditCardCity":return"city";case"creditCardPostalCode":return"zip/postal code";default:return""}},h=e=>e?e.includes("creditCardExpirationMonth")?"card expiration month":e.includes("creditCardExpirationYear")?"card expiration year":e.includes("cardSecurityCode")?"CVV code":e.includes("creditCardHolderName")?"cardholder name":e.includes("creditCardCountry")?"country":e.includes("creditCardState")?"state":e.includes("creditCardAddress1")||e.includes("creditCardAddress2")?"address":e.includes("creditCardCity")?"city":e.includes("creditCardPostalCode")?"zip/postal code":"":"",p=["card_error/card_declined","card_error/card_declined/generic_decline","card_error/card_declined/insufficient_funds","card_error/card_declined/lost_card","card_error/card_declined/stolen_card","card_error/expired_card","card_error/processing_error","card_error/incorrect_cvc","card_error/incorrect_number","card_error/incorrect_zip","card_error/incorrect_address","invalid_request_error/setup_intent_authentication_failure"],m=e=>{if(!e)return"Payment validation failed.";if(e.includes("Submit_Too_Quick"))return"You have submitted this form too many times. Please try again later.";if(e.includes("Authentication failed, please check your password"))return"Verification step failed because the authentication was incorrect or the authentication was canceled.";let t=[...e.matchAll(/\[([\w\-/]+)\]/g)],r=t[t.length-1];return t.length>0&&p.includes(r[1])?e.slice((r.index||0)+r[0].length+1):`Payment validation failed. Debug message: ${e}`},f=!1,g=()=>window.Z||null,v=async e=>{f||(await new Promise((e,t)=>{f=!0;let r=document.createElement("script");r.type="text/javascript",r.async=!0,r.onload=()=>e(),r.onerror=()=>t("Failed to load zuora"),r.src="https://static.zuora.com/Resources/libs/hosted/1.3.1/zuora-min.js",document.getElementsByTagName("head")[0].appendChild(r)}),window.addEventListener("message",e))},y=({key:e,card:t})=>{let r=new l.A;return r.setPublicKey(e),{creditCardExpirationMonth:r.encrypt(10>parseInt(t.expirationMonth)?`0${parseInt(t.expirationMonth)}`:`${t.expirationMonth}`),creditCardExpirationYear:r.encrypt(""+t.expirationYear),creditCardNumber:r.encrypt(t.creditCardNumber.replace(/\s/gi,"")),cardSecurityCode:r.encrypt(t.securityCode),creditCardHolderName:t.cardHolderInfo.cardHolderName,creditCardCountry:u.fR[t.cardHolderInfo.country]||t.cardHolderInfo.country,creditCardState:(0,u.QL)(t.cardHolderInfo.state),creditCardAddress1:t.cardHolderInfo.addressLine1,creditCardAddress2:t.cardHolderInfo.addressLine2,creditCardCity:t.cardHolderInfo.city,creditCardPostalCode:t.cardHolderInfo.zipCode}};async function b({rendererParams:e,rendererPrepopulateFields:t,onSubmissionSuccess:r,onSubmissionError:n,onRenderError:s,onRenderSuccess:o}){try{let{key:t,signature:l,style:u,submitEnabled:p,tenantId:f,token:b,url:k,sandbox:A,passthroughParams:T,zuoraPayload:q,zuora_id:E,hosted_page_id:N}=e,C=Date.now();i=C;let P=()=>i===C;function a(e){null==n||n(function(e){if(!(null==e?void 0:e.directResults))return e;let{key:t,message:r,code:i}=e.directResults,n=d(i);if(n)return{...e,displayMessage:`The provided ${n} is invalid.`};let s=c(t);if(s)return{...e,displayMessage:`The provided ${s} is invalid.`};let o=h(r);return o?{...e,displayMessage:`The provided ${o} is invalid.`}:"key"in e.directResults&&"error"===t?{...e,displayMessage:m(r)}:e}(e)),S()}w(),await v(e=>{P()&&e.origin.endsWith(".zuora.com")&&console.log("[Zuora event]",e)});let I=(T||[]).reduce((e,t,r)=>(r<15?e[`field_passthrough${r+1}`]=t:console.error("[Zuora Passthrough Error] Only 15 passthrough params allowed"),e),{}),O=y({key:t,card:q});g().setEventHandler("onloadCallback",()=>{P()&&(g().setAgreement("External","Recurring","Visa,Mastercard,Discover",""),g().allowScroll(),$(),null==o||o(),setTimeout(()=>{g().submit()},2e3))}),g().renderWithErrorHandler({id:N||(A?"8ad088718045e6340180479027db13c7":"8a12892d804132bf01804c4c9bb718d7"),key:t,signature:l,style:u,submitEnabled:p,tenantId:f,token:b,url:k,field_accountId:E,...I},O,e=>{P()&&(console.log("[Zuora callback invoked]",e),["true",!0].includes(null==e?void 0:e.success)?null==r||r(e):"Response_From_Submit_Page"===e.responseFrom?a({displayMessage:"Failed to process payment",directResults:e}):null==s||s("Failed to load page"),S())},(e,t,r,i)=>{P()&&(console.error("[Zuora client error message invoked]",{key:e,code:t,message:r,rawGatewayInfo:i}),null==a||a({displayMessage:r,directResults:{key:e,code:t,message:r,rawGatewayInfo:i}}))},null,null,e=>{P()&&(console.log("[Zuora showing challenge modal]",e),_())})}catch(e){console.error("[Unknown error rendering Zuora page]",e),null==s||s(e)}}let $=()=>{let e=document.querySelector("#zuora_payment iframe");e&&(e.style.width="100%")},_=()=>{let e=document.getElementById("zuora_form_container");e&&(e.style.marginTop="1rem",e.style.opacity="1",e.style.height="auto")},w=()=>{let e=document.getElementById("zuora_form_container");e&&(e.style.marginTop="0",e.style.opacity="0",e.style.height="0")},S=()=>{let e=document.querySelector("#zuora_payment iframe");e&&e.remove(),w()};function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let A={amex:"AmericanExpress",discover:"Discover",mastercard:"MasterCard",visa:"Visa",jcb:"JCB",diners:"Diners"},T=e=>A[((0,a.gG)(e.number)||{}).type],q=e=>{var t,r;let i=(null==e?void 0:null===(r=e.reasons)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.message)||"Unable to process transaction",n=i.split(".").shift(),s=/PROCESSOR_DECLINED/.test(i)?". Please contact your bank for more information.":"";return`${n}${s}`},E=({card:e,token:t})=>{let{month:r,year:i}=(0,a.Dk)(e.expiration),n=T(e);return{accountKey:t.payment_gateway_id,cardHolderInfo:{cardHolderName:e.name,addressLine1:e.addressLine1||"placeholder",addressLine2:e.addressLine2,city:e.city,country:e.country,state:e.state,zipCode:e.zipCode},creditCardNumber:e.number,creditCardType:n,defaultPaymentMethod:!0,expirationMonth:r,expirationYear:i,securityCode:e.cvv}},N=({token:e,zuoraPayload:t,zuoraResponse:r})=>{if(!r.success)throw new o.A(q(r));try{let i=r.paymentMethodId;if(!i)throw Error("Missing paymentMethodId in Zuora response");let n=e.customer_id,s=e.organization_id;if(!n&&!s)throw Error("Missing customer_id or organization_id in token bundle from API");let o={type:"card",zuora_id:i,customer_id:n,data:{card_type:t.creditCardType,name:t.cardHolderInfo.cardHolderName,last4:t.creditCardNumber.substr(t.creditCardNumber.length-4),country:t.cardHolderInfo.country,state:t.cardHolderInfo.state,auth_transaction_id:r.authTransactionId},sandbox:e.sandbox,enterpriseException:e.enterpriseException};return Promise.resolve(o)}catch(e){throw s().notify(e,e=>{e.context="zuora-client ï¹¥ zuoraResponseToPaymentMethod"}),new o.A("Unable to process transaction")}};class C{constructor(e,t){k(this,"tokenBundle",void 0),k(this,"options",void 0),k(this,"hasRequiredFields",e=>{let{accountKey:t,cardHolderInfo:r,creditCardType:i,expirationMonth:n,expirationYear:s}=e;return![t,r,i,n,s].some(e=>!e)}),k(this,"createPaymentMethod",e=>{let t=E({card:e,token:this.tokenBundle});if(!this.hasRequiredFields(t))throw new o.A("Unsupported payment method");try{let{signature:e,token:r,secure:i}=this.tokenBundle;if(!e)throw Error("Missing signature in token bundle from API");if(!r)throw Error("Missing token in token bundle from API");if(i)return this.perform3DSecureHostedFrameSequence(t).then(e=>N({token:this.tokenBundle,zuoraPayload:t,zuoraResponse:e}));return fetch(this.tokenBundle.uri,{body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",signature:e,token:r},method:"POST",mode:"cors"}).then(e=>e.json()).then(e=>N({token:this.tokenBundle,zuoraPayload:t,zuoraResponse:e}))}catch(e){throw s().notify(e,e=>{e.context="zuora-client ï¹¥ createPaymentMethod"}),new o.A("Unable to process transaction")}}),k(this,"perform3DSecureHostedFrameSequence",async e=>{let{sandbox:t,uri:r,key:i,tenantId:n,signature:a,token:l,zuora_id:u,hosted_page_id:d}=this.tokenBundle;if(!n||!i||!a||!l)throw console.error("perform3DSecureHostedFrameSequence did not receive all of the data needed",this.tokenBundle),s().notify({errorClass:"invalid-3d-response",errorMessage:"Insufficient parameters received for 3D Secure"},e=>{e.context="zuora-client ï¹¥ perform3DSecureHostedFrameSequence"}),new o.A("Unable to process transaction");return new Promise((s,c)=>{b({rendererParams:{sandbox:t,url:r,key:i,tenantId:n,signature:a,token:l,submitEnabled:!0,style:"inline",passthroughParams:[this.options.darkMode?"theme-dark":"theme-light"],zuoraPayload:e,zuora_id:u,hosted_page_id:d},rendererPrepopulateFields:{},onRenderSuccess:()=>{console.log("[Zuora iframe rendered]")},onRenderError:e=>console.error("[Zuora failed to render]",e),onSubmissionError:e=>{console.error("[Zuora failed to process]",e),c(new o.A(e.displayMessage))},onSubmissionSuccess:e=>{if(!(null==e?void 0:e.refId))return c(new o.A("Internal Error: Failed to get a refId > paymentMethodId"));s({paymentMethodId:e.refId,authTransactionId:e.zThreeDs2TxId,success:!0})}})})}),this.tokenBundle=e,this.options=t||{}}}},86715:(e,t,r)=>{r.d(t,{PF:()=>s,QL:()=>a,fR:()=>i,x2:()=>n});let i={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},n={AA:"Armed Forces America",AE:"Armed Forces",AK:"Alaska",AL:"Alabama",AP:"Armed Forces Pacific",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Washington DC",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},s={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},o=[...Object.values(n),...Object.values(s)];function a(e){let t="";if(2===e.length)t=n[e.toUpperCase()]||s[e.toUpperCase()];else if(e){let r=e.toLowerCase().replace(/\W/gi,"");t=o.find(e=>r===e.toLowerCase().replace(/\W/gi,""))||""}return t||e}}}]);