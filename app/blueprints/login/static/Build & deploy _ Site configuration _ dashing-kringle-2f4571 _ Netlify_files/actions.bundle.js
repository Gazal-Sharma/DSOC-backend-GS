"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4236],{67482:(e,t,n)=>{n.d(t,{O_:()=>d,Pd:()=>c,TK:()=>l,_J:()=>g,vd:()=>s,xC:()=>u});var i=n(12345),r=n(76690),a=n(53372);let o=(0,i.q)("accountCommitters"),s=(0,i.B)("accountCommitters",o);function u(e,t){let n=e.accountCommitters.getIn(["pages",t,"ids"]);return null==n?void 0:n.map(t=>e.accountCommitters.getIn(["entities",t]))}function c(e){return(0,a.Nt)((t,n,i)=>i.accountCommitters(e.get("id"),{}).then(n=>{t(o.accountCommittersSuccess(e.get("slug"),n.data))}))}function l(e,t,n){return(0,a.Nt)((i,r,a)=>a.createCommitter(e.get("id"),t,n).then(t=>{i(c(e))}))}function d({userId:e,account:t,committerId:n,memberId:i,inviteId:o}){return(0,a.Nt)((a,s,u)=>u.updateCommitter(t.get("id"),n,i,o).then(o=>{r.m39.appCommitterMerged({accountId:t.get("id")||"",committerId:n,memberId:i,type:i?"merge":"unmerge",userId:e}),a(c(t))}))}function g(e,t){return(0,a.Nt)((n,i,r)=>r.deleteCommitter(e.get("id"),t).then(t=>{n(c(e))}))}},87324:(e,t,n)=>{n.d(t,{$S:()=>U,Av:()=>I,Ed:()=>D,L4:()=>v,Lg:()=>T,MD:()=>C,ON:()=>L,Xp:()=>A,Zo:()=>w,b_:()=>R,pj:()=>b,pt:()=>P,s1:()=>N,x$:()=>E});var i=n(43536),r=n(44110),a=n(66602),o=n(56315),s=n(12345),u=n(45235),c=n(25633),l=n(17250),d=n(53372),g=n(88704);let p=(0,s.q)("accountMembers"),f="INVITE_CLEAR_FAILURES",h="INVITE_FAILURE",m="ACCOUNT_RECENT_MEMBERS_SUCCESS",S=(0,a.A)(f),_=(0,a.A)(h),y=(0,a.A)(m),v=(0,s.B)("accountMembers",p,{handler:(e,t)=>{switch(t.type){case f:return e.setIn(["inviteErrors"],(0,r.List)());case h:{let n=e.get("inviteErrors")||(0,r.List)();return e.setIn(["inviteErrors"],n.push(t.payload))}case m:{let{accountSlug:n,data:i}=t.payload;return e.setIn(["recentMembers",n],(0,r.fromJS)(i))}default:return null}}});function I(e,t){let n=e.accountMembers.getIn(["pages",t,"ids"]);return n&&n.map(t=>e.accountMembers.getIn(["entities",t])).sort((e,t)=>{let n=e=>!0===e.get("pending");return n(e)&&!n(t)?1:!n(e)&&n(t)?-1:new Date(e.get("updated_at"))<new Date(t.get("updated_at"))?1:-1})}function A(e,t){return e.accountMembers.getIn(["recentMembers",null==t?void 0:t.get("slug")])}function E(e,t){return e.accountMembers.getIn(["entities",t])}function N(e,t){return e.accountMembers.getIn(["pages",t])}function b(e){return e.accountMembers.getIn(["inviteErrors"])}function C(e,t={}){return(0,d.Nt)((n,i,r)=>r.accountMembers(e.get("slug"),t).then(t=>n(p.accountMembersSuccess(e.get("slug"),t.data,t.pagination))))}function w(e){return(0,d.Nt)((t,n,i)=>{let r=null==e?void 0:e.get("slug");return i.accountMembers(r,{page:1,per_page:5}).then(e=>t(y({accountSlug:r,data:e.data})))})}function R(e,t){return(0,d.Nt)((n,i,r)=>r.accountMember(null==e?void 0:e.get("slug"),t).then(e=>n(p.accountMemberSuccess(e.data))))}function T(e,{emails:t,role:n,site_ids:a,site_access:s,build_id:g},p){return(0,d.Nt)((d,f,h)=>(d(S()),Promise.all(t.map(t=>h.inviteAccountMember(e.get("slug"),{email:t,role:n,site_ids:a,site_access:s,build_id:g}).catch(e=>{d(_((0,r.fromJS)({email:t,error:e.message})))}))).finally(()=>{if(d((0,l.yG)(e.get("slug"))),(0,u.qn)(n)){d((0,c.Xx)(e));let t=(0,i.$A)(e.toJS(),"reviewers");d((0,o.VC)(t))}else{d(C(e));let t=(0,i.$A)(e.toJS(),p?"members?addOwner=true":"members");d((0,o.VC)(t))}})))}function U(e,t){return(0,d.Nt)((n,i,r)=>r.inviteAccountMember(e.get("slug"),{email:t.get("email"),role:t.get("role"),site_ids:t.get("site_ids"),site_access:t.get("site_access"),build_id:t.get("build_id")}).finally(()=>{n(C(e)),n((0,l.yG)(e.get("slug")))}))}function D(){return S()}function P(e,t){return(0,d.Nt)((n,i,r)=>r.removeAccountMember(e.get("slug"),t.get("id")).then(()=>{(0,g.QR)(i()).get("id")===t.get("id")?n((0,l.vz)(e)):(n(C(e)),n((0,c.Xx)(e))),n((0,l.yG)(e.get("slug")))}))}function L(e,t,{role:n,site_access:i,site_ids:r}){return(0,d.Nt)((a,o,s)=>s.updateAccountMember(e.get("slug"),t.get("id"),{role:n,site_access:i,site_ids:r}).then(t=>{a((0,l.yG)(e.get("slug"))),a(C(e)),a((0,c.Xx)(e))}))}},19594:(e,t,n)=>{n.d(t,{Kw:()=>s,h_:()=>o,oj:()=>u});var i=n(12345),r=n(53372);let a=(0,i.q)("accountReceipts"),o=(0,i.B)("accountReceipts",a);function s(e,t){let n=t&&e.accountReceipts.getIn(["pages",t.get("slug"),"ids"]);return n&&n.map(t=>e.accountReceipts.getIn(["entities",t])).filter(e=>e.get("html_stored"))}function u(e){return(0,r.Nt)((t,n,i)=>i.accountReceipts(e.get("slug")).then(n=>t(a.accountReceiptsSuccess(e.get("slug"),n.data,n.pagination))))}},25633:(e,t,n)=>{n.d(t,{$H:()=>p,Xx:()=>c,ZM:()=>g,_B:()=>u,h:()=>l,nH:()=>d});var i=n(12345),r=n(45235),a=n(17250),o=n(53372);let s=(0,i.q)("accountReviewerMembers"),u=(0,i.B)("accountReviewerMembers",s);function c(e,t={per_page:50}){let n=e.get("slug");return(0,o.Nt)((e,i,r)=>r.accountReviewerMembers(n,t).then(t=>e(s.accountReviewerMembersSuccess(n,t.data,t.pagination))))}function l(e,t){let n=null==e?void 0:e.accountReviewerMembers.getIn(["pages",t,"ids"]);return null==n?void 0:n.map(t=>e.accountReviewerMembers.getIn(["entities",t]))}function d(e,t){return e.accountReviewerMembers.getIn(["pages",t])}function g(e,t,{state:n}){let i=t.get("id");return(0,o.Nt)((t,o,u)=>u.updateAccountMember(e.get("slug"),i,{role:r.Yq,self_invite_state:n}).then(()=>{t((0,a.yG)(e.get("slug"))),t(c(e))}).catch(e=>t(s.reviewerMembersFailure({memberId:i,error:e}))))}function p(e){return e.accountReviewerMembers.getIn(["error"])}},18415:(e,t,n)=>{n.d(t,{$W:()=>d,Er:()=>f,GQ:()=>s,Q9:()=>l,Uc:()=>g,_q:()=>u,eu:()=>p,or:()=>c});var i=n(12345),r=n(53372),a=n(65900);let o=(0,i.q)("accountSiteLabels"),s=(0,i.B)("accountSiteLabels",o);function u(e,t){let n=e.accountSiteLabels.getIn(["pages",t,"ids"]);return null==n?void 0:n.map(t=>e.accountSiteLabels.getIn(["entities",t]))}function c(e,t){return e.accountSiteLabels.getIn(["pages",t])}function l(e,t={page:1}){return(0,r.Nt)((n,i,r)=>r.accountSiteLabels(null==e?void 0:e.get("id"),t).then(t=>{n(o.accountSiteLabelsSuccess(e.get("slug"),t.data,t.pagination))}))}function d(e,t){return(0,r.Nt)((n,i,r)=>r.createAccountSiteLabel(null==e?void 0:e.get("id"),t).then(t=>(n(l(e)),t)))}function g(e,t,n){return(0,r.Nt)((i,r,a)=>a.updateAccountSiteLabel(null==e?void 0:e.get("id"),t,n).then(()=>{i(l(e))}))}function p(e,t){return(0,r.Nt)((n,i,r)=>r.deleteAccountSiteLabel(null==e?void 0:e.get("id"),t).then(()=>{n(l(e))}))}function f(e,t,n){return(0,r.Nt)((i,r,o)=>{o.updateSiteLabels(e.get("id"),t,n.get("id")).then(()=>{i((0,a.UK)(n.get("name")))})})}},17250:(e,t,n)=>{n.d(t,{$0:()=>z,$k:()=>el,Aw:()=>en,BU:()=>q,Bi:()=>j,Df:()=>ed,I5:()=>V,M9:()=>K,Mz:()=>es,N8:()=>ec,PR:()=>em,QS:()=>eS,Rc:()=>et,U5:()=>eg,V3:()=>ei,Wb:()=>ef,_I:()=>eo,_m:()=>H,gR:()=>ep,gz:()=>eu,j1:()=>eh,lw:()=>X,qm:()=>W,vd:()=>ea,vz:()=>ee,w8:()=>Z,xk:()=>J,yA:()=>Q,yG:()=>G,yO:()=>Y,z0:()=>x});var i=n(49207),r=n(44110),a=n(66602),o=n(56315),s=n(12345),u=n(76690),c=n(94985),l=n(85342),d=n(41443),g=n(23015),p=n(63521),f=n(29383),h=n(27180),m=n(45235),S=n(82364),_=n(75060),y=n(53372),v=n(88704),I=n(99581),A=n(65900),E=n(65915),N=n(26460);let b="ACCOUNT_DELETE_SUCCESS",C="ACCOUNT_TYPES_SUCCESS",w="ACCOUNT_COMPLIANCE_SUCCESS",R="SET_SELECTED_ACCOUNT",T="SET_REQUESTED_ACCOUNT_TYPE",U="ACCOUNT_BUILD_USAGE_SUCCESS",D="ACCOUNT_EDGE_FUNCTION_BANDWIDTH_USAGE_SUCCESS",P="ACCOUNT_SITES_SUMMARY_SUCCESS",L=(0,s.q)("accounts"),k=(0,a.A)(C,e=>e),M=(0,a.A)(w,(e,t)=>({id:e,compliance:t})),O=(0,a.A)(D,(e,t)=>({id:e.get("id"),edgeFunctions:t})),F=(0,a.A)(U,(e,t)=>({id:e.get("id"),status:t})),$=(0,a.A)(P,(e,t)=>({id:e,data:t})),B=(0,a.A)(b,e=>({id:e.get("id"),slug:e.get("slug")}));function z(e){return(t,n)=>{t((0,I.KN)({accountId:e.get("id"),from:new Date(e.get("current_usage_period_start")).getTime(),to:new Date(e.get("next_usage_period_start")).getTime()})),t((0,y.Nt)((t,n,i)=>i.accountBuildStatus(e.get("slug")).then(n=>{t(F(e,n.data))}))),t((0,y.Nt)((t,n,i)=>i.accountEdgeFunctionsUsage(e.get("slug")).then(n=>{t(O(e,n.data))}))),(0,c.Bs)(e)&&t((0,I.$h)({accountId:e.get("id"),from:new Date(e.get("current_usage_period_start")).getTime(),to:new Date(e.get("next_usage_period_start")).getTime()}))}}function J(){return(0,y.Nt)((e,t,n)=>n.accounts().then(t=>{e(L.accountsSuccess("accounts",t.data,t.pagination)),h.A.setContext("accounts",t.data.map(e=>(0,d.kH)(e)))}))}function G(e){return(0,y.Nt)((t,n,i)=>i.account(e).then(e=>t(L.accountSuccess(e.data))).then(n=>{var i;return t(function({accountId:e,slug:t}){return(0,y.Nt)((n,i,r)=>r.accountCompliance(t).then(t=>n(M(e,t.data))))}({accountId:null==n?void 0:null===(i=n.payload)||void 0===i?void 0:i.id,slug:e})),n}).catch(n=>t(L.accountFailure(e,n))))}function q(e){return(t,n)=>{t(G(e.get("slug"))).then(()=>{t(z(e))})}}function j(){return(0,y.Nt)((e,t,n)=>n.accountTypes().then(t=>e(k(t.data))))}function Y({accountId:e}){return(0,y.Nt)((t,n,i)=>i.accountSitesSummary(e).then(n=>t($(e,n))).catch(e=>new l.A(e)))}let K=(e,t)=>e.accounts.get(er({id:t},"sites_summary"));function H(e){return(0,y.Nt)((t,n,i)=>i.createAccount(e).then(({data:n})=>{t(L.accountSuccess(n)),e.transferSite&&t((0,A.FW)(e.transferSite,(0,r.Map)(n))),t(J()),t((0,o.VC)(`/teams/${n.slug}`)),t((0,E.sx)({event:"subscription_created",category:"subscription",label:`Team plan ${n.type_name}`}))}))}function x(e,t){return(0,y.Nt)((n,r,a)=>a.updateAccount(e.get("id"),t).then(({data:o})=>{let s=(0,v.QR)(r()),{logo:c}=t;if(void 0!==c&&a.updateAccountLogo(e.get("id"),c).catch(e=>new l.A(e)),n((0,A.kX)()),n(L.accountSuccess(o)),e.get("type_slug")===i.yn&&o.type_slug===i._X&&o.type_id===t.type_id){let n=(0,f.Hd)("upgradePro")?"www":"app",i=(0,f.Hd)("gaID")?(0,f.Hd)("gaID"):"";u.m39.appFlowUpgradePro({category:"flow",label:"Team upgraded to Pro",accountId:e.get("id"),gaID:i||"",source:n,trialRequested:!!t.free_trial,email:null==s?void 0:s.get("email")}),(0,f.Hd)("upgradePro")&&(0,f.X)("upgradePro")}if((e.get("type_slug")===i.yn||e.get("type_slug").match(/pro/))&&o.type_slug===i.dh&&o.type_id===t.type_id){let t=(0,f.Hd)("upgradeBusiness")?"www":"app",n=(0,f.Hd)("gaID")?(0,f.Hd)("gaID"):"";u.m39.appFlowUpgradeBusiness({category:"flow",label:"Team upgraded to Business",accountId:e.get("id"),gaID:n||"",source:t}),(0,f.Hd)("upgradeBusiness")&&(0,f.X)("upgradeBusiness")}e.get("type_slug")===i.vL&&(o.type_slug===i.yn||o.type_slug===i._X)&&o.type_id===t.type_id&&u.m39.appEnterpriseTrialDowngrade({newPlanTypeSlug:o.type_slug,daysLeftOnTrial:(0,p.fJ)(e)});let d=e.get("slug"),{slug:g}=o;d!==g&&n((0,N.d9)(document.location.pathname.replace(`/teams/${d}/`,`/teams/${g}/`)))}))}function V(e,t){let n=e.get("slug");return(0,y.Nt)((e,i,r)=>r.updateAccountSecurityContacts(n,t).then(t=>e(G(n))))}function W({account:e,data:t}){let n=e.get("slug");return(0,y.Nt)((e,i,r)=>r.updateAccount(n,t).then(t=>e(G(n))))}function Q(e,t){return(0,y.Nt)((n,i,r)=>r.updateAccount(e.get("id"),t).then(()=>{let{logo:i}=t;if(void 0!==i)return r.updateAccountLogo(e.get("id"),i).then(()=>{n(G(e.get("slug")))}).catch(e=>new l.A(e))}))}function Z(e){return(0,y.Nt)((t,n,i)=>i.deleteAccountLogo(e.get("id")).then(()=>{t(G(e.get("slug")))}).catch(e=>new l.A(e)))}function X(e){return u.m39.appAccountDelete({accountId:null==e?void 0:e.get("id"),accountSlug:null==e?void 0:e.get("slug")}),(0,y.Nt)((t,n,i)=>i.deleteAccount(e.get("id")).then(()=>t(ee(e))))}function ee(e){return(t,n)=>{t((0,A.kX)()),t(B(e)),t((0,N.d9)("/"))}}function et(e){return(0,f.AP)("nf-team",e),{type:R,slug:e}}function en(e,t=!1,n=!1){return{type:T,payload:{accountTypeRequested:e,isNewAccountTypeRequested:t,isTrialAccountTypeRequested:n}}}function ei(){return en(null)}let er=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),ea=(0,s.B)("accounts",L,{key:"slug",handler:(e,t)=>{switch(t.type){case C:return e.set("accountTypes",(0,r.fromJS)(t.payload));case R:return e.set("selected",t.slug);case T:return e.set("accountTypeRequested",t.payload.accountTypeRequested).set("isNewAccountTypeRequested",t.payload.isNewAccountTypeRequested).set("isTrialAccountTypeRequested",t.payload.isTrialAccountTypeRequested);case w:return e.set(er(t.payload,"compliance"),(0,r.fromJS)(e_(t.payload.compliance)));case"ACCOUNT_CREATOR_SUCCESS":return e.set(er(t.payload,"creator"),(0,r.fromJS)(t.payload));case"ACCOUNT_UPGRADE_PRO":return e.set("upgradePro",(0,r.fromJS)(t.payload.id));case U:return e.set(er(t.payload,"build_minutes"),(0,r.fromJS)({used:t.payload.status.minutes?t.payload.status.minutes.current:t.payload.status.minutes_used}));case D:return e.set(er(t.payload,"edge_functions"),(0,r.fromJS)(t.payload.edgeFunctions));case P:return e.set(er(t.payload,"sites_summary"),(0,r.fromJS)(t.payload.data));case b:return e.deleteIn(["entities",t.payload.slug]).setIn(["pages","accounts","ids"],e.getIn(["pages","accounts","ids"]).filter(e=>e!==t.payload.slug)).update("selected",e=>e===t.payload.slug?null:e);default:return null}}});function eo(e,t){return e.sites.getIn(["entities",t,"account_slug"])}function es(e,t){var n,i;let a=e.accounts.getIn(["entities",t]);return a?((0,S.fS)(a)&&(a=a.merge({user_capabilities:{billing:(0,_.U_)(a)}})),a=(a=a.mergeIn(["capabilities"],function(e,t){let n=e.bandwidth.get(er(t,"bandwidthUsageDomains")),i=e.accounts.get(er(t,"build_minutes")),a=e.accounts.get(er(t,"edge_functions"));if(!(null==n?void 0:n.has("groups"))){var o;let i=e.bandwidth.get(er(t,"bandwidthUsageConnect")),a=(null==n?void 0:n.get("used"))||0,s=(null==i?void 0:i.get("used"))||0;n=null==n?void 0:null===(o=n.set("used",a+s))||void 0===o?void 0:o.set("groups",(0,r.Map)({domains:a,data_layers:s}))}return n&&i&&(0,r.Map)({period_start_date:n.get("period_start_date"),period_end_date:n.get("period_end_date"),last_updated_at:n.get("last_updated_at"),bandwidth:n,build_minutes:i.set("included",t.getIn(["capabilities","build_minutes","included"])),edge_functions:a})}(e,a))).mergeIn(["compliance"],(n=a.get("id"),null===(i=e.accounts)||void 0===i?void 0:i.get(er({id:n},"compliance"))))):null}function eu(e,t){var n;let i=null===(n=e.accounts.get("entities"))||void 0===n?void 0:n.toJS(),r=Object.values(null!=i?i:{}).find(e=>(null==e?void 0:e.id)===t),a=null==r?void 0:r.slug;return a&&es(e,a)}function ec(e){let t=e.accounts.getIn(["pages","accounts","ids"]),n=t&&t.map(t=>es(e,t));return n&&(0,r.List)(n.sort((e,t)=>e.get("name").localeCompare(t.get("name"))))}function el(e,t){return e.accounts.getIn(["entities",t,"error"])}function ed(e){let t=e.user,n=ec(e),i=null==t?void 0:t.get("preferred_account_id");return(null==n?void 0:n.find(e=>(null==e?void 0:e.get("id"))===i))||t&&n&&(n.find(e=>!!e&&e.get("default"))||n.first())}function eg(e){return e.accounts.get("accountTypeRequested")}function ep(e){return e.accounts.get("isNewAccountTypeRequested")}function ef(e){return e.accounts.get("isTrialAccountTypeRequested")}function eh(e){return e.accounts.get("accountTypes")}function em(e){let t=e.accounts.get("selected")||(0,f._S)("nf-team");return es(e,t)||ed(e)}function eS({state:e,account:t,pathname:n,search:r}){if("/"!==n)return null;if(function(e){let t=e.accounts.get("entities").toList();return null!=t&&!!t.some(e=>(0,m.XR)(null==e?void 0:e.get("role")))&&(null==t||t.every(e=>!!e&&(!!(0,m.XR)(e.get("role"))||!!(e.get("default")&&e.get("type_slug")===i.yn&&1===e.get("members_count")&&(0,S.$m)(e)))),!1)}(e))return"/auth-create";let a=t&&(0,g.$A)(t);return a?r?`${a}${r}`:a:null}let e_=e=>(e&&!1===e.private_corp_repos.in_compliance||(e.private_corp_repos.in_compliance=!0),e)},56020:(e,t,n)=>{let i;n.d(t,{$Z:()=>x,B7:()=>et,C:()=>ec,Jh:()=>G,Jj:()=>es,LY:()=>en,N1:()=>e_,Rv:()=>em,U9:()=>V,Y2:()=>J,YP:()=>eS,ZO:()=>H,_G:()=>ey,cL:()=>W,cT:()=>X,cx:()=>K,dP:()=>ed,eJ:()=>eh,fg:()=>el,gI:()=>Z,gQ:()=>z,gR:()=>j,kU:()=>Q,oC:()=>ep,os:()=>eg,qy:()=>Y,s$:()=>ee,sY:()=>ei,vB:()=>eo,xx:()=>ef,yZ:()=>er,zS:()=>eu});var r=n(44110),a=n(66602),o=n(14989),s=n(58963),u=n(53372),c=n(24204),l=n(46286),d=n(59989),g=n(65900);let p="ANALYTICS_METRIC_SUCCESS",f="ANALYTICS_METRIC_FETCHING_DONE",h="ANALYTICS_METRIC_FETCHING_STARTED",m="pageviews",S="pageviews-summary",_="unique-visitors",y="unique-visitors-summary",v="top-locations",I="top-sources",A="top-pages",E="bandwidth-used",N="bandwidth-used-summary",b="not-found",C="functions-invocations",w="functions-metrics",R="functions-metrics-summary",T="edge-functions-invocations",U="edge-functions-metrics",D="edge-functions-metrics-summary",P={resolution:"day",days:30},L=30,k=(0,a.A)(p,(e,t,n,{data:i})=>({metric:e,siteId:t.get("id"),period:n,data:i})),M=(0,a.A)(f,(e,t)=>({metric:e,siteId:t.get("id")})),O=(0,a.A)(h,(e,t)=>({metric:e,siteId:t.get("id")})),F=(0,a.A)(p,(e,t,n,{data:i})=>({metric:e,siteId:t.get("id"),period:n,data:i})),$=(0,a.A)(f,(e,t)=>({metric:e,siteId:t.get("id")})),B=(0,a.A)(h,(e,t)=>({metric:e,siteId:t.get("id")}));function z(e){let t=e.get("id");return(0,u.Nt)((n,i,r)=>r.enableAnalytics(t).then(()=>n((0,g.UK)(e.get("name")))).then(e=>n((0,g.Ej)(e))))}function J(e){let t=e.get("id"),n=e.get("analytics_instance_id");return n?(0,u.Nt)((i,r,a)=>a.deleteAnalytics(t,n).then(()=>i((0,g.UK)(e.get("name"))))):Promise.resolve()}function G(e){return(t,n)=>{let{config:r}=n();return e(t,n,i=i||new s.Ay(r))}}function q(e="day",t=30,n=0,i){let r=new Date;return"hour"===e?"uniqueVisitors"===i?{from:(0,o.gg)(r,1+n).getTime(),to:(0,o.gg)(r,n).getTime()-36e5,resolution:e,minusOffsetDays:n}:{from:(0,o.gg)(r,1+n).getTime(),to:(0,o.gg)(r,n).getTime(),resolution:e,minusOffsetDays:n}:{from:(0,o.ol)((0,o.gg)(r,t+n)).getTime(),to:n?(0,o.D0)((0,o.gg)(r,n)).getTime():r.getTime(),resolution:e,minusOffsetDays:n}}function j(e="day",t=30,n=0,i){return 7===t?{period:q(e,t,n),periodByRange:q("range",t,n)}:1===t?{period:q(e,24,n,i),periodByRange:q("range",t,n)}:{period:q(e,t,n),periodByRange:q("range",t,n)}}function Y(e,{resolution:t,days:n,minusOffsetDays:i}=P){let{period:r,periodByRange:a}=j(t,n,i);return L=n,G((t,n,i)=>Promise.all([t(O(S,e)),t(O(m,e)),i.pageviews(e.get("id"),r).then(n=>t(k(m,e,r,n))),i.pageviews(e.get("id"),a).then(n=>t(k(S,e,r,n)))]).then(()=>t(M(m,e))).then(()=>t(M(S,e))))}function K(e,t){return e.analytics.get(`${t.get("id")}-${m}`)&&e.analytics.get(`${t.get("id")}-${m}`).toJS()}function H(e,{resolution:t,days:n,minusOffsetDays:i=0}=P){let{period:r,periodByRange:a}=j(t,n,i,"uniqueVisitors");return L=n,G((t,n,i)=>Promise.all([t(O(y,e)),t(O(_,e)),i.uniqueVisitors(e.get("id"),r).then(n=>t(k(_,e,r,n))),i.uniqueVisitors(e.get("id"),a).then(n=>t(k(y,e,a,n)))]).then(()=>t(M(_,e))).then(()=>t(M(y,e))))}function x(e,t){return e.analytics.get(`${t.get("id")}-${_}`)&&e.analytics.get(`${t.get("id")}-${_}`).toJS()}function V(e,{resolution:t,days:n,minusOffsetDays:i=0}=P){let{period:r}=j(t,n,i);return G((t,n,i)=>(t(O(v,e)),i.topLocations(e.get("id"),r).then(n=>t(k(v,e,r,n))).then(()=>t(M(v,e)))))}function W(e,t){return e.analytics.get(`${t.get("id")}-${v}`)&&e.analytics.get(`${t.get("id")}-${v}`).toJS()}function Q(e,{resolution:t,days:n,minusOffsetDays:i=0}=P){let{period:r}=j(t,n,i);return G((t,n,i)=>(t(O(I,e)),i.topSources(e.get("id"),r).then(n=>t(k(I,e,r,n))).then(()=>t(M(I,e)))))}function Z(e,t){return e.analytics.get(`${t.get("id")}-${I}`)&&e.analytics.get(`${t.get("id")}-${I}`).toJS()}function X(e,{resolution:t,days:n,minusOffsetDays:i=0}=P){let{period:r}=j(t,n,i);return G((t,n,i)=>(t(O(A,e)),i.topPages(e.get("id"),r).then(n=>t(k(A,e,r,n))).then(()=>t(M(A,e)))))}function ee(e,t){return e.analytics.get(`${t.get("id")}-${A}`)&&e.analytics.get(`${t.get("id")}-${A}`).toJS()}function et(e,{resolution:t,days:n,minusOffsetDays:i=0}=P){let{period:r,periodByRange:a}=j(t,n,i);return L=n,G((t,n,i)=>Promise.all([t(O(N,e)),t(O(E,e)),i.bandwidthUsed(e.get("id"),r).then(n=>t(k(E,e,r,n))),i.bandwidthUsed(e.get("id"),a).then(n=>t(k(N,e,a,n)))]).then(()=>t(M(E,e))).then(()=>t(M(N,e))))}function en(e,t){return e.analytics.get(`${t.get("id")}-${E}`)&&e.analytics.get(`${t.get("id")}-${E}`).toJS()}function ei(e,{resolution:t,days:n,minusOffsetDays:i=0}=P){let{period:r}=j(t,n,i);return G((t,n,i)=>(t(O(b,e)),i.notFound(e.get("id"),r).then(n=>t(k(b,e,r,n))).then(()=>t(M(b,e)))))}function er(e,t){return e.analytics.get(`${t.get("id")}-${b}`)&&e.analytics.get(`${t.get("id")}-${b}`).toJS()}function ea(e,t=null){return e.reduce((e,n)=>e+(t?n[t]:n[1]),0)}function eo(){return L}function es(e,t){var n;let{data:i,status:r,timePeriod:a,isFetching:o}=e.analytics.get(`${t.get("id")}-${S}`)&&e.analytics.get(`${t.get("id")}-${S}`).toJS()||{},{data:s,status:u,timePeriod:c,isFetching:l}=e.analytics.get(`${t.get("id")}-${y}`)&&e.analytics.get(`${t.get("id")}-${y}`).toJS()||{},{data:d,status:g,timePeriod:p,isFetching:f}=e.analytics.get(`${t.get("id")}-${N}`)&&e.analytics.get(`${t.get("id")}-${N}`).toJS()||{};return{timePeriod:a||c||p,pageviewSummary:{total:i&&ea(i),status:r,isFetching:o},uniqueVisitorSummary:{total:(null==s?void 0:null===(n=s[0])||void 0===n?void 0:n[1])||0,status:u,isFetching:l},bandwidthSummary:{total:d&&ea(d,"siteBandwidth"),status:g,isFetching:f}}}let eu=(e=(0,r.Map)(),t)=>{switch(t.type){case h:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!0);case p:return e.set(`${t.payload.siteId}-${t.payload.metric}`,(0,r.fromJS)({data:t.payload.data,timePeriod:{from:t.payload.period.from,to:t.payload.period.to,minusOffsetDays:t.payload.period.minusOffsetDays},status:"current"}));case f:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!1);default:return e}};function ec(e,t){var n;return(null===(n=e.analytics.get(`${t.get("id")}-${C}`))||void 0===n?void 0:n.toJS())||{}}function el(e,t){var n;return(null===(n=e.analytics.get(`${t.get("id")}-${T}`))||void 0===n?void 0:n.toJS())||{}}function ed(e,t){var n;return(null===(n=e.analytics.get(`${t.get("id")}-${w}`))||void 0===n?void 0:n.toJS())||{}}function eg(e,t){var n;return(null===(n=e.analytics.get(`${t.get("id")}-${U}`))||void 0===n?void 0:n.toJS())||{}}function ep(e,t){var n;return(null===(n=e.analytics.get(`${t.get("id")}-${R}`))||void 0===n?void 0:n.toJS())||{}}function ef(e,t){var n;return(null===(n=e.analytics.get(`${t.get("id")}-${D}`))||void 0===n?void 0:n.toJS())||{}}function eh({siteName:e,branch:t,func:n,period:i,byStatus:r=!1}){return G((a,s,u)=>{let l;let p=(0,g.Gd)(s(),e);return t&&(l=`branch:${t}`),(0,g.lp)(s(),p)||a((0,g.Xz)(p)),(0,d.cq)(s(),p,l)||a((0,d.gK)(p,l)),(0,c.TO)(s(),p,{filter:p.getIn(["build_settings","repo_branch"]),state:"ready"})||a((0,c.C5)(p,{filter:p.getIn(["build_settings","repo_branch"]),state:"ready",from:Math.floor((0,o.gg)(new Date,30).getTime()/1e3)})),a(function({branch:e,site:t,func:n,period:i}){return G((r,a,o)=>(r(O(R,t)),o.functionsMetrics({siteId:t.get("id"),from:i.from,to:i.to,branch:e,filter:["sum_duration","count","errors"],resolution:"range",func:n,type:"functions"}).then(e=>r(k(R,t,i,e))).then(()=>r(M(R,t)))))}({site:p,branch:t,func:n,period:i})),a(function({site:e,branch:t,func:n="",period:i,byStatus:r=!1}){return G((a,o,s)=>(a(O(C,e)),s.functionsInvocations({siteId:e.get("id"),from:i.from,to:i.to,branch:t,func:n,byStatus:r,type:"functions"}).then(t=>a(k(C,e,i,t))).then(()=>a(M(C,e)))))}({site:p,branch:t,func:n,period:i,byStatus:r})),a(function({branch:e,site:t,period:n}){return G((i,r,a)=>(i(O(w,t)),a.functionsMetrics({siteId:t.get("id"),from:n.from,to:n.to,branch:e,filter:["avg_duration","count","errors","name","p_durations"],resolution:"range",type:"functions"}).then(e=>i(k(w,t,n,e))).then(()=>i(M(w,t)))))}({site:p,branch:t,period:i}))})}function em(e,t,n){let i=(0,d.cq)(e,t,n);return(null==i?void 0:i.reduce((e,t)=>e.set(t.get("n"),{displayName:t.get("dn"),systemFunction:t.get("g"),scheduledFunction:t.get("schedule")}),(0,r.Map)()).toJS())||{}}function eS(e,t){let n=(0,l.Vr)(e,t.get("deploy_id"));return(null==n?void 0:n.reduce((e,t)=>e.set(t.function,{displayName:t.function}),(0,r.Map)()).toJS())||{}}function e_({siteName:e,branch:t,func:n,period:i}){return G((r,a,s)=>{let u=(0,g.Gd)(a(),e);(0,g.lp)(a(),u)||r((0,g.Xz)(u)),t||(t=u.getIn(["build_settings","repo_branch"]));let d=(0,c.TO)(a(),u,{filter:t,state:"ready"});if(d){var p,f;(0,l.Vr)(a(),null==d?void 0:null===(p=d.first())||void 0===p?void 0:p.get("id"))||r((0,l.nb)(null==d?void 0:null===(f=d.first())||void 0===f?void 0:f.get("id")))}else r((0,c.C5)(u,{filter:t,state:"ready",from:Math.floor((0,o.gg)(new Date,30).getTime()/1e3)})).then(e=>{var t,n;let i=(null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.entities[0])&&(null==e?void 0:null===(n=e.payload)||void 0===n?void 0:n.entities[0].id),o=(0,l.Vr)(a(),i);!i||o&&o.length||r((0,l.nb)(i))});return r(function({branch:e,site:t,func:n,period:i}){return G((r,a,o)=>{let s=e===t.getIn(["build_settings","repo_branch"]);return r(B(D,t)),o.functionsMetrics({siteId:t.get("id"),from:i.from,to:i.to,branch:s?void 0:e,filter:["count","errors"],resolution:"range",func:n,type:"edge_functions",context:s?"production":void 0}).then(e=>r(F(D,t,i,e))).then(()=>r($(D,t)))})}({site:u,branch:t,func:n,period:i})),r(function({site:e,branch:t,func:n="",period:i}){return G((r,a,o)=>{let s=t===e.getIn(["build_settings","repo_branch"]);return r(B(T,e)),o.functionsInvocations({siteId:e.get("id"),from:i.from,to:i.to,branch:s?void 0:t,func:n,byStatus:!1,type:"edge_functions",context:s?"production":void 0}).then(t=>{r(F(T,e,i,t))}).then(()=>r($(T,e)))})}({site:u,branch:t,func:n,period:i})),r(function({branch:e,site:t,period:n}){return G((i,r,a)=>{let o=e===t.getIn(["build_settings","repo_branch"]);return i(B(U,t)),a.functionsMetrics({siteId:t.get("id"),from:n.from,to:n.to,branch:o?void 0:e,filter:["count","errors","name"],resolution:"range",type:"edge_functions",context:o?"production":void 0}).then(e=>i(F(U,t,n,e))).then(()=>i($(U,t)))})}({site:u,branch:t,period:i}))})}function ey(e=[]){return Object.entries(e.reduce((e,{time:t,status:n,count:i})=>(e[n]?e[n].push([new Date(t).getTime(),i]):e[n]=[[new Date(t).getTime(),i]],e),{})).map(([e,t])=>({name:e,data:t}))}},53372:(e,t,n)=>{n.d(t,{LG:()=>i.A,Nt:()=>d,gf:()=>f,h_:()=>g,v3:()=>p,x4:()=>l});var i=n(85342),r=n(44151),a=n(18740),o=n(27578),s=n(88704),u=n(78028);let c=null;function l(e){let{config:t,user:n}=e;return t&&n&&c&&c.token===n.get("access_token")?c:n?c=new a.A(t.set("accessToken",n.get("access_token"))):new a.A(t)}let d=(e,t)=>(n,a)=>{let o=(null==(t=null!=t?t:{})?void 0:t.type)==="create-api"?new r.A:l(a());if(!o)return Promise.reject(new i.A("No API"));let u=e(n,a,o);return u&&u.catch&&u.catch(e=>((null==e?void 0:e.code)===401&&n((0,s.P_)(e)),e instanceof i.A?Promise.reject(e):Promise.reject(new i.A(e))))};function g(e){return d((t,n,i)=>(0,u.zc)((r,a,o)=>e(t,n,i,o))(t,n))}function p(e){let t=e instanceof i.A?e:new i.A(e),n=null==t?void 0:t.toString().replace(/^Error:\s?/,"");if(""===n){var r;return(null==t?void 0:t.message)?t.message:null==t?void 0:null===(r=t.error)||void 0===r?void 0:r.message}return n}function f(){return l({user:(0,o.d4)(e=>e.user),config:(0,o.d4)(e=>e.config)})}},27789:(e,t,n)=>{n.d(t,{$7:()=>h,$Z:()=>g,K3:()=>d,Nb:()=>c,Sy:()=>p,YO:()=>u,cU:()=>o,iL:()=>f,tM:()=>l,v2:()=>y,vA:()=>S,vM:()=>_,vn:()=>s});var i=n(12345),r=n(53372);let a=(0,i.q)("applications"),o=(0,i.B)("applications",a,{key:"client_id"});function s(e){return(0,r.Nt)((t,n,i)=>i.application(e).then(e=>t(a.applicationSuccess(e.data))))}function u(){return(0,r.Nt)((e,t,n)=>n.applications().then(t=>e(a.applicationsSuccess("oauth",t.data,t.pagination))))}function c(e){return(0,r.Nt)((t,n,i)=>i.authorizedApplications(e).then(e=>t(a.applicationsSuccess("authorized",e.data,e.pagination))))}function l(e){return(0,r.Nt)((t,n,i)=>i.createApplication(e).then(e=>t(u())))}function d(e,t){return(0,r.Nt)((n,i,r)=>r.updateApplication(e,t).then(e=>n(a.applicationSuccess(e.data))))}function g(e){return(0,r.Nt)((t,n,i)=>i.removeApplication(e).then(e=>t(u())))}function p(e,t){return(0,r.Nt)((n,i,r)=>r.revokeAuthorizedApplication(e,t).then(e=>n(c(t))))}function f(e){return(0,r.Nt)((t,n,i)=>i.createPersonalToken(e))}function h(e,t){return e.applications.getIn(["entities",t])}function m(e){let t=e.applications.getIn(["pages","oauth","ids"]);return t&&t.map(t=>h(e,t))}function S(e){let t=e.applications.getIn(["pages","authorized","ids"]);return t&&t.map(t=>h(e,t))}function _(e){let t=m(e);return t&&t.filter(e=>!e.get("personal"))}function y(e){let t=m(e);return t&&t.filter(e=>e.get("personal"))}},89479:(e,t,n)=>{n.d(t,{L:()=>o,Lu:()=>l,mr:()=>c,uv:()=>u,xZ:()=>s});var i=n(12345),r=n(53372);let a=(0,i.q)("authProviders"),o=(0,i.B)("authProviders",a);function s(e){return(0,r.Nt)((t,n,i)=>i.authProviders(e.get("id")).then(n=>t(a.authProvidersSuccess(e.get("id"),n.data,n.pagination)),n=>t(a.authProvidersFailure(e.get("id"),n))))}function u(e,t){return(0,r.Nt)((n,i,r)=>{let{type:a,apiID:o,apiSecret:u}=t.toJS();return r.createAuthProvider(e.get("id"),a,o,u).then(t=>n(s(e)))})}function c(e,t){return(0,r.Nt)((n,i,r)=>r.removeAuthProvider(e.get("id"),t.get("name")).then(t=>n(s(e))))}function l(e,t){let n=e.authProviders.getIn(["pages",t,"ids"]);return n&&n.map(t=>e.authProviders.getIn(["entities",t]))}},88704:(e,t,n)=>{n.d(t,{BY:()=>el,Ce:()=>z,FH:()=>et,Fx:()=>Q,J3:()=>ec,JT:()=>q,JX:()=>er,Kp:()=>en,Lx:()=>j,M6:()=>J,MV:()=>ei,P_:()=>x,QF:()=>ed,QR:()=>e_,RM:()=>X,Sl:()=>eg,TK:()=>Z,Uu:()=>eS,WK:()=>es,Xh:()=>B,YK:()=>eu,b6:()=>U,d$:()=>D,hc:()=>ea,iD:()=>$,is:()=>ee,kQ:()=>eh,q7:()=>K,tq:()=>Y,xP:()=>em,xg:()=>ey,xu:()=>ef,xw:()=>W,y4:()=>H,ze:()=>V});var i=n(44110),r=n.n(i),a=n(66602),o=n(56315),s=n(76690),u=n(83463),c=n(2957),l=n(85342),d=n(49262),g=n(84290),p=n(72017),f=n(89774),h=n(29383),m=n(27180),S=n(11080),_=n(53372),y=n(78028),v=n(7719),I=n(26460);let A="nf-session",E="AUTH_ERROR",N="USER_REQUEST",b="RESET_PASSWORD_SUCCESS",C="CREATE_USER_LOADING",w="CREATE_USER_SUCCESS",R="LOGIN_USER",T="UPDATE_USER",U="LOGOUT_USER",D="USER_SIGNUP",P="USER_SUCCESS",L="USER_SUCCESS_SHALLOW",k=(0,a.A)(b),M=(0,a.A)(D,e=>({user:e})),O=(0,a.A)(C,e=>({loading:e})),F=(0,a.A)(w,e=>({data:e}));function $(){try{let e=(0,h._S)(A);return e&&JSON.parse(e).access_token}catch(e){return console.error("Error parsing data from local storage",e),null}}function B({reload:e=!1}={}){return(t,n)=>{let i=n(),r=e_(i);if(r&&!e)return Promise.resolve(r);let a=$();return a&&(0,d.s$)()?G(i.config,a).then(e=>(e.id!==(null==r?void 0:r.get("id"))?t({type:R,payload:e}):t({type:T,payload:e}),e_(n()))):Promise.resolve(null)}}function z(){return(0,_.Nt)((e,t,n)=>n.ensureUser(),{type:"create-api"})}function J(){return(0,_.Nt)((e,t,n)=>(e(O(!0)),n.getUser().then(({data:t})=>(e(F(t)),t)).finally(()=>e(O(!1)))),{type:"create-api"})}function G(e,t){let n={access_token:t};return(0,_.x4)({config:e,user:(0,i.Map)(n)}).user().then(e=>({...e.data,...n}))}function q({token:e,isSignup:t,isReviewer:n,isVerify:i,redirect:r,isCreateSignup:a}){return(o,s)=>(function(e,t,n){let{config:i}=e();return n?(0,_.x4)({config:i}).verifyUserByToken(t).then(e=>{if("error"===e.data.state)throw new l.A(e.data);return e.data.data.user}):G(i,t)})(s,e,i).then(async e=>{o({type:U});let i=(null==e?void 0:e.access_token)&&"use-http-auth-token"!==e.access_token;if((t||!(0,d.s$)())&&i)try{await (0,S.M_)({access_token:e.access_token})}catch(e){}o(j(e,t));let s=(0,h._S)("persistedQueryParams")||"";(0,h.sc)("persistedQueryParams");let u=(0,g.bi)(s,e=>d.wF.includes(e));!t||n||a||u.append("new_user",t);let c=u.toString()&&`?${u.toString()}`,l=`${r||""}${c}`;o(ep(`${l}`))}).catch(e=>Promise.reject(new l.A("Invalid authorization code")))}function j(e,t=!1,n=!1){return(r,a)=>{if(e=Object.assign({},e),t||e.isSignup?r(M(e)):n||s.m39.appUserLogin({category:"user",label:"User Login"}),delete e.isSignup,n||e.isUpdate){var o;delete e.isUpdate;let t=null!==(o=JSON.parse((0,h._S)(A)||"{}"))&&void 0!==o?o:{};e=(0,i.fromJS)(t).mergeDeep((0,i.fromJS)(e)).toJS()}let u={access_token:"use-http-auth-token"};(0,h.AP)(A,JSON.stringify(u));let{originAllowedToAuth:c,openerOrigin:l}=ey();try{!n&&c&&(0,S.pB)().then(e=>{u.access_control_token=e}).finally(()=>{window.opener.postMessage({type:"LOGIN",payload:JSON.stringify(u)},l)})}catch(e){console.log("auth ﹥ loginUser",e)}r({type:n?P:R,payload:{loggedInAt:Date.now(),isSignup:t,isUpdate:n,...e}})}}function Y(e,t){return(0,_.Nt)((n,i,r)=>r.fetchEdgeAccessToken(e,t))}function K(e){return(t,n)=>{(0,S.FG)(),(0,f.c7)(),(0,h.sw)({exclude:[c.GC,d.gn,d.U1,u.Vk]}),t({type:U}),t(ep(e))}}function H(e){return(0,_.Nt)(async(t,n,i)=>{let r=e_(n());if(!(0,p.Bm)(null==r?void 0:r.get("email"))){i.destroyAccessToken();try{await t((0,_.Nt)((e,t,n)=>n.logout(),{type:"create-api"}))}catch(e){}}return m.A.shutdown(),t(K(e))})}function x(e){return{type:E,payload:e}}function V(e){return(0,_.Nt)((t,n,i)=>i.resetPasswordEmail(e))}function W(e,t,n){return(0,_.Nt)((i,r,a)=>a.resetPassword(e,t,n).then(()=>{i(K("/")),i(k({success:!0}))}))}function Q(e){return(0,_.Nt)((t,n,i)=>(t({type:N}),i.updateUserQuestionnaireTelemetry(e).then(()=>t(B({reload:!0}))).then(()=>e_(n()))))}function Z(e){return(0,_.Nt)((t,n,i)=>(t({type:N}),i.updateUser(e).then(async({data:n})=>{let{password:r,full_name:a,avatar:o}=e;o&&await i.updateUserAvatar(o).then(()=>{t(B({reload:!0}))}).catch(e=>new l.A(e)),r?t(K(window.location.pathname)):t(j(n,!1,!0))}).then(()=>e_(n()))))}function X(e){return(0,_.Nt)((t,n,i)=>(t({type:N}),i.updateUser(e).then(async({data:e})=>{t({type:L,payload:e})})))}function ee(){return(0,_.Nt)((e,t,n)=>n.deleteUserAvatar().then(()=>{e(B({reload:!0}))}).catch(e=>new l.A(e)))}function et(e,t){return(0,_.Nt)((n,i,r)=>r.verifyUser(e,t).then(()=>n(B({reload:!0}))).catch(e=>new l.A(e)))}function en(e,t){return(0,_.Nt)((n,i,r)=>r.verifySamlUserByToken(e,t).then(e=>n((0,v.ty)(e.data.data.user.access_token,e.data.data.saml_slug))).catch(e=>new l.A(e)))}function ei(){return s.m39.appUserDelete(),(0,_.Nt)((e,t,n)=>n.disableUser())}function er(e="slides",t="closed"){return(n,r)=>n(Z({onboarding_progress:(e_(r()).get("onboarding_progress")||(0,i.Map)()).set(e,t)}))}function ea(e){return(t,n)=>{let r=e_(n()),a={};if("string"!=typeof r.getIn(["onboarding_progress","guided_onboarding"])){var o;a=null===(o=r.getIn(["onboarding_progress","guided_onboarding"],(0,i.Map)()))||void 0===o?void 0:o.toJS()}return t(er("guided_onboarding",{...a,...e}))}}function eo(e){return new S.Ay(e.config.toJS())}function es({provider:e}){return(0,_.Nt)((t,n,i)=>((0,S.D1)({url:"/authorizing.html",provider:e}),i.authLink({provider:e}).then(t=>new Promise((i,r)=>eo(n()).open({url:t.data.redirect_uri,provider:e},(e,t)=>e?r(e):i(t)))).then(e=>t(B({reload:!0}))).catch(e=>((0,S.Do)(),Promise.reject(e)))))}function eu({provider:e}){return(0,_.Nt)((t,n,i)=>i.authUnlink({provider:e}).then(e=>t(B({reload:!0}))))}function ec(e){return e="local-dev"===e?"staging":e,(0,_.Nt)(async(t,n,i)=>(await i.generateCreateAuthJwt(e)).data.create_auth_jwt)}function el({email:e,accountSlug:t}){return(0,_.Nt)((n,i,r)=>r.resendVerifyEmail(e,t).catch(e=>{throw new l.A(`Could not resend verification email: ${e.message}`)}))}function ed(e){return(0,_.Nt)((t,n,i)=>{let r=n(),a=e_(r),o={provider:"github",redirect:!0,login:!a||e.signup||e.forceAuth,...e};return o.amnesia?i.resetPasswordEmail(o.email).then(()=>({verify:!0})):new Promise((e,n)=>eo(r).authenticate(o,async(i,r)=>{if(i)return n(i);if(r.verify)return e(r);if(r.redirect_uri)return t(ep(r.redirect_uri)),e(r);if(o.login&&r.user){var u;t({type:U}),(null==r?void 0:null===(u=r.user)||void 0===u?void 0:u.access_token)&&"use-http-auth-token"!==r.user.access_token&&(await (0,S.M_)({access_token:r.user.access_token}),r.user.access_token="use-http-auth-token"),t(j(r.user,r.new_user)),t(ep(o.next))}t((0,y.U0)(o.provider,r)),s.m39.appSignupGitProviderCreated({userId:null==a?void 0:a.get("id"),gitProvider:o.provider}),e(r)}))})}function eg(e){ef(e)&&(0,h.J2)("next",e)}function ep(e){return e=function(e){let t="string"==typeof e&&e||sessionStorage.getItem("next")||"/";return ef(t)?t:"/"}(e),t=>{(0,h.sc)("next"),t((0,I.d9)(e))}}function ef(e){return!(e&&!e.startsWith("/auth-create")&&(e.startsWith("/sso")||e.startsWith("/auth")||"/login/email"===e||"/login"===e))||(console.log("next redirect is for an auth path. Ignoring to avoid loops",e),!1)}function eh(e=null,t){switch(t.type){case E:return e?e.set("authError","forbidden"):r().fromJS({authError:"missing"});case o.LK:return e?e.delete("authError"):e;case R:case T:return r().fromJS(t.payload);case U:return null;case N:return e.set("isFetching",!0);case P:return e.mergeDeep(t.payload,{isFetching:!1,authError:null});case L:return e.merge(t.payload,{isFetching:!1,authError:null});case"USER_ERROR":return e.merge({isFetching:!1,error:t.payload});case C:return e.setIn(["createUser","loading"],t.payload.loading);case w:return e.setIn(["createUser","data"],t.payload.data);default:return e}}function em(e=(0,i.fromJS)({}),t){return t.type===b?e.merge((0,i.fromJS)({resetSuccess:t.payload.success})):e}function eS(e){let{userPassword:t}=e;return(null==t?void 0:t.get("resetSuccess"))||!1}function e_(e){let{user:t}=e;return t&&t.get("id")?t:null}function ey(){let e="",t=!1;if(null===window.opener)return{originAllowedToAuth:!!t,openerOrigin:e};let n=new URLSearchParams(window.location.search).get("opener-origin")||(0,h.KW)("opener-origin");try{var i;e=null===(i=window.opener)||void 0===i?void 0:i.origin}catch(e){console.error(e)}return!e&&n&&((0,h._Y)("opener-origin",n,18e5),e=decodeURIComponent(n)),e&&(e=new URL(e).origin),(t=[window.origin,"https://www.netlify.com","https://docs.netlify.com"].includes(e))||(/--docs.netlify.app$/.test(e)?t=!0:/--www.netlify.app$/.test(e)&&(t=!0)),{originAllowedToAuth:!!t,openerOrigin:e}}},99581:(e,t,n)=>{n.d(t,{$h:()=>D,Bh:()=>O,KN:()=>w,L9:()=>k,LN:()=>z,N:()=>J,S6:()=>B,YH:()=>F,c7:()=>T,i9:()=>U,j8:()=>R,oe:()=>M,sO:()=>$,wj:()=>P,zh:()=>L});var i=n(44110),r=n(66602),a=n(12345),o=n(85342),s=n(56020),u=n(53372);let c=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),l="BANDWIDTH_USAGE_DOMAINS_SUCCESS",d="BANDWIDTH_USAGE_DOMAINS_HISTORIC_SUCCESS",g="BANDWIDTH_USAGE_DOMAINS_RANKING_SUCCESS",p="BANDWIDTH_USAGE_DOMAINS_TIMESERIES_SUCCESS",f="BANDWIDTH_USAGE_CONNECT_SUCCESS",h="BANDWIDTH_USAGE_CONNECT_HISTORIC_SUCCESS",m="BANDWIDTH_USAGE_CONNECT_RANKING_SUCCESS",S="BANDWIDTH_USAGE_CONNECT_TIMESERIES_SUCCESS",_=(0,a.q)("bandwidth"),y=(0,r.A)(l,(e,t)=>({id:e,bandwidth:t})),v=(0,r.A)(d,(e,t)=>({id:e,bandwidth:t})),I=(0,r.A)(g,(e,t)=>({id:e,bandwidth:t})),A=(0,r.A)(p,(e,t)=>({id:e,bandwidth:{data:t.data.map(e=>[new Date(e.start).setUTCHours(0,0,0,0),e.accountBandwidth])}})),E=(0,r.A)(f,(e,t)=>({id:e,bandwidth:t})),N=(0,r.A)(h,(e,t)=>({id:e,bandwidth:t})),b=(0,r.A)(m,(e,t)=>({id:e,bandwidth:t})),C=(0,r.A)(S,(e,t)=>({id:e,bandwidth:{data:t.map(e=>[new Date(e.start).setUTCHours(0,0,0,0),e.values.bandwidth])}}));function w({accountId:e,from:t,to:n}){return(0,u.Nt)((i,r,a)=>a.accountBandwidth({id:e,from:t,to:n}).then(t=>{i(y(e,t.data))}).catch(e=>new o.A(e)))}function R(e,t){return(0,u.Nt)((n,i,r)=>Promise.all(t.map((t,n)=>{var i,a;return r.accountBandwidth({id:e,from:null===(i=t.from)||void 0===i?void 0:i.getTime(),to:null===(a=t.to)||void 0===a?void 0:a.getTime()}).then(e=>({from:t.from,to:t.to,data:e.data}))})).then(t=>{n(v(e,t))}))}function T(e,t,n){return(0,u.Nt)((i,r,a)=>Promise.all(n.map((n,i)=>{var r,o;return a.accountBandwidthRanking({id:e,limit:t,from:null===(r=n.from)||void 0===r?void 0:r.getTime(),to:null===(o=n.to)||void 0===o?void 0:o.getTime()}).then(e=>({from:n.from,to:n.to,data:e.data.data}))})).then(t=>{i(I(e,t))}))}function U({accountId:e,from:t,to:n,resolution:i}){return(0,u.Nt)((r,a,s)=>s.accountDomainsBandwidthTimeseries({id:e,from:t,to:n,resolution:i}).then(t=>{r(A(e,t.data))}).catch(e=>new o.A(e)))}function D({accountId:e,from:t,to:n}){return(0,u.Nt)((i,r,a)=>a.accountConnectBandwidth({id:e,from:t,to:n}).then(t=>{i(E(e,t.data))}).catch(e=>new o.A(e)))}function P(e,t){return(0,u.Nt)((n,i,r)=>Promise.all(t.map((t,n)=>{var i,a;return r.accountConnectBandwidth({id:e,from:null===(i=t.from)||void 0===i?void 0:i.getTime(),to:null===(a=t.to)||void 0===a?void 0:a.getTime()}).then(e=>({from:t.from,to:t.to,data:e.data}))})).then(t=>{n(N(e,t))}))}function L(e,t,n){return(0,u.Nt)((i,r,a)=>Promise.all(n.map((n,i)=>{var r,o;return a.accountConnectBandwidthDataLayers({id:e,limit:t,from:null===(r=n.from)||void 0===r?void 0:r.getTime(),to:null===(o=n.to)||void 0===o?void 0:o.getTime()}).then(e=>({from:n.from,to:n.to,data:e.data.data}))})).then(t=>{i(b(e,t))}))}function k({accountId:e,from:t,to:n}){return(0,s.Jh)((i,r,a)=>a.accountConnectBandwidthTimeseries({id:e,from:t,to:n}).then(t=>{i(C(e,t.data))}).catch(e=>new o.A(e)))}let M=(0,a.B)("bandwidth",_,{key:"slug",handler:(e,t)=>{switch(t.type){case l:return e.set(c(t.payload,"bandwidthUsageDomains"),(0,i.fromJS)(t.payload.bandwidth));case d:return e.set(c(t.payload,"bandwidthUsageDomainsHistoric"),(0,i.fromJS)(t.payload.bandwidth));case g:return e.set(c(t.payload,"bandwidthUsageDomainsRanking"),(0,i.fromJS)(t.payload.bandwidth));case p:return e.set(c(t.payload,"bandwidthUsageDomainsTimeseries"),(0,i.fromJS)(t.payload.bandwidth));case f:return e.set(c(t.payload,"bandwidthUsageConnect"),(0,i.fromJS)(t.payload.bandwidth));case h:return e.set(c(t.payload,"bandwidthUsageConnectHistoric"),(0,i.fromJS)(t.payload.bandwidth));case m:return e.set(c(t.payload,"bandwidthUsageConnectRanking"),(0,i.fromJS)(t.payload.bandwidth));case S:return e.set(c(t.payload,"bandwidthUsageConnectTimeseries"),(0,i.fromJS)(t.payload.bandwidth));default:return null}}});function O(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(c({id:t},"bandwidthUsageDomainsHistoric"))}function F(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(c({id:t},"bandwidthUsageDomainsRanking"))}function $(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(c({id:t},"bandwidthUsageDomainsTimeseries"))}function B(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(c({id:t},"bandwidthUsageConnectHistoric"))}function z(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(c({id:t},"bandwidthUsageConnectRanking"))}function J(e,t){var n;return null===(n=e.bandwidth)||void 0===n?void 0:n.get(c({id:t},"bandwidthUsageConnectTimeseries"))}},17871:(e,t,n)=>{n.d(t,{Dz:()=>_,F1:()=>w,Hl:()=>v,ST:()=>C,jw:()=>R,kh:()=>E,r:()=>y,tP:()=>N,ut:()=>b});var i=n(44110),r=n(66602),a=n(6588),o=n(17250),s=n(53372);let u="PAYMENT_PROVIDER_TOKEN",c="PAYMENT_PROVIDER_TOKEN_SECURE_DECISION",l="BILLING_SUMMARY_SUCCESS",d="ACCOUNT_SUBSCRIPTIONS_SUCCESS",g="ACCOUNT_INVOICES_SUCCESS",p=((0,r.A)("BILLING_SUCCESS",e=>e),(0,r.A)(u,e=>e)),f=(0,r.A)(c,e=>e),h=(0,r.A)(l,e=>e),m=(0,r.A)(d,(e,t)=>({id:e.get("id"),subscriptions:t})),S=(0,r.A)(g,(e,t)=>({id:e.get("id"),invoices:t}));function _(e){return t=>{t(f(e))}}function y(e){return(t,n)=>{t((0,o.BU)(e)),t((0,s.Nt)((t,n,i)=>i.accountBillingSummary(e.get("slug")).then(e=>t(h(e.data))))),t((0,s.Nt)((t,n,i)=>i.accountSubscriptions(e.get("slug")).then(n=>t(m(e,n.data))))),t((0,s.Nt)((t,n,i)=>i.accountInvoices(e.get("slug"),{pending:!0}).then(n=>t(S(e,n.data)))))}}function v(e,t){return(0,s.Nt)((n,i,r)=>{let a=C(e,t,N(i()));return n(p(null)),r.paymentProviderToken(a).then(e=>(e.data.sandbox=!!a.sandbox,e.data.enterpriseException=!!a.enterpriseException,e.data.secure=!!a.secure,n(p(e.data)),e.data))})}function I(e,t){return -1*e.base.toString().localeCompare((!!t.base).toString())||(e.site_domain||e.site_name||"").localeCompare(t.site_domain||t.site_name||"")||(e.site_id||"").localeCompare(t.site_id||"")||(e.title||"").localeCompare(t.title||"")}function A(e){return!!e.base||!!e.amount||!("bandwidth"===e.product_name.toLowerCase()||/usage/i.test(e.title)||0===e.quantity&&e.charges.every(e=>0===e.quantity))}function E(e=(0,i.Map)(),t){switch(t.type){case l:return e.set(t.payload.id,(0,i.fromJS)(t.payload));case d:return e.set(`${t.payload.id}-subscriptions`,(0,i.fromJS)(t.payload.subscriptions.filter(A).sort(I)));case g:return e.set(`${t.payload.id}-invoices`,(0,i.fromJS)(t.payload.invoices));case u:return e.set("paymentProviderToken",t.payload);case c:return e.set("paymentProviderTokenSecure",t.payload);default:return e}}function N(e){return e.billing&&e.billing.get("paymentProviderTokenSecure")}function b(e){return e?(e.get("payments_gateway_name")||"").startsWith("zuora")?"zuora":"braintree":"zuora"}function C(e,t=!1,n=!1){let i=b(e),r=(0,a.hB)(e);return{provider:i,sandbox:t,secure:n,accountId:e&&e.get("id"),enterpriseException:r}}function w(e,t){let n=e.billing.get(t.get("id"));return n&&n.merge({subscriptions:e.billing.get(`${t.get("id")}-subscriptions`),invoices:e.billing.get(`${t.get("id")}-invoices`)})}function R(e){if(e)return(0,s.Nt)((t,n,i)=>i.payBalance(e.get("id")).then(()=>{t((0,o.BU)(e))}))}},24856:(e,t,n)=>{n.d(t,{Rf:()=>E,WN:()=>v,ZT:()=>y,a6:()=>A,bE:()=>I,cv:()=>N});var i=n(24571),r=n(44110),a=n(66602);n(56020);var o=n(53372);let s=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),u="BLOB_FETCHING_SET",c="BLOBS_FETCHING",l="BLOBS_SUCCESS",d="BLOB_STORES_SUCCESS",g="BLOBS_TIMESERIES_ACCOUNT_SUCCESS",p=(0,a.A)(u,({siteId:e,store:t,prefix:n,blobKey:i},r)=>({siteId:e,store:t,prefix:n,blobKey:i,isFetching:r})),f=(0,a.A)(c,(e,t,n)=>({siteId:e,store:t,prefix:n})),h=(0,a.A)(l,(e,t,n,i)=>({siteId:e,store:t,data:n,prefix:i})),m=(0,a.A)(d,(e,t)=>({siteId:e,data:t})),S=((0,a.A)(g,(e,t)=>({id:e,data:t})),".ROOT."),_=".STORES.";function y(e=(0,r.Map)(),t){switch(t.type){case d:{let{siteId:n,data:i}=t.payload;return e.setIn(["entities",n,_],i)}case u:{let{siteId:n,store:i,prefix:a,blobKey:o,isFetching:s}=t.payload,u=a||S,c=e.getIn(["entities",n,i,u,"data"]),l=(0,r.fromJS)(c.blobs).update(c.blobs.findIndex(e=>e.key===o),e=>e.set("isFetching",s));return e.setIn(["entities",n,i,u,"data"],{directories:c.directories,blobs:l.toJS()})}case c:{let{siteId:n,store:i,prefix:r}=t.payload;if(!r)return e.setIn(["entities",n,i,S,"isFetching"],!0);return e.setIn(["entities",n,i,r,"isFetching"],!0)}case l:{let{siteId:n,store:i,data:r,prefix:a}=t.payload;if(!a)return e.setIn(["entities",n,i,S,"isFetching"],!1).setIn(["entities",n,i,S,"data"],r);return e.setIn(["entities",n,i,a,"isFetching"],!1).setIn(["entities",n,i,a,"data"],r)}case g:return e.set(s(t.payload,"blobsAccountTimeseries"),(0,r.fromJS)(t.payload));default:return e}}function v(e,t,n,r){let a=e.get("id");return(0,o.Nt)(async(e,o,s)=>{e(p({siteId:a,store:t,prefix:n,blobKey:r},!0));let u=await s.blob(a,t,r);await (0,i.saveAs)(u.data.url,r),e(p({siteId:a,store:t,prefix:n,blobKey:r},!1))})}function I(e,t,n=""){let i=e.get("id");return(0,o.Nt)((e,r,a)=>(e(f(i,t,n)),a.blobs(i,t,n).then(r=>{e(h(i,t,r.data,n))})))}function A(e){let t=e.get("id");return(0,o.Nt)((e,n,i)=>i.listBlobStores(t).then(n=>{var i;e(m(t,null===(i=n.data)||void 0===i?void 0:i.stores))}))}function E(e,t,n,i){let r=i||S,{blobs:a,directories:o}=e.blobs.getIn(["entities",t,n,r,"data"],{blobs:[],directories:[]});return{blobs:a,directories:o,isFetching:e.blobs.getIn(["entities",t,n,r,"isFetching"])}}function N(e,t){return e.blobs.getIn(["entities",t,_])}},60498:(e,t,n)=>{n.d(t,{HD:()=>l,IF:()=>c,LM:()=>u,P9:()=>o,d0:()=>s});var i=n(12345),r=n(53372);let a=(0,i.q)("buildHooks"),o=(0,i.B)("buildHooks",a);function s(e){return(0,r.Nt)((t,n,i)=>i.buildHooks(e.get("id")).then(n=>t(a.buildHooksSuccess(e.get("id"),n.data,n.pagination))))}function u(e,t){return(0,r.Nt)((n,i,r)=>r.addBuildHook(e.get("id"),{title:t.get("title"),branch:t.get("branch")}).then(t=>n(s(e))))}function c(e,t){return(0,r.Nt)((n,i,r)=>r.removeBuildHook(e.get("id"),t.get("id")).then(t=>n(s(e))))}function l(e,t){let n=t&&e.buildHooks.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.buildHooks.getIn(["entities",t]))}},98379:(e,t,n)=>{n.d(t,{GW:()=>L,MU:()=>j,QF:()=>M,S1:()=>W,SV:()=>V,TZ:()=>J,UC:()=>Y,Wb:()=>G,_Z:()=>F,ak:()=>X,cv:()=>Z,eV:()=>O,gA:()=>H,go:()=>K,ps:()=>q,vK:()=>ee,wd:()=>Q,ws:()=>z,wu:()=>x});var i=n(44110),r=n(66602),a=n(12345),o=n(42301),s=n(56020),u=n(53372);let c="BUILD_STATUS_SUCCESS",l="BUILD_STATUS_PER_SITE_SUCCESS",d="BUILD_STATUS_PER_SITE_MULTIPLE_SUCCESS",g="BUILDS_PER_DAY_SUCCESS",p="BUILD_QUEUE_BUMP_REQUEST",f="BUILD_QUEUE_BUMP_SUCCESS",h="BUILD_QUEUE_BUMP_FAILURE",m="BUILDS_USAGE_ACCOUNT_TIMESERIES_SUCCESS",S="BUILDS_USAGE_ACCOUNT_TIMESERIES_LEGACY_SUCCESS",_="WS_BUILD_CREATED",y="WS_BUILD_MODIFIED",v="WS_BUILD_DELETED",I=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),A=(0,r.A)(c,(e,t)=>({id:e.get("id"),data:t})),E=(0,r.A)(l,(e,t)=>({id:e.get("id"),data:t})),N=(0,r.A)(d,(e,t)=>({id:e,data:t.map(e=>({from:e.from,to:e.to,sites:e.data}))})),b=(0,r.A)(g,(e,t)=>({id:e.get("id"),data:t})),C=(0,r.A)(p,e=>({buildId:e})),w=(0,r.A)(f,e=>({buildId:e})),R=(0,r.A)(h,(e,t)=>({buildId:e,error:t})),T=(0,r.A)(_,e=>e),U=(0,r.A)(y,e=>e),D=(0,r.A)(v,e=>e),P=(0,a.q)("builds"),L=(0,a.B)("builds",P,{handler:(e,t)=>{let{type:n,payload:r}=t;switch(n){case c:return e.set(r.id,(0,i.fromJS)(r.data));case l:return e.set(`${r.id}-per-site`,(0,i.fromJS)(r.data));case d:return e.set(`${r.id}-per-site-multiple`,(0,i.fromJS)(r.data));case g:return e.set(`${r.id}-per-day`,(0,i.fromJS)(r.data));case p:{let{buildId:t}=r;return e.withMutations(e=>{e.setIn(["entities",t,"isPushing"],!0).setIn(["entities",t,"errorOnQueueBump"],null)})}case f:{let{buildId:t}=r;return e.setIn(["entities",t,"isPushing"],!1)}case h:{let{buildId:t,error:n}=r;return e.withMutations(e=>{e.setIn(["entities",t,"errorOnQueueBump"],(0,i.fromJS)(n)).setIn(["entities",t,"isPushing"],!1)})}case m:return e.set(I(t.payload,"buildsUsageAccountTimeseries"),(0,i.fromJS)(t.payload.counts));case S:return e.set(I(t.payload,"buildsUsageAccountTimeseriesLegacy"),(0,i.fromJS)(t.payload.counts));case _:return(0,o.Lt)(e,r);case y:return(0,o.wJ)(e,r);case v:return(0,o.wK)(e,r);default:return null}}});function k(e){return e.get("id")}function M(e,t={},n=!1){let i=k(e);return(0,u.Nt)((r,a,o)=>(n&&r(P.buildsRequest(i)),o.accountBuilds(e.get("slug"),t).then(e=>r(P.buildsSuccess(i,e.data,e.pagination)))))}function O(e){return(0,u.Nt)((t,n,i)=>i.accountBuildStatus(e.get("slug")).then(n=>t(A(e,n.data))))}function F(e,t){return(0,u.Nt)((n,i,r)=>(n(C(t)),r.accountBuildQueueBump(e.get("slug"),t).then(()=>n(w(t))).catch(e=>{throw n(R(t,e)),e})))}let $=(0,r.A)(m,(e,t)=>{let n=[];return t.forEach(e=>{let t=new Date(e.start).setUTCHours(0,0,0,0);n.push([t,e.values.memory_usage_mb_ms])}),{id:e,counts:{data:{memory:n}}}}),B=(0,r.A)(S,(e,t)=>{let n=[],i=[];return t.forEach(e=>{let t=new Date(e.start).setUTCHours(0,0,0,0);n.push([t,e.values.count]),i.push([t,e.values.total_billable_ms])}),{id:e,counts:{data:{count:n,duration:i}}}});function z({accountId:e,from:t,to:n}){return(0,s.Jh)((i,r,a)=>a.accountBuildsUsageTimeseries({id:e,from:t,to:n}).then(t=>{i($(e,t.data))}).catch(e=>new u.LG(e)))}function J({accountId:e,from:t,to:n}){return(0,s.Jh)((i,r,a)=>a.accountBuildsUsageTimeseriesLegacy({id:e,from:t,to:n}).then(t=>{i(B(e,t.data))}).catch(e=>new u.LG(e)))}function G(e,t){var n;return null===(n=e.builds)||void 0===n?void 0:n.get(I({id:t},"buildsUsageAccountTimeseries"))}function q(e,t){var n;return null===(n=e.builds)||void 0===n?void 0:n.get(I({id:t},"buildsUsageAccountTimeseriesLegacy"))}function j(e,t){return e.builds.get(t.get("id"))}function Y(e){return(0,u.Nt)((t,n,i)=>i.accountBuildStatusPerSite({id:e.get("id")}).then(n=>t(E(e,n.data))))}function K(e,t){return(0,u.Nt)((n,i,r)=>Promise.all(t.map(t=>{var n,i;return r.accountBuildStatusPerSite({id:e,from:null===(n=t.from)||void 0===n?void 0:n.getTime(),to:null===(i=t.to)||void 0===i?void 0:i.getTime()}).then(e=>({from:t.from,to:t.to,data:e.data.data}))})).then(t=>{n(N(e,t))}))}function H(e,t){return e.builds.get(`${t.get("id")}-per-site`)}function x(e){return(0,u.Nt)((t,n,i)=>i.accountBuildsPerDay(e.get("slug")).then(n=>{t(b(e,n.data))}))}function V(e,t){return e.builds.get(`${t}-per-site-multiple`)}function W(e,t){return e.builds.get(`${t.get("id")}-per-day`)}function Q(e,t){if(function(e,t){let n=Z(e,t);return n&&n.get("isFetching")}(e,t))return null;let n=e.builds.getIn(["pages",k(t),"ids"]);return n&&n.map(t=>(function(e,t){let n=e.builds.getIn(["entities",t]);return n&&n.set("build_id",n.get("id"))})(e,t))}function Z(e,t){return e.builds.getIn(["pages",k(t)])}let X=(e,t)=>n=>{let{page:r,account_id:a}=t;if(1===r){let t=k((0,i.fromJS)({id:a}));n(T(e.set("listKey",t)))}},ee=(e,t)=>n=>{let r=k((0,i.fromJS)({id:t.account_id}));n("deleted"===e.get("state")?D(e.set("listKey",r)):U(e.set("listKey",r)))}},66030:(e,t,n)=>{n.d(t,{$H:()=>g,Ih:()=>c,MC:()=>l,Yb:()=>p,_V:()=>d});var i=n(44110),r=n(66602),a=n(53372),o=n(65900);let s="CERTIFICATE_SUCCESS",u=(0,r.A)(s,(e,t)=>({siteId:e,certificate:t}));function c(e){return(0,a.Nt)((t,n,i)=>{let r=e.get("id");return i.certificate(r).then(e=>t(u(r,e.data)))})}function l(e,t,n){return(0,a.Nt)((i,r,a)=>{let s=e.get("id");return t.force_ssl?i((0,o.hj)(e,t)):a.updateSsl(s,t,n).then(({data:t})=>(t&&i(u(s,t)),(!t||n)&&setTimeout(t=>i(c(e)),3e4),i((0,o.UK)(e.get("name")))))})}function d(e){let t=e.get("id");return(0,a.Nt)((e,n,r)=>r.verifySsl(t).then(e=>(0,i.fromJS)(e.data)))}function g(e=(0,i.Map)(),t){return t.type===s?e.set(t.payload.siteId,(0,i.fromJS)(t.payload.certificate)):e}function p(e,t){return t.get("ssl")&&e.certificates.get(t.get("id"))}},15556:(e,t,n)=>{n.d(t,{$W:()=>s,_R:()=>o,kM:()=>u,rl:()=>c,sJ:()=>l});var i=n(44110),r=n.n(i);let a="UPDATE_CONFIG";function o(e){return{type:a,payload:e}}function s(e=r().Map(),t){return t.type===a?e.merge(t.payload):e}function u(e){let t=e.config.get("apiBase");return t&&t.replace(/\/api\/v\d\/?$/,"")}function c(e){return e.config.get("siteId")}function l(e){return e.config.get("githubAppId")}},76808:(e,t,n)=>{n.d(t,{BD:()=>u,nG:()=>l,zo:()=>c});var i=n(53372),r=n(12345);let a={type:"create-api"},o="createOrganizations",s=(0,r.q)(o),u=(0,r.B)(o,s,{getKey:e=>null==e?void 0:e.connectedOrgId});function c(e,t){return e.createOrganizations.getIn(["entities",t])}function l(e){return(0,i.Nt)((t,n,i)=>{if(!n().createOrganizations.getIn(["entities",e,"isFetching"]))return s.createOrganizationRequest(e),i.connectedOrganization(e).then(({data:e})=>t(s.createOrganizationSuccess(e)),n=>[401,404].includes(n.code)?t(s.createOrganizationSuccess(null)):t(s.createOrganizationFailure(e,n)))},a)}},22352:(e,t,n)=>{n.d(t,{DW:()=>c,FJ:()=>u,ln:()=>l});var i=n(44110),r=n(66602),a=n(53372);let o="DEPLOY_ACTIVITY_SUCCESS",s=(0,r.A)(o,e=>e);function u(e,t){var n;return null===(n=e.deployActivity.getIn(["data"]))||void 0===n?void 0:n.toJS()}function c(e){return(0,a.Nt)((t,n,i)=>Promise.all([i.deployActivity(e),i.fetchPullRequest(e)]).then(e=>t(s(function([e,t]){let n=e.data.filter(e=>"comment"===e.type).map(e=>e.service_comment_id),i=t.data.comments.filter(({body:e,id:t})=>!!e&&!n.includes(String(t)));return e.data.concat(i.map(e=>({type:"comment",comment:e})))}(e)))).catch(e=>new a.LG(e)))}let l=(e=(0,i.Map)(),t)=>t.type===o?e.set("data",(0,i.fromJS)(t.payload)):e},59260:(e,t,n)=>{n.d(t,{Qu:()=>s,Rx:()=>o,_g:()=>u});var i=n(12345),r=n(53372);let a=(0,i.q)("deployCommitters"),o=(0,i.B)("deployCommitters",a,{key:"deployId"});function s(e,t){var n;return null===(n=e.deployCommitters.getIn(["entities",t,"data",0]))||void 0===n?void 0:n.toJS()}function u(e,t){return(0,r.Nt)((n,i,o)=>o.inviteCommitter(e,t).then(e=>{n(a.inviteCommittersSuccess(e.data))}).catch(e=>new r.LG(e)))}},27104:(e,t,n)=>{n.d(t,{P:()=>g,ZR:()=>f,d3:()=>d,rQ:()=>h,xD:()=>p});var i,r=n(44110),a=n(66602),o=n(53372);!function(e){e.DEPLOY_PLUGIN_RUNS_REQUEST="DEPLOY_PLUGIN_RUNS_REQUEST",e.DEPLOY_PLUGIN_RUNS_SUCCESS="DEPLOY_PLUGIN_RUNS_SUCCESS",e.DEPLOY_PLUGIN_RUNS_FAILURE="DEPLOY_PLUGIN_RUNS_FAILURE"}(i||(i={}));let s=(0,a.A)("DEPLOY_PLUGIN_RUNS_REQUEST",e=>e),u=(0,a.A)("DEPLOY_PLUGIN_RUNS_SUCCESS",(e,t)=>({deployId:e,deployPluginRuns:t})),c=(0,a.A)("DEPLOY_PLUGIN_RUNS_FAILURE",(e,t)=>({deployId:e,error:t})),l=e=>e.reduce((e,t)=>(e.get(t.state)?e.set(t.state,e.get(t.state).push(t.package)):e.set(t.state,(0,r.List)([t.package]))).set("all",e.get("all").push(t.package)),(0,r.Map)({all:(0,r.List)()}));function d(e=(0,r.Map)(),t){switch(t.type){case"DEPLOY_PLUGIN_RUNS_REQUEST":return e.setIn([t.payload,"isFetching"],!0);case"DEPLOY_PLUGIN_RUNS_SUCCESS":{let{deployId:n,deployPluginRuns:i}=t.payload;return e.withMutations(e=>{i.forEach(t=>{e.setIn([n,"data",t.package],(0,r.fromJS)(t))}),e.setIn([n,"listByState"],l(i)).setIn([n,"isFetching"],!1)})}case"DEPLOY_PLUGIN_RUNS_FAILURE":{let{deployId:n,error:i}=t.payload;return e.setIn([n,"error"],(0,r.fromJS)(i)).setIn([n,"isFetching"],!1)}default:return e}}function g(e){return(0,o.Nt)((t,n,i)=>(t(s(e)),i.deployPluginRuns(e).then(n=>t(u(e,n.data))).catch(n=>t(c(e,n)))))}function p(e,t){var n;return t?null===(n=e.deployPluginRuns.get(t))||void 0===n?void 0:n.get("error"):void 0}function f(e,t){var n;return t?null===(n=e.deployPluginRuns.get(t))||void 0===n?void 0:n.get("data"):void 0}function h(e,t){var n;return t?null===(n=e.deployPluginRuns.get(t))||void 0===n?void 0:n.get("listByState"):void 0}},34205:(e,t,n)=>{n.d(t,{UK:()=>f,_K:()=>p,cu:()=>d,eN:()=>l,g0:()=>g});var i,r=n(44110),a=n(66602),o=n(53372);!function(e){e.DEPLOY_SUMMARY_REQUEST="DEPLOY_SUMMARY_REQUEST",e.DEPLOY_SUMMARY_SUCCESS="DEPLOY_SUMMARY_SUCCESS",e.DEPLOY_SUMMARY_FAILURE="DEPLOY_SUMMARY_FAILURE"}(i||(i={}));let s=(0,a.A)("DEPLOY_SUMMARY_REQUEST",e=>e),u=(0,a.A)("DEPLOY_SUMMARY_SUCCESS",(e,t)=>({deployId:e,deploySummary:t})),c=(0,a.A)("DEPLOY_SUMMARY_FAILURE",(e,t)=>({deployId:e,error:t}));function l(e=(0,r.Map)(),t){switch(t.type){case"DEPLOY_SUMMARY_REQUEST":return e.setIn([t.payload,"isFetching"],!0);case"DEPLOY_SUMMARY_SUCCESS":{let{deployId:n,deploySummary:i}=t.payload;return e.setIn([n,"data"],(0,r.fromJS)(i)).setIn([n,"isFetching"],!1)}case"DEPLOY_SUMMARY_FAILURE":{let{deployId:n,error:i}=t.payload;return e.setIn([n,"error"],(0,r.fromJS)(i)).setIn([n,"isFetching"],!1)}default:return e}}function d(e){return(0,o.Nt)((t,n,i)=>(t(s(e)),i.deploySummary(e).then(n=>t(u(e,n.data))).catch(n=>t(c(e,n)))))}function g(e,t){var n,i;return null!==(i=null===(n=e.deploySummary.get(t))||void 0===n?void 0:n.get("isFetching"))&&void 0!==i&&i}function p(e,t){var n;return null===(n=e.deploySummary.get(t))||void 0===n?void 0:n.get("error")}function f(e,t){var n;return null===(n=e.deploySummary.get(t))||void 0===n?void 0:n.get("data")}},24204:(e,t,n)=>{n.d(t,{AI:()=>q,C5:()=>L,D7:()=>Q,DU:()=>$,Jz:()=>P,My:()=>j,N9:()=>b,QN:()=>W,Rm:()=>H,S6:()=>O,TO:()=>K,XJ:()=>C,XV:()=>G,Z6:()=>M,aN:()=>z,fF:()=>Y,fW:()=>Z,hn:()=>E,i0:()=>k,j$:()=>B,jm:()=>x,o1:()=>A,ol:()=>J,tu:()=>w,uJ:()=>D,uT:()=>V,yP:()=>X,ye:()=>U});var i=n(44110),r=n(66602),a=n(56315),o=n(12345),s=n(42301),u=n(94958),c=n(53372),l=n(65900);let d="SET_BUILD_TIME",g="DELETE_DEPLOY_SUCCESS",p="WS_DEPLOY_CREATED",f="WS_DEPLOY_MODIFIED",h="WS_DEPLOY_DELETED";function m(e){return new Date(e).setMilliseconds(0)}let S=(0,r.A)(d,(e,t,n)=>({id:e.get("id"),start:m(t),end:m(n)})),_=(0,r.A)(g,e=>({deployId:e})),y=(0,r.A)(p,e=>e),v=(0,r.A)(f,e=>e),I=(0,r.A)(h,e=>e),A=(0,o.q)("deploys"),E=(0,o.B)("deploys",A,{handler:(e,t)=>{let{type:n,payload:r}=t;switch(n){case d:return e.set(r.id,(0,i.fromJS)({build_time:{start:r.start,end:r.end,seconds:(r.end-r.start)/1e3}}));case g:let{deployId:a}=r;return e.withMutations(e=>{e.delete("pages"),e.deleteIn(["entities",a]),e.delete(a)});case p:return(0,s.Lt)(e,r);case f:return(0,s.wJ)(e,r);case h:return(0,s.wK)(e,r);default:return null}}}),N="SET_DEPLOY_FILES",b=(0,r.A)(N,(e,t)=>({deployId:e,files:t})),C=(e=(0,i.Map)(),t)=>t.type===N?e.setIn(["entities",t.payload.deployId],t.payload.files):e;function w(e,t){return e.deployFiles.getIn(["entities",t])}let R={state:"pending_review"};function T(e,t={}){return[e.get("id"),t.filter||"",t.state||"",t.page||1].join("-")}function U(e,t,n){return S(e,t,n)}function D(e){return(0,c.Nt)((t,n,i)=>i.deploy(e).then(i=>(t(A.deploySuccess(i.data)),V(n(),e))))}function P(e,t={}){return(0,c.Nt)((n,i,r)=>(n(A.deploysRequest(T(e,t))),r.deploys(e.get("id"),t).then(i=>n(A.deploysSuccess(T(e,t),i.data,i.pagination)))))}function L(e,t={}){let n={...t,perPage:100,minimal:!0},i=[];return(0,c.Nt)((t,r,a)=>{let o=(e,n)=>a.deploys(e.get("id"),n).then(r=>{var a;return(i.push(...r.data),null===(a=r.pagination)||void 0===a?void 0:a.next)?(n.page=r.pagination.next,o(e,n)):(delete n.page,t(A.deploysSuccess(T(e,n),i,[])))});return o(e,n)})}function k(e){return P(e,R)}function M(e,t={}){return(0,c.Nt)((n,i,r)=>Promise.all([n(P(e,t)),n(k(e))]))}function O(e,t){let n=e.get("id");return(0,c.Nt)((i,r,o)=>o.triggerDeploy(n,t).then(t=>{i((0,a.VC)(`/sites/${e.get("name")}/deploys/${t.data.deploy_id}`))}))}function F(e,t,n){let i=t.get("id"),r=e.get("name");return(0,c.Nt)((e,t,a)=>n(a,i).then(t=>e(A.deploySuccess(t.data))).then(()=>e((0,l.UK)(r))))}function $(e,t){return F(e,t,(e,t)=>e.publishDeploy(t))}function B(e,t){return F(e,t,(e,t)=>e.lockDeploy(t))}function z(e,t){return F(e,t,(e,t)=>e.unlockDeploy(t))}function J(e,t){return F(e,t,(e,t)=>e.cancelDeploy(t))}function G(e,t){let n=null==t?void 0:t.get("id");return(0,c.Nt)((e,t,i)=>i.deleteDeploy(n).then(()=>e(_(n))))}function q(e,t,n){let i=t.get("id"),r=e.get("name");return(0,c.Nt)((e,t,a)=>a.retryDeploy(i,n).then(()=>u.Nc.push(`/sites/${r}/deploys`)))}function j(e){return(0,c.Nt)((t,n,i)=>i.acceptDeploy(e).then(e=>t(A.deploySuccess(e.data))))}function Y(e){return(0,c.Nt)((t,n,i)=>i.rejectDeploy(e).then(e=>t(A.deploySuccess(e.data))))}function K(e,t,n){let{perPage:i}=n,r=e.deploys.getIn(["pages",T(t,n),"ids"]),a=r&&r.map(t=>V(e,t));return a&&i?a.take(i):a}function H(e,t,n){var i;return null===(i=e.deploys)||void 0===i?void 0:i.getIn(["pages",T(t,n),"isFetching"])}function x(e,t,n){return e.deploys.getIn(["pages",T(t,n)])}function V(e,t){let n=e.deploys.getIn(["entities",t]);return n&&n.merge(e.deploys.get(t))}function W(e,t){return K(e,t,R)}function Q(e,t){return(K(e,t,{filter:t.getIn(["build_settings","repo_branch"])})||(0,i.List)()).first()}let Z=(e,t)=>n=>{if(1===(t.page||1)){let r=T((0,i.fromJS)({id:e.get("site_id")}),t);n(y(e.set("listKey",r)))}},X=(e,t)=>n=>{let r=T((0,i.fromJS)({id:e.get("site_id")}),t);n("deleted"===e.get("state")?I(e.set("listKey",r)):v(e))}},76798:(e,t,n)=>{n.d(t,{Jc:()=>s,Rx:()=>u,gh:()=>c,le:()=>o,v5:()=>l});var i=n(12345),r=n(53372);let a=(0,i.q)("devServerHooks"),o=(0,i.B)("devServerHooks",a);function s(e){return(0,r.Nt)((t,n,i)=>i.devServerHooks(e.get("id")).then(n=>t(a.devServerHooksSuccess(e.get("id"),n.data,n.pagination))))}function u(e,t){return(0,r.Nt)((n,i,r)=>r.addDevServerHook(e.get("id"),{title:t.get("title"),branch:t.get("branch"),type:t.get("type")}).then(t=>n(s(e))))}function c(e,t){return(0,r.Nt)((n,i,r)=>r.removeDevServerHook(e.get("id"),t.get("id")).then(t=>n(s(e))))}function l(e,t){let n=t&&e.devServerHooks.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.devServerHooks.getIn(["entities",t]))}},97767:(e,t,n)=>{n.d(t,{J5:()=>m,RH:()=>c,U3:()=>l,bw:()=>p,jY:()=>d,k3:()=>h,wT:()=>f,yM:()=>u,z1:()=>g});var i=n(56315),r=n(12345),a=n(53372);function o(e,t={}){return[e.get("id"),t.filter||"",t.state||t.status||"",t.page||1].join("-")}let s=(0,r.q)("devServers"),u=(0,r.B)("devServers",s);function c(e,t){return(0,a.Nt)((n,i,r)=>r.devServer(e.get("id"),t).then(e=>{n(s.devServerSuccess(e.data))}))}function l(e,t={}){let n={...t,perPage:15};return(0,a.Nt)((t,i,r)=>(t(s.devServersRequest(o(e,n))),r.devServers(e.get("id"),n).then(i=>t(s.devServersSuccess(o(e,n),i.data,i.pagination)))))}function d(e,t,n){let r=e.get("id");return(0,a.Nt)((a,o,s)=>s.createDevServer(r,t,n).then(t=>{a((0,i.VC)(`/sites/${e.get("name")}/dev-servers/${t.data.id}`))}))}function g(e,t){let n=e.get("id");return(0,a.Nt)((r,a,o)=>o.shutdownDevServer(n,t).then(t=>{r((0,i.VC)(`/sites/${e.get("name")}/dev-servers`))}))}function p(e,t){let n=e.devServers.getIn(["entities",t]);return n&&n.merge(e.devServers.get(t))}function f(e,t,n){let{perPage:i}=n,r=e.devServers.getIn(["pages",o(t,n),"ids"]),a=r&&r.map(t=>p(e,t));return a&&i?a.take(i):a}function h(e,t,n){return e.devServers.getIn(["pages",o(t,n)])}let m=e=>t=>t(s.devServerSuccess(e))},62261:(e,t,n)=>{n.d(t,{Fw:()=>h,Hg:()=>g,Uk:()=>S,hM:()=>m,ix:()=>_,o4:()=>f,xK:()=>p});var i=n(66602),r=n(12345),a=n(53372);let o="DNS_RECORD_CREATED",s="DNS_RECORD_DELETED",u="DNS_RECORDS_CLEAR_PAGES",c=(0,r.q)("dnsRecords"),l=(0,i.A)(o,(e,t)=>({domain:e,id:t})),d=(0,i.A)(s,(e,t)=>({domain:e,id:t})),g=(0,i.A)(s,e=>({domain:e})),p=(0,i.A)(u);function f(e){return(0,a.Nt)((t,n,i)=>i.dnsRecords(e).then(({data:n,pagination:i})=>t(c.dnsRecordsSuccess(e,n,i))))}function h(e,t){return(0,a.Nt)((n,i,r)=>r.createDnsRecord(e.get("name"),t).then(({data:t})=>{n(c.dnsRecordSuccess(t)),n(l(e.get("name"),t.id))}))}function m(e,t){return(0,a.Nt)((n,i,r)=>r.destroyDnsRecord(e.get("name"),t.get("id")).then(i=>n(d(e.get("name"),t.get("id")))))}let S=(0,r.B)("dnsRecords",c,{handler:(e,t)=>{switch(t.type){case o:return e.updateIn(["pages",t.payload.domain,"ids"],e=>e.push(t.payload.id));case s:return e.updateIn(["pages",t.payload.domain,"ids"],e=>e.filter(e=>e!==t.payload.id)).deleteIn(["entities",t.payload.id]);case"DNS_RECORDS_DELETED":return e.deleteIn(["pages",t.payload.domain]);case u:return e.delete("pages");default:return null}}});function _(e,t){let n=e.dnsRecords.getIn(["pages",t,"ids"]);return n&&n.map(t=>e.dnsRecords.getIn(["entities",t]))}},41580:(e,t,n)=>{n.d(t,{$s:()=>b,Gb:()=>F,LS:()=>$,LY:()=>k,Op:()=>B,Qs:()=>O,Tw:()=>D,VN:()=>M,Y8:()=>N,cb:()=>E,cc:()=>L,h$:()=>P,hV:()=>T,lM:()=>w,nm:()=>A,tF:()=>C,yb:()=>R,yv:()=>z,z:()=>U});var i=n(44110),r=n(66602),a=n(12345),o=n(85342),s=n(73359),u=n(53372),c=n(88704),l=n(62261),d=n(65900);function g(e){return e&&e.get("slug")||null}let p="DNS_VERIFIED",f="DNSZONE_DELETED",h="DNSZONES_CLEAR_PAGES",m="DOMAIN_TOGGLE_AUTO_RENEW",S=(0,a.q)("dnsZones"),_=(0,r.A)(p,(e,t)=>({domain:e,results:t})),y=(0,r.A)(f,e=>({domain:e})),v=(0,r.A)(h),I=(0,r.A)(m);function A(e,t){let n=g(e);return(0,u.Nt)((e,i,r)=>r.dnsZones(n,t).then(t=>e(S.dnsZonesSuccess(n,t.data,t.pagination))))}function E(e){let t=g(e),n=[],i=async(e,r=1)=>e.dnsZones(t,r).then(t=>{var r;let a=null==t?void 0:null===(r=t.pagination)||void 0===r?void 0:r.next;return(t.data&&n.push(...t.data),a)?i(e,a):n});return(0,u.Nt)((e,n,r)=>i(r).then(n=>e(S.dnsZonesSuccess(t,n))))}function N(e){return(0,u.Nt)((t,n,i)=>i.dnsZone(e).then(({data:n})=>{t(S.dnsZoneSuccess(n)),t((0,l.o4)(e))}).catch(n=>404===n.code||401===n.code?t(S.dnsZoneSuccess({name:e,error:n})):Promise.reject(n)).then(t=>O(n(),e)))}function b(e,{account:t,site:n}){return(0,u.Nt)((i,r,a)=>(i((0,l.xK)()),a.dnsZone(e).then(({data:e})=>e.account_id!==(t&&t.get("id"))?Promise.reject(new o.A("must be unique")):(i(S.dnsZoneSuccess(e)),i((0,l.o4)(e.name)),O(r(),e.name))).catch(r=>{switch(r.code){case 404:return i(function(e,{account:t,site:n}){return(0,u.Nt)((i,r,a)=>a.createDnsZone(e,t.get("slug"),{site_id:n&&n.get("id")}).then(({data:e})=>(i(S.dnsZoneSuccess(e)),i((0,l.o4)(e.name)),i(v()),O(r(),e.name))))}(e,{account:t,site:n}));case 401:return Promise.reject(new o.A("must be unique"));default:return Promise.reject(r)}})))}function C(e,{account:t,site:n}){let i=n&&n.get("id");return(0,u.Nt)((r,a,o)=>o.buyDomain(e,t.get("id"),i).then(({data:e})=>(r(N(e.domain)),i&&r((0,d.UK)(n.get("name"))),{data:e})))}function w(e,{account:t}){return(0,u.Nt)((n,i,r)=>r.searchDomain(e,t.get("id")).then(({data:e})=>e))}function R(e,t){return(0,u.Nt)((t,n,i)=>i.destroyDnsZone(e.get("id")).then(n=>{let i=e.get("name");t(y(i)),t((0,l.Hg)(i))}))}function T(e,t){return(0,u.Nt)((n,i,r)=>{let a=e.get("name");return r.transferDnsZone(a,{account_id:e.get("account_id"),transfer_account_id:t.get("id"),transfer_user_id:(0,c.QR)(i()).get("id")}).then(e=>n(N(a)))})}function U(e,t){return(n,i)=>n((0,d.hj)(e,t))}function D(e,t){let n=e.get("name"),i=e.get("account_id");return(0,u.Nt)((e,r,a)=>a.toggleDomainAutoRenew(n,i,t).then(()=>e(I({domain:n,autorenew:t}))))}function P(e,t){return(n,i)=>{let r=!t&&$(i(),e);return r&&r.getIn(["results",0,"result"])?Promise.resolve(r):fetch(`/.netlify/functions/verify?domain=${e}`).then(e=>e.json().then(t=>e.ok?t:Promise.reject(new o.A(t||{})))).then(t=>n(_(e,t))).catch(t=>(0,s.gR)(e).then(t=>{let{subdomain:n,domain:i,tld:r}=t||{},a=t?`${i}.${r}`:e,o=[e];return t&&!n?o.push(`www.${a}`):"www"===n&&o.push(a),{root:a,subdomain:n,results:o.map(e=>({domain:e,result:!1,error:"We couldn’t resolve the domain. Request timed out"}))}}).then(t=>n(_(e,t)))).then(()=>$(i(),e))}}function L(e){return(t,n)=>{let i=e.get("custom_domain");return i?t(P(i)):Promise.resolve()}}let k=(0,a.B)("dnsZones",S,{key:"name",handler:(e,t)=>{switch(t.type){case p:return e.set(t.payload.domain,(0,i.fromJS)(t.payload.results));case f:return e.deleteIn(["entities",t.payload.domain]).delete("pages");case h:return e.delete("pages");case m:return e.setIn(["entities",t.payload.domain,"domain","auto_renew"],t.payload.autorenew);default:return null}}});function M(e,t){let n=e.dnsZones.getIn(["pages",g(t),"ids"]);return n&&n.map(t=>O(e,t))}function O(e,t){let n=e.dnsZones.getIn(["entities",t]);return n&&n.get("id")?n.set("records",(0,l.ix)(e,t)):n}function F(e,t){return e.dnsZones.getIn(["pages",g(t)])}function $(e,t){return e.dnsZones.get(t)}function B(e){return(0,u.Nt)((t,n,i)=>i.enableDnsZoneIPv6(e.get("id")).then(({data:n})=>{t(S.dnsZoneSuccess(n)),t((0,l.o4)(e.get("name")))}))}function z(e,t){return(0,u.Nt)((t,n,i)=>i.enableDedicatedDns(e.get("id")).then(({data:e})=>{t(S.dnsZoneSuccess(e))}))}},89867:(e,t,n)=>{n.d(t,{c:()=>a});var i=n(44110),r=n(36175);function a(e=(0,i.Map)(),t){switch(t.type){case r.sE:return(0,i.Map)({active:!0});case r.dU:return(0,i.Map)({active:!1});default:return e}}},36175:(e,t,n)=>{n.d(t,{B7:()=>C,Hw:()=>E,K0:()=>h,Se:()=>b,Wk:()=>w,Xu:()=>N,dU:()=>p,sE:()=>g,v7:()=>f});var i=n(66602),r=n(56315),a=n(17250),o=n(29383),s=n(75060),u=n(53372),c=n(88704),l=n(65900),d=n(26460);let g="START_DRAG",p="END_DRAG",f=(0,i.A)(g),h=(0,i.A)(p),m=()=>(0,o._S)("drop-token"),S=e=>(0,o.AP)("drop-token",e),_=()=>(0,o._S)("dropSiteName"),y=e=>(0,o.AP)("dropSiteName",e),v=e=>!!(0,c.QR)(e()),I=e=>(t,n)=>{let i=(0,a.PR)(n()),r=(0,s.Jx)(i)&&(null==i?void 0:i.get("slug"));return t((0,l.kT)(r)).then(n=>{let i="true"===(0,o._S)("nf-drop-force-anon");return t((0,l.LN)(n,e,i))})},A=e=>(0,u.Nt)((t,n,i)=>i.dropToken().then(e=>e.data.token).then(t=>i.dropFiles((0,l.Pc)(e),t).then(e=>({token:t,deploy:e.data}))).then(({token:t,deploy:n})=>(0,l.wA)(i,n,e,t).then(()=>i.waitForSiteDeploy(n.subdomain)).then(e=>({token:t,site:e.data}))).then(({site:e,token:n})=>{S(n),y(e.name),t(l.o1.siteSuccess(e)),t((0,l.Tp)(e.name)),t((0,r.VC)(`/drop/${e.name}`)),E()})),E=()=>{(0,o.sc)("dropDeployId"),(0,o.sc)("dropUploadInterrupted")},N=()=>{(0,o.sc)("dropSiteName"),(0,o.sc)("drop-token"),E()},b=e=>(t,n)=>t(v(n)?I(e):A(e)),C=(e,t=m())=>(0,u.Nt)((n,i,a)=>{if(!v(i)){let e=`/signup?next=${window.location.pathname}&utm_campaign=drop`;return n((0,d.d9)(e))}let{name:o,id:s,claimed:u}=e.toJS(),c=`/sites/${o}`;return u?n((0,r.VC)(c)):a.dropClaim(s,t).then(()=>n((0,l.UK)(o))).then(()=>{N(),n((0,r.VC)(c))}).catch(()=>{})}),w=()=>{let e=m(),t=_();if(e&&t)return(0,u.Nt)((n,i,r)=>{n((0,l.UK)(t)).then(()=>{let{id:a,claimed:o}=(0,l.Gd)(i(),t,!1).toJS();if(o){N();return}return r.dropClaim(a,e).then(()=>n((0,l.UK)(t))).then(()=>{N()})})})}},51100:(e,t,n)=>{n.d(t,{fo:()=>g,lT:()=>d,pD:()=>f,vm:()=>c,zF:()=>p});var i=n(44110),r=n(12345),a=n(56020),o=n(53372);let s="edgeFunctionLogs",u=(0,r.q)(s),c=(0,r.B)(s,u,{getKey:(e,t)=>`${e.ts}-${e.requestId}-${t}`});function l(e,t={}){return[e,t.cursor||"",t.q||"",t.from||"",t.to||"",t.deployId||""].filter(Boolean).join("-")}function d(e,t,n={}){let i=e.edgeFunctionLogs.getIn(["pages",l(t,n),"ids"]);return i&&i.map(t=>(function(e,t){let n=e.edgeFunctionLogs.getIn(["entities",t]);return n&&n.merge(e.edgeFunctionLogs.get(t))})(e,t))}function g(e,t,n){return!!e.edgeFunctionLogs.getIn(["pages",l(t,n),"isFetching"])}function p(e,t,n){return e.edgeFunctionLogs.getIn(["pages",l(t,n),"next"])}function f(e,t){let n={cursor:t.cursor,q:t.q,from:t.from,to:t.to,deployId:t.deployId};return(0,a.Jh)((r,a,s)=>{let c=l(e,n);return r(u.edgeFunctionLogsRequest(c)),s.historicalEdgeFunctionLogs({site_id:e,deploy_id:t.deployId,from:t.from,to:t.to,next_cursor:t.next_cursor,search:t.q}).then(n=>{let o=d(a(),e,t)||(0,i.List)(),s=o?[...o.toJS(),...n.data.logs]:n.data.logs;return r(u.edgeFunctionLogsSuccess(c,s,n.pagination))}).catch(e=>new o.LG(e))})}},46286:(e,t,n)=>{n.d(t,{Vr:()=>l,dk:()=>c,nb:()=>u});var i=n(44110),r=n(66602),a=n(53372);let o="EDGE_FUNCTIONS_SUCCESS",s=(0,r.A)(o,(e,t)=>({deployId:e,data:t}));function u(e){return(0,a.Nt)((t,n,i)=>i.edgeFunctions(e).then(n=>{t(s(e,n.data))}))}function c(e=(0,i.Map)(),t){if(t.type===o){let{deployId:n,data:{edge_functions:i}}=t.payload;return e.setIn(["entities",n],i)}return e}function l(e,t){return e.edgeFunctions.get("entities")?e.edgeFunctions.get("entities").get(t):[]}},3640:(e,t,n)=>{n.d(t,{KW:()=>d,P$:()=>h,Ry:()=>m,Y_:()=>l,ck:()=>c,cr:()=>f,g8:()=>p,m9:()=>g,mP:()=>S,ro:()=>u});var i=n(44110),r=n(12345),a=n(53372);let o="environmentVariables",s=(0,r.q)(o),u=(0,r.B)(o,s,{key:"key"});function c(e,t){return e.environmentVariables.getIn(["pages",t,"ids"],(0,i.List)()).map(t=>e.environmentVariables.getIn(["entities",t]).toJS()).toJS()}function l(e,t){return e.environmentVariables.getIn(["pages",t,"isFetching"])}function d(e,t){return e.environmentVariables.getIn(["pages",t,"error"])}function g({accountId:e,siteId:t,scope:n,context:i,merge:r}){return(0,a.Nt)((a,o,u)=>(a(s.environmentVariablesRequest(t||e)),u.getEnvVars({accountId:e,siteId:t,scope:n,context:i,merge:r}).then(n=>a(s.environmentVariablesSuccess(t||e,n.data,n.pagination))).catch(n=>{Promise.reject(n),a(s.environmentVariablesFailure(t||e,n))})))}function p({accountId:e,siteId:t,envVars:n}){return(0,a.Nt)((i,r,a)=>a.createEnvVars({accountId:e,siteId:t,envVars:n}).then(n=>i(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function f({accountId:e,siteId:t,oldKey:n,newKey:i,is_secret:r,scopes:o,values:s}){return(0,a.Nt)((a,u,c)=>c.updateEnvVar({accountId:e,siteId:t,oldKey:n,newKey:i,is_secret:r,scopes:o,values:s}).then(n=>a(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function h({accountId:e,siteId:t,envVars:n}){return(0,a.Nt)((i,r,a)=>Promise.all(n.map(n=>a.updateEnvVar({accountId:e,siteId:t,oldKey:n.key,newKey:n.key,is_secret:n.is_secret,scopes:n.scopes,values:n.values}))).then(n=>i(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function m({accountId:e,siteId:t,envVars:n}){return(0,a.Nt)((i,r,a)=>Promise.all(n.flatMap(n=>n.values.map(({context:i,context_parameter:r,value:o})=>a.setEnvVarValue({accountId:e,siteId:t,key:n.key,context:i,context_parameter:r,value:o})))).then(n=>i(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}function S({accountId:e,siteId:t,key:n,id:i}){return(0,a.Nt)((r,a,o)=>o.deleteEnvVar({accountId:e,siteId:t,key:n,id:i}).then(n=>r(g({accountId:e,siteId:t}))).catch(e=>Promise.reject(e)))}},64717:(e,t,n)=>{n.d(t,{C:()=>f,Cm:()=>h,Ic:()=>u,JE:()=>l,UJ:()=>m,X$:()=>_,Xn:()=>p,bG:()=>s,eH:()=>d,gi:()=>c,nm:()=>S});var i=n(53372),r=n(12345),a=n(65900);let o=(0,r.q)("accountFirewallRuleSets"),s=(0,r.B)("accountFirewallRuleSets",o,{key:"account_id"});function u(e,t){var n;return!t||null===(n=e.accountFirewallRuleSets.getIn(["entities",t,"isFetching"]))||void 0===n||n}function c(e,t){if(t)return e.accountFirewallRuleSets.getIn(["entities",t,"data"])}function l(e){return(0,i.Nt)((t,n,i)=>(t(o.accountFirewallRuleSetRequest(e)),i.accountFirewallRuleSet(e).then(n=>{t(o.accountFirewallRuleSetSuccess({data:n.data,account_id:e}))}).catch(n=>{(null==n?void 0:n.code)===404&&t(o.accountFirewallRuleSetSuccess({account_id:e,data:void 0}))})))}function d(e,t){return(0,i.Nt)((n,i,r)=>r.updateAccountFirewallRuleSet(e,t).then(()=>{n(l(e))}))}let g=(0,r.q)("siteFirewallRuleSets"),p=(0,r.B)("siteFirewallRuleSets",g,{key:"site_id"});function f(e,t){var n;let i=(0,a.Gd)(e,t);return!i||null===(n=e.siteFirewallRuleSets.getIn(["entities",i.get("site_id"),"isFetching"]))||void 0===n||n}function h(e,t){let n=(0,a.Gd)(e,t);if(n)return e.siteFirewallRuleSets.getIn(["entities",n.get("site_id"),"data"])}function m(e){return(0,i.Nt)((t,n,i)=>{let r=(0,a.Gd)(n(),e);if(!r)return;let o=r.get("site_id");return t(g.siteFirewallRuleSetRequest(o)),i.siteFirewallRuleSet(o).then(e=>t(g.siteFirewallRuleSetSuccess({data:e.data,site_id:o}))).catch(e=>{if((null==e?void 0:e.code)===404)return t(g.siteFirewallRuleSetSuccess({data:void 0,site_id:o}))})})}function S(e,t){return(0,i.Nt)((n,i,r)=>{let o=(0,a.Gd)(i(),e).get("site_id");return r.updateSiteFirewallRuleSet(o,t).then(()=>{n(m(e))})})}function _(e){return(0,i.Nt)((t,n,i)=>{let r=(0,a.Gd)(n(),e).get("site_id");return i.deleteSiteFirewallRuleSet(r).then(()=>{t(m(e))})})}},43963:(e,t,n)=>{n.d(t,{Ko:()=>A,LC:()=>_,OM:()=>m,Sp:()=>f,Un:()=>y,Xx:()=>h,YS:()=>u,Yd:()=>d,i6:()=>p,mb:()=>I,nv:()=>g,qt:()=>S,uO:()=>o,yK:()=>v,ye:()=>c});var i=n(12345),r=n(53372);let a=(0,i.q)("forms"),o=(0,i.B)("forms",a),s=(0,i.q)("submissions"),u=(0,i.B)("submissions",s);function c(e,t={page:1,perPage:20}){let n=e.get("id");return(0,r.Nt)((e,i,r)=>(e(a.formsRequest(n)),r.siteForms(n,t).then(t=>e(a.formsSuccess(n,t.data,t.pagination)))))}function l(e,t={}){return t.formId?t.formId:`site-${e.get("id")}`}function d(e,t){let n=e.get("id");return(0,r.Nt)((i,r,a)=>(i(c(e)),a.formSubmissions(n,t).then(n=>i(s.submissionsSuccess(l(e,t),n.data,n.pagination))).catch(n=>i(s.submissionsFailure(l(e,t),n.error)))))}function g(e,t,n){let i=e.get("id");return(0,r.Nt)((r,a,o)=>Promise.all(t.map(e=>o.deleteFormSubmission(i,e))).then(t=>r(d(e,n))))}function p(e,t){let n=e.get("id");return(0,r.Nt)((e,i,r)=>r.deleteForm(n,t))}function f(e,t,n){let i=e.get("id");return(0,r.Nt)((r,a,o)=>Promise.all(t.map(e=>o.markSubmissionAsHam(i,e))).then(t=>{r(d(e,n))}))}function h(e,t,n){let i=e.get("id");return(0,r.Nt)((r,a,o)=>Promise.all(t.map(e=>o.markSubmissionAsSpam(i,e))).then(t=>{r(d(e,n))}))}function m(e,t){let n=e.forms.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.forms.getIn(["entities",t]))}function S(e,t){var n;return null===(n=e.forms)||void 0===n?void 0:n.getIn(["pages",t.get("id"),"isFetching"])}function _(e,t){return e.forms.getIn(["entities",t])}function y(e,t){return e.forms.getIn(["pages",t.get("id")])}function v(e,t,n){let i=e.submissions.getIn(["pages",l(t,n),"ids"]);return i&&i.map(t=>e.submissions.getIn(["entities",t]))}function I(e,t,n){return e.submissions.getIn(["pages",l(t,n),"error"])}function A(e,t,n){return e.submissions.getIn(["pages",l(t,n)])}},25669:(e,t,n)=>{n.d(t,{KB:()=>f,cW:()=>d,iw:()=>p,ix:()=>g,sU:()=>c});var i=n(44110),r=n(12345),a=n(56020),o=n(53372);let s="functionLogs",u=(0,r.q)(s),c=(0,r.B)(s,u,{getKey:(e,t)=>`${e.ts}-${e.requestId}-${t}`});function l(e,t,n={}){return[e,t,n.deployId||"",n.branch||"",n.cursor||"",n.q||"",n.from||"",n.to||""].filter(Boolean).join("-")}function d(e,t,n,i={}){let r=e.functionLogs.getIn(["pages",l(t,n,i),"ids"]);return r&&r.map(t=>(function(e,t){let n=e.functionLogs.getIn(["entities",t]);return n&&n.merge(e.functionLogs.get(t))})(e,t))}function g(e,t,n,i){return!!e.functionLogs.getIn(["pages",l(t,n,i),"isFetching"])}function p(e,t,n,i){return e.functionLogs.getIn(["pages",l(t,n,i),"next"])}function f(e,t,n){let r={branch:n.branch,cursor:n.cursor,q:n.q,from:n.from,to:n.to,deployId:n.deployId};return(0,a.Jh)((a,s,c)=>{let g=l(e,t,r);return a(u.functionLogsRequest(g)),c.historicalFunctionLogs({site_id:e,name:t,branch:n.branch,from:n.from,to:n.to,next_cursor:n.next_cursor,search:n.q,deploy_id:n.deployId}).then(r=>{let o=d(s(),e,t,n)||(0,i.List)(),c=o?[...o.toJS(),...r.data.logs]:r.data.logs;return a(u.functionLogsSuccess(g,c,r.pagination))}).catch(e=>new o.LG(e))})}},59989:(e,t,n)=>{n.d(t,{Cn:()=>m,V2:()=>y,cq:()=>_,gK:()=>f,nv:()=>S,tq:()=>h,z1:()=>v});var i=n(44110),r=n(66602),a=n(56020),o=n(53372);let s=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),u="FUNCTIONS_SUCCESS",c="FUNCTIONS_ACCOUNT_TIMESERIES_SUCCESS",l="BACKGROUND_FUNCTIONS_ACCOUNT_TIMESERIES_SUCCESS",d=(0,i.fromJS)({id:"empty",functions:[]}),g=(0,r.A)(u,(e,t,n)=>({siteId:e,scope:t,data:n})),p=(0,r.A)(c,(e,t)=>{let n=[],i=[];return t.forEach(e=>{let t=new Date(e.start).setUTCHours(0,0,0,0);n.push([t,e.values.count]),i.push([t,e.values.memory_usage_mb_ms])}),{id:e,counts:{data:{requests:n,compute:i}}}});function f(e,t){let n=e.get("id");return(0,o.Nt)((e,i,r)=>r.functions(n,t).then(i=>{e(g(n,t,i.data))}))}function h({accountId:e,from:t,to:n}){return(0,a.Jh)((i,r,a)=>a.accountFunctionsUsageTimeseries({id:e,from:t,to:n}).then(t=>{i(p(e,t.data))}).catch(e=>new o.LG(e)))}function m(e=(0,i.Map)(),t){switch(t.type){case u:{let{siteId:n,scope:r="default",data:a}=t.payload,o=a&&a.id?(0,i.fromJS)(a):d;return e.setIn(["entities",o.get("id")],o).setIn(["pages",n,r],o.get("id"))}case c:return e.set(s(t.payload,"functionsAccountTimeseries"),(0,i.fromJS)(t.payload.counts));case l:return e.set(s(t.payload,"backgroundFunctionsAccountTimeseries"),(0,i.fromJS)(t.payload.counts));default:return e}}function S(e,t,n){n=n||"default";let i=e.functions.getIn(["pages",t.get("id"),n]);return i&&e.functions.getIn(["entities",i])}function _(e,t,n){let i=S(e,t,n);return i&&i.get("functions").map(e=>e.set("c",e.get("c")||i.get("created_at")))}function y(e,t,n,i){let r=_(e,t,n);return r&&r.find(e=>e.get("n")===i)}function v(e,t){var n;return null===(n=e.functions)||void 0===n?void 0:n.get(s({id:t},"functionsAccountTimeseries"))}(0,r.A)(l,(e,t)=>{let n=[],i=[];return t.forEach(e=>{let t=new Date(e.start).setUTCHours(0,0,0,0);n.push([t,e.values.count]),i.push([t,e.values.memory_usage_mb_ms])}),{id:e,counts:{data:{requests:n,compute:i}}}})},78028:(e,t,n)=>{n.d(t,{$Y:()=>v,H0:()=>N,NM:()=>f,QF:()=>y,Qk:()=>E,U0:()=>p,W7:()=>S,a:()=>C,o7:()=>A,oL:()=>I,v0:()=>b,wj:()=>_,zc:()=>m});var i=n(44110),r=n(66602),a=n(4140),o=n(69895),s=n(17250),u=n(88704);let c="GIT_SET_PROVIDER",l="GIT_SET_SEARCH_TERM",d="GIT_SET_USER",g=(0,r.A)("GIT_NO_PROVIDER"),p=(0,r.A)(c,(e,t)=>({provider:e,credentials:t})),f=(0,r.A)(l,e=>e),h=(0,r.A)(d,e=>e);function m(e){return(t,n)=>{let i=(0,o.eC)(n());return i?e(t,n,i):t(g())}}function S(e,t){let n=!1;return"github-proxied"===e&&(e=a.zG.github,n=!0),(i,r)=>{let a=r().git,s=a&&e===a.get("provider")?(0,o.Ow)(e,a.get("accessToken"),a.get("apiEndpoint")):(0,o.Ow)(e);return s?(n&&(s.root="/.netlify/functions/git"),t(i,r,s)):i(g())}}function _(){return m((e,t,n)=>n.user().then(n=>(e(h(n.data)),C(t()))))}function y(e){return(t,n)=>t((0,u.QF)(e)).then(()=>t(_()))}function v(e=(0,i.Map)(),t){switch(t.type){case c:let n={provider:t.payload.provider,accessToken:t.payload.credentials.token};return t.payload.credentials.refresh_token&&(n.refreshAccessToken=t.payload.credentials.refresh_token),t.payload.credentials.api_endpoint&&(n.apiEndpoint=t.payload.credentials.api_endpoint),(0,i.fromJS)(n);case l:return e.set("search",t.payload);case d:return e.set("user",(0,i.fromJS)(t.payload));default:return e}}function I(e){return e.git.get("provider")}function A(e){return e.git.get("accessToken")}function E(e){return e.git.get("apiEndpoint")}function N(e){if("bitbucket_self_hosted"===e.git.get("provider"))return(0,s.PR)(e).getIn(["bitbucket_self_hosted_config","instance_url"])}function b(e){return e.git.get("search")}function C(e){return e.git.get("user")}},5698:(e,t,n)=>{n.d(t,{I3:()=>c,N6:()=>o,PD:()=>s,X1:()=>u});var i=n(12345),r=n(78028);let a=(0,i.q)("gitOrganizations");function o(){return(0,r.zc)((e,t,n)=>{e(a.gitOrganizationsRequest(n.provider));let i=t().git.getIn(["user","login"]);n.organizations({userLogin:i}).then(t=>e(a.gitOrganizationsSuccess(n.provider,t.data,t.pagination)),t=>e(a.gitOrganizationsFailure(n.provider,t)))})}let s=(0,i.B)("gitOrganizations",a,{key:"full_name"});function u(e){let t=(0,r.oL)(e),n=e.gitOrganizations.getIn(["pages",t,"ids"]);return n&&n.map(t=>c(e,t))}function c(e,t){return e.gitOrganizations.getIn(["entities",t])}},96655:(e,t,n)=>{n.d(t,{C:()=>a});let i=new Map,r=async({accountId:e})=>{let t=`/access-control/bb-api/api/v1/accounts/${e}/jwt`,n=await fetch(t,{headers:{"Content-type":"application/json"},credentials:"include"});if(200===n.status)return await n.json();throw Error(`Non-200 status when exchanging API token for short-lived JWT: ${n.status}`)};function a({accountId:e}){let t=i.get(e);if(t&&!("jwt"in t&&t.expiration-3e5<performance.now()))return Promise.resolve(t);let n=r({accountId:e}).then(t=>{let n=t.jwt,r=JSON.parse(atob(n.split(".")[1].replace(/_/g,"/").replace(/-/g,"+"))),a=r.exp-r.iat,o=performance.now()+1e3*a;return i.set(e,{jwt:n,expiration:o}),{jwt:n,expiration:o}}).catch(t=>{throw i.delete(e),t});return i.set(e,n),n}},12345:(e,t,n)=>{n.d(t,{B:()=>s,q:()=>o});var i=n(44110),r=n(6985),a=n(66602);function o(e){let t=(0,r.ES)(e),n=t.toUpperCase(),i=e.toUpperCase(),o={REQUEST:`${n}_REQUEST`,SUCCESS:`${n}_SUCCESS`,FAILURE:`${n}_FAILURE`},s={REQUEST:`${i}_REQUEST`,SUCCESS:`${i}_SUCCESS`,FAILURE:`${i}_FAILURE`},u=(0,a.A)(o.REQUEST,e=>e),c=(0,a.A)(o.SUCCESS,e=>e),l=(0,a.A)(o.FAILURE,(e,t)=>({id:e,error:t})),d=(0,a.A)(s.REQUEST,e=>e),g=(0,a.A)(s.SUCCESS,(e,t,n)=>({list:e,entities:t,pages:n})),p=(0,a.A)(s.FAILURE,(e,t)=>({list:e,error:t}));return{[n]:o,[i]:s,[`${t}Request`]:u,[`${t}Success`]:c,[`${t}Failure`]:l,[`${e}Request`]:d,[`${e}Success`]:g,[`${e}Failure`]:p}}function s(e,t,n={}){let a=(0,r.ES)(e),o=e.toUpperCase(),u=a.toUpperCase();return(e=(0,i.Map)({entities:(0,i.Map)(),pages:(0,i.Map)()}),r)=>{let a=n.handler&&n.handler(e,r);if(a)return a;let s=n.key||"id",c=n.getKey||(e=>e[s]);switch(r.type){case t[u].REQUEST:return e.setIn(["entities",r.payload,"isFetching"],!0);case t[u].SUCCESS:{let t=c(r.payload);if(!t)return e;let n=t.toString(),a=e.getIn(["entities",n])||(0,i.Map)();return e.setIn(["entities",n],a.merge(r.payload,{isFetching:!1}))}case t[u].FAILURE:return e.withMutations(e=>{e.setIn(["entities",r.payload.id,"error"],(0,i.fromJS)(r.payload.error)).setIn(["entities",r.payload.id,"isFetching"],!1)});case t[o].REQUEST:return e.setIn(["pages",r.payload,"isFetching"],!0);case t[o].SUCCESS:{let{list:t,entities:n,pages:a}=r.payload;return e.withMutations(e=>{n.forEach((t,n)=>e.setIn(["entities",c(t,n).toString()],(0,i.fromJS)(t).set("isFetching",!1))),e.setIn(["pages",t],(0,i.Map)({...a,ids:(0,i.List)(n.map((e,t)=>c(e,t).toString()))}))})}case t[o].FAILURE:return e.setIn(["pages",r.payload.list,"error"],(0,i.fromJS)(r.payload.error));default:return e}}}},51704:(e,t,n)=>{n.d(t,{$3:()=>d,JL:()=>p,LG:()=>g,ab:()=>c,db:()=>f,p$:()=>l,pb:()=>u,vo:()=>h});var i=n(44110),r=n(12345),a=n(53372);let o=(0,r.q)("hooks"),s="HOOK_TYPES";function u(e){return(0,a.Nt)((t,n,i)=>(t(o.hooksRequest(e.get("id"))),i.hooks(e.get("id")).then(n=>t(o.hooksSuccess(e.get("id"),n.data,n.pagination)),n=>t(o.hooksFailure(e.get("id"),n.message)))))}function c(e,t){let n={site_id:e.get("id"),event:t.event,type:t.type,data:t.data,form_id:t.form_id};return(0,a.Nt)((t,i,r)=>r.addHook(n).then(n=>{t(u(e))}))}function l(e,t,n){let i=t.get("id");return(0,a.Nt)((t,r,a)=>a.updateHook(i,n).then(e=>e.data.disabled?a.enableHook(i):Promise.resolve(e)).then(()=>t(u(e))))}function d(e,t){return(0,a.Nt)((n,i,r)=>r.deleteHook(t.get("id")).then(t=>n(u(e))))}function g(e){return(0,a.Nt)((t,n,i)=>i.hookTypes(e.get("id")).then(n=>t({type:s,payload:{siteId:e.get("id"),types:n.data}})))}let p=(0,r.B)("hooks",o,{handler:(e,t)=>t.type===s?e.setIn(["types",t.payload.siteId],(0,i.fromJS)(t.payload.types)):null});function f(e,t){let n=e.hooks.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.hooks.getIn(["entities",t]))}function h(e,t){return e.hooks.getIn(["types",t.get("id")])}},70120:(e,t,n)=>{n.d(t,{DA:()=>N,D_:()=>S,FU:()=>m,G:()=>T,HM:()=>E,Lx:()=>w,RD:()=>_,Ut:()=>C,XD:()=>I,YM:()=>P,Yn:()=>y,fr:()=>v,go:()=>b,hA:()=>U,jn:()=>L,m4:()=>R,xB:()=>D});var i=n(44110),r=n(66602),a=n(56315),o=n(12345),s=n(23015),u=n(53372),c=n(65900);let l="IDENTITY_CREATED",d="IDENTITY_SUCCESS",g=(0,o.q)("identityUsers"),p=(0,r.A)(l,(e,t)=>({siteId:e,data:t})),f=(0,r.A)(d,(e,t)=>({siteId:e,data:t})),h=(e,{filter:t})=>`${e}${t?`-${t}`:""}`,m=(0,o.B)("identityUsers",g);function S(e=(0,i.Map)(),t){switch(t.type){case l:case d:return e.set(t.payload.siteId,(0,i.fromJS)(t.payload.data));default:return e}}function _(e,t){return e.identity.get(t.get("id"))}function y(e,t){return e.identityUsers.getIn(["entities",t])}function v(e,t,n){let i=e.identityUsers.getIn(["pages",h(t.get("id"),n),"ids"]);return i&&i.map(t=>y(e,t))}function I(e,t,n){return e.identityUsers.getIn(["pages",h(t.get("id"),n)])}function A(e,t,n){let i=_(n(),e);return i?Promise.resolve(i):t(E(e)).then(()=>_(n(),e))}function E(e){let t=e.get("id"),n=e.get("identity_instance_id");return(0,u.Nt)((e,i,r)=>n?r.identity(t,n).then(n=>e(f(t,n.data))):Promise.resolve())}function N(e,t={}){let n=e.get("id");return(0,u.Nt)((i,r,a)=>a.createIdentity(n,t).then(e=>i(p(n,e.data))).then(()=>i((0,c.UK)(e.get("name")))).then(e=>i((0,c.Ej)(e))))}function b(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.Nt)((r,a,o)=>i?o.updateIdentity(n,i,t).then(()=>r(E(e))):Promise.reject({code:404}))}function C(e){let t=e.get("id"),n=e.get("identity_instance_id");return(0,u.Nt)((i,r,a)=>n?a.deleteIdentity(t,n).then(()=>i((0,c.UK)(e.get("name")))):Promise.resolve())}function w(e,t={}){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.Nt)((e,r,a)=>i?a.identityUsers(n,i,t).then(i=>e(g.identityUsersSuccess(h(n,t),i.data,i.pagination))).catch(i=>404===i.code?e(g.identityUsersSuccess(h(n,t),[],{})):Promise.reject(i)):Promise.resolve())}function R(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.Nt)((r,a,o)=>i?A(e,r,a).then(()=>o.identityUser(n,i,t).then(e=>r(g.identityUserSuccess(e.data)))):Promise.reject({code:404}))}function T(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.Nt)((r,a,o)=>o.createIdentityUser(n,i,t).then(t=>r(w(e))))}function U(e,t,n){let r=e.get("id"),a=e.get("identity_instance_id"),o=t.get("id");return(0,u.Nt)((t,s,c)=>(t(function(e,t){let n=t&&t.app_metadata&&t.app_metadata.roles;return(0,u.Nt)((t,r,a)=>n&&n.length?A(e,t,r).then(r=>{if(!r)return;let a=(0,i.Set)(r.getIn(["external_attributes","roles"])),o=a.merge(n);o.size>a.size&&t(b(e,{external_attributes:{roles:o}}))}):Promise.resolve())}(e,n)),c.updateIdentityUser(r,a,o,n).then(()=>t(R(e,o)))))}function D(e,t){let n=e.get("id"),i=e.get("identity_instance_id"),r=t.get("id");return(0,u.Nt)((t,o,u)=>u.deleteIdentityUser(n,i,r).then(()=>t(w(e))).then(()=>t((0,a.VC)((0,s.l2)(e,"identity")))))}function P(e,t){let n=e.get("id"),i=e.get("identity_instance_id"),r=t.get("id");return(0,u.Nt)((e,t,a)=>a.sendIdentityRecovery(n,i,r))}function L(e,t){let n=e.get("id"),i=e.get("identity_instance_id");return(0,u.Nt)((r,a,o)=>o.sendIdentityInvites(n,i,{invites:t}).then(()=>r(w(e))))}},45397:(e,t,n)=>{n.d(t,{GT:()=>c,WP:()=>s,_x:()=>u,sK:()=>l});var i=n(12345),r=n(53372);let a=(0,i.q)("identityAudits"),o=({siteId:e,searchTerm:t}={})=>`${e}${t?`-${t}`:""}`,s=(0,i.B)("identityAudits",a);function u(e,t){let n=e.identityAudit.getIn(["pages",o(t),"ids"]);return n&&n.map(t=>e.identityAudit.getIn(["entities",t]))}function c(e,t){return e.identityAudit.getIn(["pages",o(t)])}function l(e){return(0,r.Nt)((t,n,i)=>e.identityId&&e.isValidKey?i.identityAudit(e).then(n=>t(a.identityAuditsSuccess(o(e),n.data,n.pagination))).catch(n=>404===n.code?t(a.identityAuditsSuccess(o(e),[],{})):Promise.reject(n)):Promise.resolve())}},24750:(e,t,n)=>{n.d(t,{K8:()=>g,ZK:()=>c,_w:()=>d});var i=n(44110),r=n(66602),a=n(56020),o=n(53372);let s=(e,t)=>[e.get?e.get("id"):e.id,t].join("-"),u="IMAGE_CDN_ACCOUNT_TIMESERIES_SUCCESS";function c(e=(0,i.Map)(),t){return t.type===u?e.set(s(t.payload,"imageCdnAccountTimeseries"),(0,i.fromJS)(t.payload)):e}let l=(0,r.A)(u,(e,t)=>({id:e,data:t.map(e=>[new Date(e.start).setUTCHours(0,0,0,0),e.values.transformations])}));function d({accountId:e,from:t,to:n}){return(0,a.Jh)((i,r,a)=>a.accountImageCdnUsageTimeseries({id:e,from:t,to:n}).then(t=>{i(l(e,t.data))}).catch(e=>new o.LG(e)))}function g(e,t){var n;return null===(n=e.imageCdn)||void 0===n?void 0:n.get(s({id:t},"imageCdnAccountTimeseries"))}},61939:(e,t,n)=>{n.d(t,{B2:()=>u,LV:()=>l,VI:()=>c,v9:()=>s});var i=n(12345),r=n(53372);let a=(0,i.q)("largeMediaAssets"),o=(e,{filter:t})=>`${e}${t?`-${t}`:""}`,s=(0,i.B)("largeMediaAssets",a);function u(e,t){let n=e.get("id"),i=e.get("use_lm");return(0,r.Nt)((e,r,s)=>i?s.largeMediaAssets(n,t).then(i=>e(a.largeMediaAssetsSuccess(o(n,t),i.data,i.pagination))):Promise.resolve())}function c(e,t,n){let i=e.largeMediaAssets.getIn(["pages",o(t.get("id"),n),"ids"]);return i&&i.map(t=>e.largeMediaAssets.getIn(["entities",t]))}function l(e,t,n){return e.largeMediaAssets.getIn(["pages",o(t.get("id"),n)])}},49181:(e,t,n)=>{n.d(t,{Bo:()=>u,EH:()=>p,_5:()=>l,b9:()=>d,cI:()=>c,cU:()=>f,gD:()=>g,mJ:()=>s});var i=n(12345),r=n(53372);let a="logDrains",o=(0,i.q)(a),s=(0,i.B)(a,o);function u(e,t){var n,i;let[r]=(null===(n=e.logDrains.getIn(["pages",t,"ids"]))||void 0===n?void 0:n.toJS())||[];return null===(i=e.logDrains.getIn(["entities",r]))||void 0===i?void 0:i.toJS()}function c(e,t){return e.logDrains.getIn(["pages",t,"isFetching"])}function l(e){return(0,r.Nt)((t,n,i)=>(t(o.logDrainsRequest(e)),i.logDrains(e).then(n=>{(n.data||[]).forEach(e=>{let{url:t,integration_name:n}=e.service_config;t&&new URL(t).host.endsWith(".sumologic.com")&&(e.destination="sumologic"),n&&(e.destination=n)}),t(o.logDrainsSuccess(e,n.data))})))}function d(e,t={}){return(0,r.Nt)((n,i,r)=>r.createLogDrain(e,t).then(t=>{n(o.logDrainsSuccess(e,[t.data]))}))}function g(e,t,n){return(0,r.Nt)((i,r,a)=>a.verifyLogDrain(e,t,n).then(()=>{let t={...u(r(),e),verified:!0};i(o.logDrainsSuccess(e,[t]))}))}function p(e,t,n={}){return(0,r.Nt)((i,r,a)=>a.updateLogDrain(e,t,n).then(t=>{i(o.logDrainsSuccess(e,[t.data]))}))}function f(e,t){return(0,r.Nt)((n,i,r)=>r.deleteLogDrain(e,t).then(()=>{n(o.logDrainsSuccess(e,[]))}))}},81203:(e,t,n)=>{n.d(t,{Av:()=>d,MD:()=>u,Ql:()=>c,ol:()=>l});var i=n(56315),r=n(12345),a=n(17250),o=n(53372);let s=(0,r.q)("members");function u(e){let t=e.get("id");return(0,o.Nt)((e,n,i)=>(e(s.membersRequest(t)),i.members(t).then(n=>e(s.membersSuccess(t,n.data,n.pagination)))))}function c(e){return(0,o.Nt)((t,n,r)=>r.acceptInvite(e).then(e=>{e.data.site_id?t((0,i.VC)(`/sites/${e.data.name}`)):t((0,a.xk)()).then(()=>t((0,i.VC)(`/teams/${e.data.slug}`)))}))}let l=(0,r.B)("members",s);function d(e,t){let n=e.members.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.members.getIn(["entities",t]))}},96508:(e,t,n)=>{n.d(t,{$P:()=>g,Ge:()=>f,V6:()=>p,XY:()=>c,Y7:()=>h,k:()=>l,mw:()=>m,sq:()=>d});var i=n(44110),r=n(53372),a=n(88704);let o="MULTIFACTOR_AUTH_SETUP",s="MULTIFACTOR_AUTH_ENABLE",u="MULTIFACTOR_AUTH_DISABLE";function c(e=(0,i.fromJS)({}),t){switch(t.type){case o:return e.merge((0,i.fromJS)({setup:t.payload}));case s:return e.merge((0,i.fromJS)({isEnabled:!0,recoveryCodes:t.payload}));case u:return e.merge((0,i.fromJS)({isEnabled:!1,recoveryCodes:null}));default:return e}}function l(){return(0,r.Nt)(async(e,t,n)=>{let{data:i}=await n.setupMultiFactorAuth();e({type:o,payload:i})})}function d({otp:e,token:t}){return(0,r.Nt)(async(n,i,r)=>{let{data:a}=await r.enableMultiFactorAuth({otp:e,token:t});n({type:s,payload:a.backup_codes})})}function g({otp:e}){return(0,r.Nt)(async(t,n,i)=>{let{data:r}=await i.disableMultiFactorAuth({otp:e});t({type:u,payload:r}),t((0,a.Xh)({reload:!0}))})}function p({otp:e,token:t}){return(0,r.Nt)(async(n,i,r)=>{let{data:a}=await r.verifyLogin({otp:e,token:t});window.location.href=a.redirect_path})}function f(e){let{multiFactorAuth:t}=e;return(null==t?void 0:t.get("setup"))||null}function h(e){let{user:t,multiFactorAuth:n}=e;return!!(null==n?void 0:n.get("isEnabled"))||!!(null==t?void 0:t.get("mfa_enabled"))}function m(e){let{multiFactorAuth:t}=e;return null==t?void 0:t.get("recoveryCodes")}},65264:(e,t,n)=>{n.d(t,{$e:()=>m,JF:()=>g,K4:()=>h,LG:()=>f,fg:()=>d,mo:()=>p});var i=n(44110),r=n(66602),a=n(76690),o=n(85342),s=n(77596),u=n(88704);let c="NOTIFICATIONS_SUCCESS",l=(0,r.A)(c,e=>e);function d(){return(e,t)=>{fetch("/.netlify/builders/notifications").then(e=>{if(!e.ok)throw Error(`Error fetching notifications - ${e.status} - ${e.statusText}`);return e.json().catch(t=>{throw Error(`Error parsing notifications JSON - ${e.status}`)})}).then(t=>{e(l(t))}).catch(e=>{throw new o.A(e.message||e)})}}function g(e){return(t,n)=>{let{accounts:i,user:r}=n(),o=e&&e.getIn([0,"updated_at"]);a.m39.appNotificationButtonClicked({accountSlug:i.get("selected"),flagged:new Date(r.getIn(["onboarding_progress","notifications_read_at"]))<new Date(o),notificationNames:e&&e.map(e=>(0,s.Yv)(null==e?void 0:e.get("title"))).toJS()}),t((0,u.JX)("notifications_read_at",o))}}function p(e){return(t,n)=>{let{accounts:i}=n();a.m39.appNotificationItemClicked({accountSlug:i.get("selected"),notificationName:(0,s.Yv)(e.get("title"))})}}function f(e){return e.notifications.get("data")}function h(e){let t=(0,u.QR)(e);return t&&t.getIn(["onboarding_progress","notifications_read_at"])}let m=(e=(0,i.Map)(),t)=>t.type===c?e.set("data",(0,i.fromJS)(t.payload)):e},48528:(e,t,n)=>{n.d(t,{$S:()=>ef,$t:()=>U,Cd:()=>X,EA:()=>C,Ed:()=>eh,Ee:()=>Q,Fd:()=>em,Fl:()=>eo,G5:()=>ee,IA:()=>ep,II:()=>K,IW:()=>q,JZ:()=>J,KD:()=>P,L_:()=>el,N6:()=>B,Np:()=>ea,Nu:()=>b,Sr:()=>ei,Tc:()=>F,Tj:()=>L,To:()=>ec,UM:()=>eu,WG:()=>eg,WZ:()=>$,X5:()=>et,YS:()=>D,Zb:()=>j,Zn:()=>E,cU:()=>k,cr:()=>e_,cw:()=>x,eh:()=>T,f8:()=>R,f_:()=>w,gs:()=>Z,iQ:()=>ey,jy:()=>Y,lr:()=>ed,n8:()=>H,nJ:()=>V,nr:()=>eS,om:()=>N,pP:()=>O,qB:()=>z,rQ:()=>M,si:()=>er,t7:()=>en,vd:()=>es,wj:()=>W,x6:()=>G}),n(99895);var i=n(44110),r=n(66602),a=n(56315),o=n(12345),s=n(85342),u=n(17250),c=n(53372);n(13554);var l=n(26460);let d="INVITE_CLEAR_FAILURES",g="INVITE_FAILURE",p=(0,r.A)(d),f=(0,r.A)(g),h=(0,o.q)("organizations"),m=(0,o.q)("organizationAccounts"),S=(0,o.q)("organizationMembers"),_=(0,o.q)("organizationInvoices"),y=((0,o.q)("organizationClientToken"),(0,o.q)("organizationReceipts")),v=(0,o.q)("organizationSaml"),I=(0,o.q)("organizationScims"),A=(0,o.q)("organizationScimMappings"),E=(0,o.B)("organizations",h,{key:"slug"}),N=(0,o.B)("organizationAccounts",m),b=(0,o.B)("organizationMembers",S,{handler:(e,t)=>{switch(t.type){case d:return e.setIn(["inviteErrors"],(0,i.List)());case g:{let n=e.get("inviteErrors")||(0,i.List)();return e.setIn(["inviteErrors"],n.push(t.payload))}default:return null}}}),C=(0,o.B)("organizationInvoices",_),w=(0,o.B)("organizationReceipts",y,{key:"transaction_id"}),R=(0,o.B)("organizationSaml",v,{key:"list"}),T=(0,o.B)("organizationScim",I),U=(0,o.B)("organizationScimMappings",A);function D(e){return(0,c.Nt)((t,n,i)=>(t(h.organizationRequest(e)),i.organization(e).then(e=>t(h.organizationSuccess(e.data))).catch(n=>t(h.organizationFailure(e,n)))))}function P(e){return(0,c.Nt)((t,n,i)=>(t(m.organizationAccountsRequest(e)),i.organizationAccounts(e).then(n=>{t(m.organizationAccountsSuccess(e,n.data))}).catch(n=>t(m.organizationAccountsFailure(e,n)))))}function L(e){return(0,c.Nt)((t,n,i)=>(t(S.organizationMembersRequest(e)),i.organizationMembers(e).then(n=>{t(S.organizationMembersSuccess(e,n.data))}).catch(n=>t(S.organizationMembersFailure(e,n)))))}function k(e){return(0,c.Nt)((t,n,i)=>(t(_.organizationInvoicesRequest(e)),i.organizationInvoices(e).then(n=>t(_.organizationInvoicesSuccess(e,n.data))).catch(n=>t(_.organizationInvoicesFailure(e,n)))))}function M(e){return(0,c.Nt)((t,n,i)=>(t(y.organizationReceiptsRequest(e)),i.organizationReceipts(e).then(n=>t(y.organizationReceiptsSuccess(e,n.data))).catch(n=>t(y.organizationReceiptsFailure(e,n)))))}function O(){return(0,c.Nt)((e,t,n)=>(e(h.organizationsRequest("organizations")),n.organizations().then(t=>e(h.organizationsSuccess("organizations",t.data,t.pagination)),t=>e(h.organizationsFailure("organizations",t)))))}function F(e){return(0,c.Nt)((t,n,i)=>i.organizationSamlConnection(e).then(n=>(t(v.organizationSamlSuccess(e,n.data)),n.data)))}function $(e){return(0,c.Nt)((t,n,i)=>(t(I.organizationScimRequest(e)),i.organizationScimConnection(e).then(n=>{let i=n.data.status||"inactive";return t(I.organizationScimSuccess({id:e,...n.data,status:i}))})))}function B(e){return(0,c.Nt)((t,n,i)=>(t(A.organizationScimMappingRequest(e)),i.organizationScimMappings(e).then(n=>t(A.organizationScimMappingSuccess({id:e,groups:n.data})))))}function z(e){return(0,c.Nt)((t,n,i)=>i.organizationSamlDashboard(e).then(({data:e})=>e.workos_portal_url))}function J(e){return(0,c.Nt)((t,n,i)=>i.organizationScimDashboard(e).then(({data:e})=>e.workos_portal_url))}function G(e,t){return(0,c.Nt)((n,i,r)=>r.organizationScimStatus(e,t).then(()=>{n($(e))}))}function q(e){return(0,c.Nt)((t,n,i)=>i.organizationSamlDeleteConnection(e).then(()=>{t(F(e))}))}function j(e){return e.organizations.getIn(["pages","organizations","ids"],(0,i.List)()).map(t=>Q(e,t))}function Y(e){return e.organizations.getIn(["pages","organizations","isFetching"])}function K(e,t){return e.organizations.getIn(["entities",t,"isFetching"])}function H(e,t){var n;return null===(n=e.organizationSaml)||void 0===n?void 0:n.getIn(["entities",t,"entities"])}function x(e,t){var n;return t?null===(n=e.organizationScim)||void 0===n?void 0:n.getIn(["entities",t]):(0,i.fromJS)({scim_configured:!1})}function V(e,t){var n;return t?null===(n=e.organizationScimMappings)||void 0===n?void 0:n.getIn(["entities",t]):(0,i.fromJS)({groups:[]})}function W(e,t){return e.organizations.getIn(["entities",t,"error"])}function Q(e,t){var n,i;let r=null===(n=e.organizations)||void 0===n?void 0:n.getIn(["entities",t]);if(null==r?void 0:r.get("error"))return null;if(r){let t=r.get("id");r=r.merge({accounts:null===(i=(0,u.N8)(e))||void 0===i?void 0:i.filter(e=>e.get("organization_id")===t)})}return r}function Z(e,t){return j(e).find(e=>e.get("id")===t)}function X(e,t){var n;let r=null===(n=e.organizationAccounts)||void 0===n?void 0:n.getIn(["pages",t]),a=null==r?void 0:r.get("ids");return a&&(null==a?void 0:a.size)?a&&a.map(t=>e.organizationAccounts.getIn(["entities",t])):(0,i.List)()}function ee(e,t){return e.organizationAccounts.getIn(["pages",t,"isFetching"])}function et(e,t){var n;let r=null===(n=e.organizationMembers)||void 0===n?void 0:n.getIn(["pages",t]),a=null==r?void 0:r.get("ids");return a&&(null==a?void 0:a.size)?a&&a.map(t=>e.organizationMembers.getIn(["entities",t])):(0,i.List)()}function en(e){return e.organizationMembers.getIn(["inviteErrors"])}function ei(e,t){var n;let i=null===(n=e.organizationInvoices)||void 0===n?void 0:n.getIn(["pages",t]),r=null==i?void 0:i.get("ids");if(r&&(null==r?void 0:r.size))return r&&r.map(t=>{var n;return null===(n=e.organizationInvoices)||void 0===n?void 0:n.getIn(["entities",t])})}function er(e,t){var n;return null===(n=e.organizationInvoices)||void 0===n?void 0:n.getIn(["pages",t,"isFetching"])}function ea(e,t){var n;let r=null===(n=e.organizationReceipts)||void 0===n?void 0:n.getIn(["pages",t]),a=null==r?void 0:r.get("ids");return a&&(null==a?void 0:a.size)?a&&a.map(t=>{var n;return null===(n=e.organizationReceipts)||void 0===n?void 0:n.getIn(["entities",t])}):(0,i.List)()}function eo(e,t){var n;return null===(n=e.organizationReceipts)||void 0===n?void 0:n.getIn(["pages",t,"isFetching"])}function es(e,t){let n=X(e,t);return null==n?void 0:n.reduce((e,t)=>(e.bandwidth.value+=t.getIn(["bandwidth_usage","used"])||0,e.bandwidth.limit+=t.getIn(["bandwidth_usage","included"])||0,e.buildMinutes.value+=t.getIn(["build_status","minutes","current"])||0,e.buildMinutes.limit+=t.getIn(["build_status","minutes","included_minutes_with_packs"])||0,e.concurrentBuilds.value+=t.getIn(["build_status","active"])||0,e.concurrentBuilds.limit+=t.get("included_concurrent_builds")||0,e),{bandwidth:{value:0,limit:0},buildMinutes:{value:0,limit:0},concurrentBuilds:{value:0,limit:0}})}function eu(e,t){let n=e.get("id"),i=e.get("slug");return(0,c.Nt)((e,r,o)=>o.organizationCreateAccount(n,t).then(()=>{e(P(n)),e((0,a.VC)(`/organizations/${i}/overview`))}))}function ec(e,t){let n=e.get("id");return(0,c.Nt)((e,i,r)=>r.organizationScimAddMapping(n,t).then(()=>{e(B(n))}))}function el(e,t){let n=e.get("id"),i=e.get("slug");return(0,c.Nt)((e,r,a)=>a.updateOrganization(n,t).then(({data:r})=>{let{logo:o}=t;void 0!==o?a.updateOrganizationLogo(n,o).catch(e=>new s.A(e)):a.deleteOrganizationLogo(n).catch(e=>new s.A(e)),e(h.organizationSuccess(r));let{slug:u}=r;u!==i&&e(D(u)).then(()=>{e((0,l.d9)(document.location.pathname.replace(`/organizations/${i}/`,`/organizations/${u}/`))),e(O())})}))}function ed(e,t){let n=e.get("id");return(0,c.Nt)((e,i,r)=>r.organizationScimUpdateMapping(n,t).then(()=>{e(B(n))}))}function eg(e,t){return(0,c.Nt)((n,i,r)=>r.updateOrganizationSecurityContacts(e,t).then(()=>n(D(e))))}function ep(e,t){return(0,c.Nt)((n,r,o)=>{let s=e.get("id"),u=e.get("slug");return n(p()),Promise.all(t.map(e=>o.inviteOrganizationMember(s,e).catch(t=>{n(f((0,i.fromJS)({email:e,error:t.message})))}))).finally(()=>{n(L(s)),n((0,a.VC)(`/organizations/${u}/overview`))})})}function ef(e,t){let n=e.get("id");return(0,c.Nt)((e,i,r)=>r.inviteOrganizationMember(n,t.get("email")).finally(()=>{e(L(n))}))}function eh(){return p()}function em(e,t){let n=e.get("id"),i=t.get("id");return(0,c.Nt)((e,t,r)=>r.deleteOrganizationMember(n,i).then(()=>{e(L(n))}).catch(e=>new s.A(e)))}function eS(e,t){let n=e.get("id");return(0,c.Nt)((e,i,r)=>r.organizationScimDeleteMapping(n,t).then(()=>{e(B(n))}))}function e_(e){let t=e.get("id");return(0,c.Nt)((e,n,i)=>i.organizationScimDeleteConnection(t).then(()=>{e($(t))}))}function ey(e){let t=e.get("id");return(0,c.Nt)((e,n,i)=>i.organizationScimDeleteConnectionKeepingUsers(t).then(()=>{e($(t))}))}},13554:(e,t,n)=>{n.d(t,{aW:()=>f,bf:()=>g,cR:()=>h,fs:()=>m,is:()=>_,m0:()=>S});var i=n(99895),r=n.n(i),a=n(44110),o=n(12345),s=n(75060),u=n(17250),c=n(53372),l=n(17871);let d=(0,o.q)("paymentMethods"),g=(0,o.B)("paymentMethods",d);function p(e){return(0,c.Nt)((t,n,i)=>{let r="zuora"===(0,l.ut)(e)&&e?e.get("id"):"user",a=(0,l.ST)(e);return t(d.paymentMethodsRequest(r)),i.paymentMethods(a).then(e=>t(d.paymentMethodsSuccess(r,e.data,e.pagination)))})}function f(e){return(0,c.Nt)((t,n,i)=>e?i.paymentMethod(e).then(e=>t(d.paymentMethodSuccess(e.data))):Promise.resolve())}function h(e){return(0,s.Y7)(e)?f(null==e?void 0:e.get("payment_method_id")):(0,c.Nt)(()=>Promise.resolve())}function m(e,t){return(0,c.Nt)((n,i,o)=>o.savePaymentMethod(e).then(e=>(n(d.paymentMethodSuccess(e.data)),t&&(n(p(t)),n((0,u.yG)(t.get("slug")))),(0,a.fromJS)(e.data)),e=>(r().notify(e,e=>{e.context="paymentMethods ﹥ savePaymentMethod"}),Promise.reject(e))))}function S(e,t){return(0,c.Nt)((n,i,r)=>r.removePaymentMethod(e).then(()=>{n(p(t)),n((0,u.yG)(t.get("slug")))}))}function _(e,t){if(t){let n=t.get("payment_method_id");return e.paymentMethods.getIn(["entities",n])}return e.paymentMethods.get("entities").filter(e=>!e.get("account_id")).last()}},59868:(e,t,n)=>{n.d(t,{DI:()=>y,ND:()=>h,Nx:()=>p,QK:()=>l,ZD:()=>v,pV:()=>_,sN:()=>m,wi:()=>I}),n(44110);var i=n(66602),r=n(12345),a=n(85342),o=n(53372),s=n(65900);let u={NODE_ENV:"production",VERSION_ID:"66828bc3ae4a98000820afb4",SITE_ID:"5f9562c1-be9c-4898-bc6a-5b40de4e1450",CONTEXT:"production",SIFT_BEACON_KEY:"0593578a91",DISABLE_DATADOG_RUM:!1,DATADOG_RUM_APP_ID:"abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",DATADOG_RUM_CLIENT_TOKEN:"pubd771a23f8cb1e4f45f24b5fd37e11a96",DATADOG_RUM_APP_NAME:"netlify-react-ui",DEVCYCLE_CLIENT_SDK_KEY:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",MOCK_API:void 0,REACT_APP_QUIET:void 0,REACT_APP_VERSION_ID:"66828bc3ae4a98000820afb4",APP_ENV:"prod",NETLIFY_API_BASE:void 0,NETLIFY_GRAPHQL_API_BASE:void 0,ACTION_CABLE_URL:"wss://cablecar.services.netlify.com/cable",BUILD_UTC_TIME:1719831565189,SIGNUP_FORM_REDESIGN_PERCENTAGE:100,STRIPE_IDENTITY_VERIFICATION_PUBLIC_KEY:"pk_live_51LpyGQG2IwkHjCivgYP2UkRPU6g8i2vCYfOjXZzPmMU80Krk4h4iSM264No13KYb0ggw6H5HnBBcPYX11AQhTKpy00PDtz409I",NOTRANSLATE_DEBUG:!1,NETLIFY_IMAGES_CDN_DOMAIN:"d33wubrfki0l68.cloudfront.net",STRIPE_PAYMENTS_PUBLIC_KEY:"pk_live_51LpyGQG2IwkHjCivgYP2UkRPU6g8i2vCYfOjXZzPmMU80Krk4h4iSM264No13KYb0ggw6H5HnBBcPYX11AQhTKpy00PDtz409I",STRIPE_PAYMENTS_PUBLIC_KEY_SANDBOX:"pk_test_51LpyGQG2IwkHjCivGz8bSI8wDlxbnvObBlS1QfFti5ZUOZVow9ie0WkROAyBU3sTZrBLDGJZMNYwjxxPnuB6iycg00T7sIGSDe"}.PLUGINS_URL_OVERRIDE||"https://list-v2--netlify-plugins.netlify.app/plugins.json",c="DEACTIVATED",l="PLUGIN_INSTALL",d=(0,i.A)(l,(e,t,n)=>({pluginName:e,siteName:t,status:n})),g=(0,r.q)("plugins"),p=(0,r.B)("plugins",g,{key:"package"}),f=e=>{var t;let n=null===(t=e.compatibility)||void 0===t?void 0:t.filter(e=>!e.featureFlag);return{...e,compatibility:(null==n?void 0:n.length)?n:null}},h=()=>e=>(e(g.pluginsRequest("plugins")),fetch(u).then(e=>{if(!e.ok){let{status:t,statusText:n}=e;throw new a.A({status:t,statusText:n,message:"Error fetching plugins"})}return e.json()}).then(t=>{let n=t.map(f);return e(g.pluginsSuccess("plugins",n))}).catch(t=>e(g.pluginsFailure("plugins",t))));function m(e,t,n,i=!0){let r=n||[];r.push({package:t});let u={plugins:r};return(0,o.Nt)((n,i,r)=>r.updateSite(e.get("id"),u).then(i=>{n(d(t,e.get("name"),"success")),n(s.o1.siteSuccess(i.data))}).catch(i=>(n(d(t,e.get("name"),"failure")),Promise.reject(new a.A(i)))))}let S=e=>e.get("status")!==c;function _(e){let t=e.plugins.get("entities");return null==t?void 0:t.filter(S)}function y(e){return e.plugins.getIn(["pages","plugins","isFetching"])}function v(e){return e.plugins.getIn(["pages","plugins","error"])}function I(e,t){return e.plugins.get("entities").find(e=>e&&e.get("package")===t&&e.get("status")!==c)}},45780:(e,t,n)=>{n.d(t,{Ek:()=>q,HX:()=>en,Iy:()=>F,Jg:()=>ee,KQ:()=>Z,LL:()=>J,RT:()=>V,SZ:()=>ei,XH:()=>et,dt:()=>w,it:()=>R,jF:()=>z,qN:()=>G,s4:()=>U,s8:()=>T,u7:()=>X,vr:()=>Y,wM:()=>K,xs:()=>H,xx:()=>x,yN:()=>O});var i=n(44110),r=n(66602),a=n(12345),o=n(70059),s=n(85342),u=n(24760),c=n(53372),l=n(65900);let d=new Map,g=new Map,p="projects",f="projectSchemas",h="projectSitemaps",m="projectBranchs",S={type:"create-api"},_="PROJECT_DELETED",y="PROJECT_REQUEST_CANCELLED",v="START_POLLING_PROJECT",I="STOP_POLLING_PROJECT",A="PAUSE_POLLING_PROJECT",E=(0,a.q)(p),N=(0,a.q)(f),b=(0,a.q)(h),C=(0,a.q)(m),w=(0,a.B)(p,E,{getKey:e=>{var t,n;return null==e?void 0:null===(n=e.deploymentData)||void 0===n?void 0:null===(t=n.netlify)||void 0===t?void 0:t.id},handler:(e,t)=>{switch(t.type){case _:return e.deleteIn(["entities",t.payload.siteId]).delete("pages").deleteIn(["polling",t.payload.siteId]);case y:return e.setIn(["entities",t.payload.siteId,"isFetching"],!1);case v:return e.setIn(["polling",t.payload.siteId],(0,i.fromJS)({pollingInterval:t.payload.pollingInterval,status:"active"}));case I:return e.deleteIn(["polling",t.payload.siteId]);case A:return"active"!==e.getIn(["polling",t.payload.siteId,"status"])?e:e.setIn(["polling",t.payload.siteId,"status"],"paused");default:return null}}}),R=(0,a.B)(f,N),T=(0,a.B)(h,b),U=(0,a.B)(m,C),D=(0,r.A)(_,e=>({siteId:e})),P=(0,r.A)(y,e=>({siteId:e})),L=(0,r.A)(v,(e,t)=>({siteId:e,pollingInterval:t})),k=(0,r.A)(I,e=>({siteId:e})),M=(0,r.A)(A,e=>({siteId:e}));function O(e,t){return e.projects.getIn(["entities",t])}function F(e,t){return e.projects.getIn(["entities",t,"isFetching"])}function $(e,t){return e.projects.getIn(["polling",t])}function B(e,t){var n;return null===(n=$(e,t))||void 0===n?void 0:n.get("status")}function z(e,t){return e.projectSchemas.getIn(["entities",t])}function J(e,t){return e.projectSitemaps.getIn(["entities",t])}function G(e,t){return e.projectBranches.getIn(["entities",t,"branches"])}function q(e,t){return e.projectBranches.getIn(["entities",t,"isFetching"])}function j(e,t){e(M(t));let n=g.get(t);n&&(n.abort(),g.delete(t));let i=d.get(t);i&&(i.abort(),d.delete(t))}function Y(e,t){return(0,c.Nt)((n,r,a)=>{let u=(0,o.V2)(e),c=e.get("id");return j(n,u),a.updateProject(c,t).then(({data:e})=>(n(E.projectSuccess(e)),(0,i.fromJS)(e))).catch(e=>{throw new s.A(e)}).finally(()=>{n(W(u))})},S)}function K(e,t){return(0,c.Nt)((n,i,r)=>{let a=e.get("id"),u=(0,o.V2)(e);return j(n,u),r.updateProjectEnvVars(a,t).then(()=>n(ee(u))).catch(e=>{throw new s.A(e)}).finally(()=>{n(W(u))})},S)}function H(e,t){let n=e.get("id"),i=e.getIn(["deploymentData","netlify","id"]);return(0,c.Nt)((e,r,a)=>"preview"===t?a.restartPreview(n).catch(e=>{throw new s.A(e)}):(j(e,i),a.stopProject(n).then(({data:t})=>(e(E.projectSuccess(t)),a.redeployProject(n,{force:!0}).then(({data:t})=>e(E.projectSuccess(t))))).catch(e=>{throw new s.A(e)}).finally(()=>{e(W(i))})),S)}function x(e){return(0,c.Nt)((t,n,i)=>{let r=e.getIn(["deploymentData","netlify","id"]);return j(t,r),i.updateSite(r,{visual_editor_active:!1}).then(({data:e})=>(t(D(r)),t(l.o1.siteSuccess(e)))).catch(e=>{throw new s.A(e)})})}function V(e){return(0,c.Nt)((t,n,i)=>(t(E.projectsRequest([p])),i.projects(e).then(({data:e,pagination:n})=>t(E.projectsSuccess(p,e.projects,n))).catch(e=>t(E.projectsFailure([p],e)))),S)}function W(e){return(t,n)=>{let i=$(n(),e);(null==i?void 0:i.get("status"))==="paused"&&t(Z(e,i.get("pollingInterval")))}}async function Q({getState:e,api:t,siteId:n}){var i;let r=new AbortController;d.set(n,r);let a=e(),o=(0,l.W5)(a,n),s=(null===(i=O(a,n))||void 0===i?void 0:i.get("id"))||(0,u.HN)(o);try{if(s)return await t.project(s,{signal:r.signal}).then(({data:e})=>e);return await t.siteProjects(n,{signal:r.signal}).then(({data:e})=>null==e?void 0:e[0])}finally{d.delete(n)}}function Z(e,t){return(0,c.Nt)(async(n,i,r)=>{if("active"===B(i(),e))return;n(L(e,t));let a=async()=>Q({getState:i,api:r,siteId:e}).then(t=>{if($(i(),e))return n(E.projectSuccess(t))},t=>$(i(),e)&&"AbortError"!==t.name?[404,401].includes(t.code)?n(E.projectSuccess({deploymentData:{netlify:{id:e}}})):n(E.projectFailure(e,t)):void 0),o=new AbortController;g.set(e,o);try{for(;"active"===B(i(),e);){await a();let t=$(i(),e);(null==t?void 0:t.get("status"))==="active"&&await function(e,t){return new Promise((n,i)=>{let r=setTimeout(n,e);t.addEventListener("abort",()=>{clearTimeout(r),i(new DOMException("Aborted","AbortError"))})})}(t.get("pollingInterval"),o.signal)}}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{g.delete(e)}},S)}function X(e){return t=>{j(t,e),t(k(e))}}function ee(e){return(0,c.Nt)((t,n,i)=>(t(E.projectRequest(e)),Q({getState:n,api:i,siteId:e}).then(e=>t(E.projectSuccess(e))).catch(n=>"AbortError"===n.name?t(P(e)):[404,401].includes(n.code)?t(E.projectSuccess({deploymentData:{netlify:{id:e}}})):t(E.projectFailure(e,n)))),S)}function et(e){return(0,c.Nt)((t,n,i)=>{if(!n().projectSchemas.getIn(["entities",e,"isFetching"]))return t(N.projectSchemaRequest(e)),i.projectAction(e,"getSchema").then(({data:n})=>t(N.projectSchemaSuccess({id:e,...n}))).catch(n=>t(N.projectSchemaFailure(e,n)))},S)}function en(e){return(0,c.Nt)((t,n,i)=>{if(!n().projectSitemaps.getIn(["entities",e,"isFetching"]))return t(b.projectSitemapRequest(e)),i.projectAction(e,"getSiteMap").then(({data:n})=>t(b.projectSitemapSuccess({id:e,pages:n}))).catch(n=>t(b.projectSitemapFailure(e,n)))},S)}function ei(e,t){return(0,c.Nt)((n,i,r)=>{if(!q(i(),e))return n(C.projectBranchRequest(e)),r.analyzeRepo(t).then(({data:t})=>n(C.projectBranchSuccess({id:e,branches:t.branches}))).catch(t=>n(C.projectBranchFailure(e,t)))},S)}},53181:(e,t,n)=>{n.d(t,{Dz:()=>et,Ej:()=>R,Nw:()=>U,S5:()=>F,Uy:()=>x,V4:()=>er,W0:()=>V,aU:()=>ei,ah:()=>w,bD:()=>en,i9:()=>ee,k2:()=>X,oY:()=>Q,qp:()=>S,sM:()=>W,wh:()=>$});var i=n(99895),r=n.n(i),a=n(26447),o=n(44110),s=n(51582),u=n.n(s),c=n(66602),l=n(12345),d=n(85342),g=n(18701),p=n(47936),f=n(53372),h=n(78028);let m="REPO_LINK_REQUEST",S="REPO_LINK_SUCCESS",_="REPO_LINK_FAILURE",y="REPO_CREATE_FS",v="REPO_ADD_WORKSPACES",I="REPO_MANUAL_CONFIG",A="REPO_VISUAL_EDITOR_ANALYSIS",E="REPO_VISUAL_EDITOR_ANALYSIS_LOADING",N="REPO_VISUAL_EDITOR_ACCESS_LOADING",b="REPO_VISUAL_EDITOR_ACCESS",C=(0,l.q)("repos"),w=(0,c.A)(m,e=>e),R=(0,c.A)(S,e=>e);(0,c.A)(_,(e,t)=>({full_name:e,error:t}));let T=(0,c.A)(y,(e,t)=>({fs:e,full_name:t})),U=(0,c.A)(I,(e,t)=>({full_name:e,manual:t})),D=(0,c.A)(v,(e,t)=>({workspaces:e,full_name:t})),P=(0,c.A)(A,(e,t)=>({full_name:e,data:t})),L=(0,c.A)(E,(e,t)=>({full_name:e,loading:t})),k=(0,c.A)(N,(e,t)=>({full_name:e,loading:t})),M=(0,c.A)(b,(e,t)=>({full_name:e,access:t})),O=(0,c.A)("REPO_NO_FS");function F({organization:e,hideGitUser:t,page:n,per_page:i=25,installationId:r}){return(0,h.zc)((a,o,s)=>{if(t&&!e)return Promise.resolve();let u=o(),c=(0,h.a)(u),l=(0,h.v0)(u),g=l?s.searchRepos:s.repos;return a(C.reposRequest(e)),g.call(s,{search:l,organization:e,page:n,per_page:i,installationId:r,gitUser:c}).then(t=>a(C.reposSuccess(e,t.data,t.pagination))).catch(e=>{if(s&&"checkErrorForInvalidToken"in s){let t=s.checkErrorForInvalidToken(e);if(t)throw new d.A(t)}})})}function $(e,t){let n=e.get("api_id"),i=e.get("full_name"),r=e.get("organization_name");return(0,h.zc)((a,o,s)=>s.branches({api_id:n,organization_name:r,page:t}).then(({data:t,pagination:n})=>{a(C.repoSuccess({full_name:i,branches:e.get("branches").push(...t),branchPagination:n}))}))}let B=async({fs:e,repoFiles:t,baseDir:n})=>Promise.allSettled(t.filter(e=>(e=e.replace(n,""),g.Ul.includes(e))).map(async t=>{let n=await e.readFile(t);return[t,n]})).then(e=>e.reduce((e,t)=>{if("rejected"===t.status)return e;let[i,r]=t.value;return{...e,[i.replace(n,"")]:r}},{})),z=async(e,t)=>{try{return(await e.readDir(t)).map(n=>e.join(t,n))}catch(e){return[]}},J=e=>e?"/"===e.at(-1)?e:`${e}/`:"";function G(e,t){return t.map(t=>{var n,i,r,a,o;let s=null===(r=e.frameworks)||void 0===r?void 0:null===(i=r.get(t))||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.toJSON(),u={path:t,name:null===(o=e.workspace)||void 0===o?void 0:null===(a=o.getPackage(t))||void 0===a?void 0:a.name};return s&&(u.framework={id:s.id,logo:s.logo}),u})}async function q(e,t){let n=e.join(t,"netlify.toml");try{return await e.readFile(n),n}catch{return null}}let j=["@netlify/plugin-nextjs"],Y=(e=[],t=[])=>t.reduce((t,n)=>e.includes(n)&&!j.includes(n)?t:[...t,{package:n}],[]);async function K({fs:e,dispatch:t,getState:n,configFilePath:i,packagePath:r,baseDir:s,root:c="/",cloningRepo:l=!1,flags:d={}}){var p;if(function(e,t){let n=en(e,t);return(null==n?void 0:n.get("manual"))||!1}(n(),e.details.full_name))return;let f=((null===(p=function(e,t){let n=en(e,t);return(null==n?void 0:n.get("settings"))||(0,o.fromJS)({})}(n(),e.details.full_name))||void 0===p?void 0:p.toJS())||{}).package_path!==r,h=new a.MM(e,f?"":s||"",c).setNodeVersion("18.0.0");h.events.on("detectWorkspaces",n=>{n&&t(D(G(h,(null==n?void 0:n.packages.map(e=>e.path))||[]),e.details.full_name))}),h.events.on("detectSettings",async n=>{var o,c,l,p,m,S,_,y;let v=n.map(({packagePath:e})=>e).filter(Boolean),I=r||(null===(o=n[0])||void 0===o?void 0:o.packagePath);if(null==I?void 0:I.length){n=n.filter(e=>e.packagePath===I);let t=await q(e,I);i=null!=t?t:i}let A=await (0,a.wM)(h,i),E=u()(n[0],A);t(D(G(h,[...new Set(v)]),e.details.full_name));let N=null===(p=h.frameworks)||void 0===p?void 0:null===(l=p.get(I||""))||void 0===l?void 0:null===(c=l[0])||void 0===c?void 0:c.toJSON(),b=e.dirCache.get(I||""),w=(0,g.MJ)(null!=b?b:[]);t(C.repoSuccess({full_name:e.details.full_name,...d.project_druddigon_ui&&{configFilePath:i},settings:{package_path:null==E?void 0:E.packagePath,cmd:null==E?void 0:E.buildCommand,dir:(null===(m=E.baseDirectory)||void 0===m?void 0:m.length)&&(null===(S=E.dist)||void 0===S?void 0:S.length)?e.relative(E.baseDirectory,E.dist):null==E?void 0:E.dist,base:f?E.baseDirectory:null!=s?s:null==E?void 0:E.baseDirectory,plugins:Y(E.plugins_from_config_file,E.plugins_recommended),plugins_installed:E.plugins_from_config_file,plugins_recommended:E.plugins_recommended,functions_dir:E.functionsDir,framework:null===(_=E.framework)||void 0===_?void 0:_.id,frameworkLogo:null==N?void 0:N.logo,frameworkName:null===(y=E.framework)||void 0===y?void 0:y.name,template:E.template,visualEditor:w}}))}),await h.getBuildSettings()}let H=async({fs:e,baseDir:t,configFilePath:n,cloningRepo:i=!1})=>{try{let r=(null==n?void 0:n.length)&&n.endsWith("netlify.toml")?n.replace(/\/?netlify.toml$/,""):t,a=await z(e,r),o=await B({fs:e,repoFiles:a,baseDir:J(r)}),{settings:s,warning:u}=await (0,g.Ay)(a,o,i);return{settings:s,warning:u}}catch(t){return r().notify(t,t=>{var n;t.context="heuristicsForRepoSettings",t.addMetadata("repo",{name:e.details.full_name,branch:e.details.branch,provider:null===(n=e.git)||void 0===n?void 0:n.provider}),t.severity="info"}),{settings:{}}}};function x(e){let t=e.get("api_id"),n=e.get("full_name"),i=e.get("default_branch"),a=e.get("organization_name");return(0,h.zc)(async(e,o,s)=>{let{data:u,pagination:c}=await s.branches({api_id:t,organization_name:a}).catch(t=>{r().notify(t,e=>{e.context="prepareRepo",e.addMetadata("repo",{name:n,branch:i,provider:s.provider}),e.severity="info"}),e(C.repoFailure(n,new d.A(`We couldn’t access the repository ${n}. This could be because the repository is empty or disabled.`)))});e(T(new p.O(s,{organization_name:a,api_id:t,full_name:n,branch:i}),n)),e(C.repoSuccess({full_name:n,branches:u,branchPagination:c}))})}function V(e,t={}){return Z(e,async(e,n,i)=>{let a=i.details.full_name;try{if(null==t?void 0:t.project_rhyhorn_ui)await K({fs:i,getState:n,dispatch:e,flags:t});else{let t=await H({fs:i,baseDir:""});e(C.repoSuccess({full_name:a,...t}))}}catch(t){t instanceof Error&&r().notify(t,e=>{e.context="prepareRepo",e.addMetadata("repo",{name:i,branch:i.details.branch,provider:i.git.provider}),e.severity="info"}),e(C.repoFailure(a,new d.A(`We couldn’t access the repository ${a}. This could be because the repository is empty or disabled.`)))}})}function W(e,t,n={},i={}){return(t?e=>(0,h.W7)(t,e):h.zc)((t,r,a)=>(t(C.repoRequest(e)),a.repo(e).then(({data:o})=>{let s=new p.O(a,{organization_name:o.organization_name,api_id:o.api_id,full_name:e,branch:n.branch||o.default_branch});return t(C.repoSuccess({full_name:s.details.full_name,default_branch:s.details.branch})),K({fs:s,getState:r,dispatch:t,flags:i,packagePath:n.packagePath,baseDir:n.baseDir,root:n.root,cloningRepo:!0})}).catch(n=>{let i=new d.A(n);throw t(C.repoFailure(e,i)),i})))}function Q(e,t,n={}){return Z(e,async(e,i,r)=>{var a;let o=r.details.full_name;return(r.details.branch!==t&&(e(C.repoSuccess({full_name:o,settings:{},workspaces:void 0,configFilePath:void 0})),r.changeBranch(t)),null===(a=n.flags)||void 0===a?void 0:a.project_rhyhorn_ui)?K({fs:r,dispatch:e,getState:i,configFilePath:n.configFilePath,baseDir:n.baseDir,packagePath:n.packagePath,flags:n.flags}):H({fs:r,configFilePath:n.configFilePath,baseDir:n.baseDir||""}).then(t=>e(C.repoSuccess({full_name:o,...t}))).catch(n=>e(C.repoFailure(o,new d.A(`We couldn’t access the branch ${t} on repository ${o}. This could be because some files have format errors.`))))})}function Z(e,t){return async(n,i)=>{let r=en(i(),e.get("full_name")).get("fs");return r?t(n,i,r):n(O())}}let X=(0,l.B)("repos",C,{key:"full_name",handler:function(e,t){switch(t.type){case m:return e.set("linking",!0).setIn(["entities",t.payload,"linking"],!0);case _:return e.set("linking_error",t.payload.error).setIn(["entities",t.payload.api_id,"link_error"],C.payload.error);case S:return e.set("linking",null).setIn(["entities",t.payload,"linking"],null);case y:return e.setIn(["entities",t.payload.full_name,"fs"],t.payload.fs);case v:return e.updateIn(["entities",t.payload.full_name,"workspaces"],e=>(0,o.fromJS)(function(e=[],t=[]){let n=new Map(e.reduce((e,t)=>e.set(t.path,t),new Map));for(let e of t)n.has(e.path)?n.set(e.path,u()(n.get("w.path"),e)):n.set(e.path,e);return[...n.values()]}(null==e?void 0:e.toJS(),t.payload.workspaces)));case I:let n=e;return t.payload.manual&&(n=n.setIn(["entities",t.payload.full_name,"settings"],(0,o.fromJS)({base:"",cmd:"",package_path:"",dir:""}))),n.setIn(["entities",t.payload.full_name,"manual"],t.payload.manual);case A:return e.setIn(["entities",t.payload.full_name,"visualEditorRepoAnalysis"],(0,o.fromJS)({data:t.payload.data}));case E:return e.setIn(["entities",t.payload.full_name,"visualEditorRepoAnalysis","loading"],t.payload.loading);case N:return e.setIn(["entities",t.payload.full_name,"visualEditorRepoAnalysis","accessLoading"],t.payload.loading);case b:return e.setIn(["entities",t.payload.full_name,"visualEditorRepoAnalysis","access"],t.payload.access);default:return null}}});function ee(e,t){let n=e.repos.getIn(["pages",t,"ids"]);return n&&n.map(t=>en(e,t))}function et(e,t){return e.repos.getIn(["pages",t])}function en(e,t){return e.repos.getIn(["entities",t])}function ei({repoName:e,repoUrl:t,branch:n,runnableDir:i="/",gitAccessToken:r}){return(0,f.Nt)((a,o,s)=>(a(k(e,!0)),s.analyzeRepo(t,n,{runnableDir:i,validateContent:!0,validateAppAccess:!0},r).then(({data:t})=>(a(P(e,t)),a(M(e,!0)),t)).catch(()=>{a(M(e,!1))}).finally(()=>{a(k(e,!1))})),{type:"create-api"})}function er({repoName:e,repoUrl:t,branch:n,runnableDir:i="/",gitAccessToken:r}){return(0,f.Nt)((a,o,s)=>(a(L(e,!0)),s.analyzeRepo(t,n,{runnableDir:i,validateContent:!0,validateAppAccess:!1},r).then(({data:t})=>(a(P(e,t)),t)).catch(()=>{a(P(e,{}))}).finally(()=>{a(L(e,!1))})),{type:"create-api"})}},5576:(e,t,n)=>{let i;n.d(t,{R9:()=>S,jd:()=>y,rs:()=>_,v:()=>v});var r=n(44110),a=n(66602),o=n(14989),s=n(58963);let u="USER_ANALYTICS_METRIC_SUCCESS",c="USER_ANALYTICS_METRIC_FETCHING_DONE",l="USER_ANALYTICS_METRIC_FETCHING_STARTED",d={resolution:"hour",days:7},g=7,p=(0,a.A)(u,(e,t,n,{data:i})=>({metric:e,siteId:t.get("id"),period:n,data:i})),f=(0,a.A)(c,(e,t)=>({metric:e,siteId:t.get("id")})),h=(0,a.A)(l,(e,t)=>({metric:e,siteId:t.get("id")}));function m(e="day",t=30){let n=new Date;return{from:(0,o.ol)((0,o.gg)(n,t)).getTime(),to:n.getTime(),resolution:e}}function S(e,t,{resolution:n,days:r}=d,a=""){var o;let{period:u}=function(e="day",t=7){return{period:m(e,t),periodByRange:m("range",t)}}(n,r);return g=r,o=(n,i,r)=>Promise.all([n(h(t,e)),r.realUserMetric(e.get("id"),t,a,u).then(i=>n(p(t,e,u,i)))]).then(()=>n(f(t,e))),(e,t)=>{let{config:n}=t();return o(e,t,i=i||new s.Ay(n))}}function _(e,t,n){return e.realUserMetrics.get(`${t.get("id")}-${n}`)&&e.realUserMetrics.get(`${t.get("id")}-${n}`).toJS()}function y(){return g}let v=(e=(0,r.Map)(),t)=>{switch(t.type){case l:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!0);case u:return e.set(`${t.payload.siteId}-${t.payload.metric}`,(0,r.fromJS)({data:t.payload.data,timePeriod:{from:t.payload.period.from,to:t.payload.period.to},status:"current"}));case c:return e.setIn([`${t.payload.siteId}-${t.payload.metric}`,"isFetching"],!1);default:return e}}},7719:(e,t,n)=>{n.d(t,{$K:()=>d,WF:()=>g,Ws:()=>p,ZK:()=>c,tU:()=>l,ty:()=>f});var i=n(29383),r=n(11080),a=n(17250),o=n(53372),s=n(88704),u=n(26460);let c="next";function l({account:e,url:t,data:n}){let i=e.get("slug");return(0,o.Nt)((e,r,o)=>o.updateSamlConfig(i,t,n).then(t=>e((0,a.yG)(i))))}function d(e){let t=e.get("slug");return(0,o.Nt)((e,n,i)=>i.deleteSamlConfig(t).then(n=>e((0,a.yG)(t))))}function g(e,t){return(0,o.Nt)((n,i,r)=>r.getSamlStartUrl(e).then(e=>{let n=new URL(e.data.sp_start_url);n.searchParams.append("redirect",window.location.origin),n.searchParams.append("tracking_session_id",t),document.location=n.href}))}function p({token:e,slug:t}){return async(n,a)=>{window.location.hash="";let l={access_token:e};await (0,r.M_)({access_token:l.access_token});let d=(0,i.Hd)(c);(0,i.X)(c),n(d&&(0,s.xu)(d)?function({user:e,slug:t,redirect:n}){return(0,o.Nt)((t,i,r)=>r.user().then(i=>{e={...i.data,...e},t({type:s.b6}),t((0,s.Lx)(e)),t((0,u.d9)(n))}))}({user:l,slug:t,redirect:d}):function({user:e,slug:t}){return(0,o.Nt)((n,i,r)=>r.user().then(i=>{e={...i.data,...e};let r=t?`/teams/${t}`:"/";n({type:s.b6}),n((0,s.Lx)(e)),n((0,u.d9)(r))}))}({user:l,slug:t}))}}function f(e,t){return async(n,i)=>{window.location.hash="";let a={access_token:e};await (0,r.M_)({access_token:a.access_token}),n((0,s.Lx)(a)),n(function({user:e,saml_slug:t}){return(0,o.Nt)((n,i,r)=>r.user().then(i=>{e={...i.data,...e};let r=t?`/teams/${t}`:"/";n({type:s.b6}),n((0,s.Lx)(e)),n((0,u.d9)(r))}))}({user:a,saml_slug:t}))}}},53519:(e,t,n)=>{n.d(t,{eu:()=>s,qK:()=>o});var i=n(53372),r=n(12345);let a=(0,r.q)("securityKpis"),o=(0,r.B)("securityKpis",a,{key:"name",handler:(e,t)=>{let{type:n,payload:i}=t;switch(n){case a.SECURITYKPIS.REQUEST:return e.withMutations(e=>{e.delete("error").set("entities",i.entities).set("isFetching",!0)});case a.SECURITYKPIS.SUCCESS:return e.withMutations(e=>{e.set("entities",i.entities).set("isFetching",!1)});case a.SECURITYKPIS.FAILURE:return e.withMutations(e=>{e.set("entities",i.entities).set("error",i.error).set("isFetching",!1)});default:return null}}});function s(e){return(0,i.Nt)((t,n,i)=>(t(a.securityKpisRequest(e.get("slug"))),i.securityKpis(e.get("slug")).then(n=>t(a.securityKpisSuccess(e.get("slug"),n.data,n.pagination))).catch(n=>{t(a.securityKpisFailure(e.get("slug"),n))})))}},54099:(e,t,n)=>{n.d(t,{ZJ:()=>c,xy:()=>u});var i=n(85342),r=n(17250),a=n(53372),o=n(65900);let s=(e,t)=>{let n=[],i={instance_url:{gitlab_self_hosted:"There is a problem with your instance URL; please review it.",github_enterprise:"There is a problem with your instance URL; please review it."},app_id:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},pem_file:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},client_id:{gitlab_self_hosted:"Your app ID is incorrect; please review it.",github_enterprise:"Your client ID is incorrect; please review it."},client_secret:{gitlab_self_hosted:"Your secret is incorrect; please review it.",github_enterprise:"Your client secret is incorrect; please review it."},webhook_secret:{github_enterprise:"Your webhook secret is incorrect; please review it."}};for(let r of Object.keys(e))i[r]&&n.push(i[r][t]);return n.length?1===n.length?`**Connection failed.** ${n[0]}`:"**Connection failed:** \n\n* "+n.join("\n* "):e},u=(e,t,n)=>{let u=e.get("id"),c=e.get("slug");return(0,a.Nt)((e,a,l)=>l.updateSelfHostedGitConfig(u,t,n).then(({data:t})=>{e((0,r.yG)(c)),e((0,o.Zz)({accountSlug:c}))}).catch(e=>{let t=s(e,n);throw new i.A(t)}))},c=(e,t)=>{let n=e.get("id"),s=e.get("slug");return(0,a.Nt)((e,a,u)=>u.deleteSelfHostedGitConfig(n,t).then(({data:t})=>{e((0,r.yG)(s)),e((0,o.Zz)({accountSlug:s}))}).catch(e=>{throw new i.A(e)}))}},18074:(e,t,n)=>{n.d(t,{$p:()=>d,HU:()=>y,Zo:()=>g,bU:()=>m,hs:()=>S,r9:()=>_,rZ:()=>h,sR:()=>f});var i=n(12345),r=n(11080),a=n(53372),o=n(88704),s=n(15556),u=n(70120),c=n(65900);let l=(0,i.q)("services"),d=(0,i.B)("services",l);function g(e,t){let n=e.services.getIn(["pages",t.get("id"),"ids"]);return n&&n.map(t=>e.services.getIn(["entities",t]))}function p(e){return e.get("service_path").replace("/.netlify/","")}function f(e,t,n={}){return(0,a.Nt)((i,r,a)=>a.createService(e.get("id"),t,n).then(e=>l.serviceSuccess(e.data)).then(()=>i(h(e))))}function h(e){let t=e.get("id");return(0,a.Nt)((e,n,i)=>i.services(t).then(n=>e(l.servicesSuccess(t,n.data))))}function m(e,t,n){return(0,a.Nt)((i,r,a)=>a.updateService(e.get("id"),p(t),t.get("id"),{config:n}).then(()=>i(h(e))))}function S(e,t){return(0,a.Nt)((n,i,r)=>r.deleteService(e.get("id"),p(t),t.get("id")).then(()=>n(h(e))))}function _(e,t){return(0,a.h_)((n,i,r,a)=>{switch(t){case"cms":return Promise.all([n((0,u.DA)(e,{disable_signup:!0})),n(f(e,"git",{[a.provider]:{access_token:a.token,repo:e.getIn(["build_settings","repo_url"]).replace(/^https:\/\/[^/]+\//,"")}}))]).then(t=>{var i;return n((i=e,(e,t)=>{let n=t(),r=(0,o.QR)(n),a={email:r.get("email"),data:{full_name:r.get("full_name")}};return i=(0,c.Gd)(n,i.get("name")),e((0,u.jn)(i,[a]))}))});case"fauna":return n(f(e,"fauna",{}));case"nimbella":return n(f(e,"nimbella",{}));default:return Promise.resolve()}})}function y(e,t){return(0,a.Nt)((n,i,a)=>{let o=i(),u=(0,s.rl)(o),c=(0,s.kM)(o),l=new r.Ay({site_id:u,base_url:c});return new Promise((n,i)=>l.authenticate({provider:e,scope:t},(e,t)=>{e?i(e):n(t.token)}))})}},74890:(e,t,n)=>{n.d(t,{JK:()=>o,LJ:()=>c,TH:()=>u,x:()=>l});var i=n(12345),r=n(53372);let a=(0,i.q)("siteAudits"),o=(0,i.B)("siteAudits",a);function s(e){return[e.siteId,e.search].join("-")}function u(e,t){let n=e.siteAudit.getIn(["pages",s(t),"ids"]);return n&&n.map(t=>e.siteAudit.getIn(["entities",t]))}function c(e,t){return e.siteAudit.getIn(["pages",s(t)])}function l(e){return(0,r.Nt)((t,n,i)=>i.siteAudit(e).then(n=>{t(a.siteAuditsSuccess(s(e),n.data,n.pagination))}))}},65900:(e,t,n)=>{n.d(t,{A3:()=>eW,AG:()=>eK,Bu:()=>e2,C0:()=>ej,Ci:()=>eu,Cz:()=>eE,Ej:()=>ev,FT:()=>O,FW:()=>eH,Gd:()=>eX,Kf:()=>eG,LN:()=>e$,Nx:()=>e3,Pc:()=>eO,R0:()=>e5,Rj:()=>F,SG:()=>eV,Sq:()=>en,Tp:()=>eb,UK:()=>eg,W5:()=>e0,WR:()=>ef,X3:()=>eT,Xz:()=>eh,Y3:()=>eq,Zz:()=>ew,_y:()=>ep,c4:()=>$,d0:()=>eS,fy:()=>eQ,hj:()=>eR,iP:()=>e8,ij:()=>B,jy:()=>eM,kT:()=>eB,kX:()=>V,lL:()=>eA,lp:()=>e7,m8:()=>eY,n:()=>e4,nD:()=>eN,o1:()=>x,pL:()=>ek,pq:()=>eZ,qX:()=>eI,uU:()=>ez,wA:()=>eF,wl:()=>eJ,x_:()=>eU,z1:()=>ey,zK:()=>e_});var i=n(44110),r=n(67938),a=n.n(r),o=n(66602),s=n(56315),u=n(12345),c=n(70728),l=n(85342),d=n(29383),g=n(4140),p=n(73359),f=n(24760),h=n(47975),m=n(53372),S=n(88704),_=n(24204),y=n(62261),v=n(36175),I=n(3640),A=n(78028),E=n(45780),N=n(53181),b=n(18074),C=n(26460);let w="BRANCHES_SUCCESS",R="BRANCHES_FETCHING_DONE",T="BRANCHES_FETCHING_STARTED",U="DEPLOY_KEY_SUCCESS",D="DNS_ZONE_SUCCESS",P="ALL_DNS_ZONES_SUCCESS",L="SITES_CLEAR_PAGES",k="SNIPPETS_REQUEST",M="SNIPPETS_SUCCESS",O="DEPLOY_DONE",F="DEPLOY_ERROR",$="DIRECT_DEPLOY_LANDING",B="DIRECT_DEPLOY_SUCCESS",z="SUBSCRIPTION_CANCELED",J="USAGE_RECORDS_SUCCESS",G="USAGE_RECORD_SUCCESS",q="APP_INSTALL_SUCCESS",j="SITE_VISUAL_EDITOR_CONTENT_ANALYSIS",Y="SITE_VISUAL_EDITOR_CONTENT_ANALYSIS_LOADING",K="SITE_ENABLING_VISUAL_EDITING",H="DNS_CONFIG_CHECKED",x=(0,u.q)("sites");(0,o.A)("SITE_CREATED",e=>e);let V=(0,o.A)(L);(0,o.A)(k,e=>e);let W=(0,o.A)(M,(e,t)=>({name:e,snippets:t})),Q=(0,o.A)(T,e=>({name:e})),Z=(0,o.A)(w,(e,t)=>({name:e,branches:t})),X=(0,o.A)(R,e=>({name:e}));(0,o.A)(D,(e,t)=>({name:e,dnsZone:t}));let ee=(0,o.A)(P,(e,t)=>({name:e,dnsZones:t})),et=(0,o.A)(U,(e,t)=>({name:e,deployKey:t}));(0,o.A)(O),(0,o.A)(F,e=>e);let en=(0,o.A)($,()=>{}),ei=(0,o.A)(B,e=>e);(0,o.A)(z,e=>e);let er=(0,o.A)(J,(e,t)=>({name:e,records:t})),ea=(0,o.A)(G,(e,t)=>({name:e,record:t})),eo=(0,o.A)(q,(e,t)=>({name:e,installationId:t})),es=(0,o.A)(H,(e,t)=>({name:e,dnsVerified:t})),eu=(0,o.A)(j,(e,t)=>({name:e,data:t})),ec=(0,o.A)(Y,(e,t)=>({name:e,loading:t})),el=(0,o.A)(K,(e,t)=>({name:e,isEnabling:t})),ed=(0,i.Map)({isFetching:!0});function eg(e){return(0,m.Nt)((t,n,i)=>(t(x.siteRequest(e)),i.site(e).then(e=>t(x.siteSuccess(e.data))).catch(n=>t(x.siteFailure(e,n))).then(t=>eX(n(),e))))}function ep(e,t){return(n,i)=>fetch(`/.netlify/functions/verify?domain=${t}`).then(e=>e.json().then(t=>{if(!e.ok)throw new l.A(t.error||"Error fetching DNS config");return t})).then(t=>{let i={glo:"global",global:"global",packet:"packet",pkt:"packet",reg:"regular",regular:"regular"},r=t.results.map(e=>e.cdnTier),a=e.getIn(["capabilities","cdn_tier"]);"custom"===a?n(es(e.get("name"),"custom")):r.every(e=>["global","regular","packet"].includes(e))&&(r.every(e=>e===i[a])?n(es(e.get("name"),"success")):n(es(e.get("name"),"failed")))}).catch(e=>console.error("Error while checkDNSconfig:",e))}function ef(e){return(0,m.Nt)((t,n,i)=>i.siteById(e).then(e=>t(x.siteSuccess(e.data))).catch(n=>{t(x.siteFailure(e,n))}))}function eh(e){return(0,m.Nt)((t,n,i)=>(t(Q(e.get("name"))),i.branches(e.get("id")).then(i=>(t(Z(e.get("name"),i.data)),e6(n(),e.get("name")))).catch(i=>i&&401===i.code?(t(Z(e.get("name"),[])),e6(n(),e.get("name"))):Promise.reject(i)).finally(()=>{t(X(e.get("name")))})))}let em=({customApexDomain:e,customSubdomain:t,allDnsZones:n})=>{let i=(null==t?void 0:t.split("."))||[],r=[];return i.forEach((t,n)=>{if(n===i.length-1)r.push(`${t}.${e}`);else{let a=i.slice(n+1);r.push(`${t}.${a.join(".")}.${e}`)}}),r.push(e),function e(t,n){if(0!==t.length&&0!==n.length)return n.find(e=>e.name===t[0])||(t.shift(),e(t,n))}(r,n)};function eS(e,t){var n;let i=e.get("custom_domain"),r=(null===(n=e.get("domain_aliases"))||void 0===n?void 0:n.toJS())||[],a=[i,e.get("deploy_preview_custom_domain"),e.get("branch_deploy_custom_domain"),...r].filter(e=>!!e),o=t&&t.get("slug")||null;return(0,m.Nt)((t,n,i)=>i.dnsZones(o).then(({data:n})=>{let i={};a.forEach(async r=>{await (0,p.gR)(r).then(e=>{let a=em({customApexDomain:`${null==e?void 0:e.domain}.${null==e?void 0:e.tld}`,customSubdomain:null==e?void 0:e.subdomain,allDnsZones:n});a?(i[r]=a,t((0,y.o4)(a.name))):i[r]={error:"DNS zone not found",name:r}}),t(ee(e.get("name"),i))})}))}function e_(e,t){let n=t.get("dns_zone");return null==n?void 0:n.set("records",(0,y.ix)(e,n.get("name")))}function ey(e,t){let n=t.get("dns_zones");if(!n)return(0,i.fromJS)({});let r=n.toJS();return Object.keys(r).forEach(t=>{r[t].records=(0,y.ix)(e,r[t].name)}),(0,i.fromJS)(r)}function ev(e){return(0,m.Nt)((t,n,i)=>i.siteUsage(e.get("id")).then(n=>t(er(e.get("name"),n.data))))}function eI(e,{id:t,plan:n}){return(0,m.Nt)((i,r,a)=>a.changeAddonPlan(t,n,e.get("id")).then(t=>i(ea(e.get("name"),t.data))))}function eA(e){return(0,m.Nt)((t,n,i)=>i.siteSnippets(e.get("id")).then(n=>t(W(e.get("name"),n.data))))}function eE(e,t){return(0,m.Nt)((n,i,r)=>r.siteSnippetRemove(e.get("id"),t.get("id")).then(t=>n(eA(e))))}function eN(e,t){return(0,m.Nt)((n,i,r)=>r.siteSnippetAdd(e.get("id"),t).then(t=>n(eA(e))))}function eb(e){return(0,m.Nt)((t,n,i)=>{let r=eX(n(),e);if(!r||r.get("screenshot_fetching")||r.get("isFetching"))return;t(x.siteSuccess({name:e,screenshot_fetching:!0}));let a=0,o=()=>(a++,new Promise((n,r)=>{i.site(e).then(e=>{e.data.screenshot_url?n(t(x.siteSuccess(e.data))):a<=5&&setTimeout(o,1e3)})}));return o()})}function eC({accountSlug:e,searchTerm:t}){return`sites-${e}${t?`-${t}`:""}`}function ew(e){let t=eC(e);return(0,m.Nt)((n,i,r)=>(n(x.sitesRequest(t)),r.sites(e).then(e=>n(x.sitesSuccess(t,e.data,e.pagination))).then(({payload:e})=>{let t=e.entities.map(e=>e.id);t.length&&n((0,E.RT)(t))}).catch(t=>{n(x.sitesFailure(e,t))})))}function eR(e,t){let n=e.get("name");return(0,m.Nt)((i,r,a)=>a.updateSite(e.get("id"),t).then(e=>{if(i(V()),i(x.siteSuccess(e.data)),e.data.name!==n){let t=window.location.pathname.replace(`/sites/${n}/`,`/sites/${e.data.name}/`);i((0,C.d9)(t))}return eX(r(),n)}).catch(e=>{var t,n;if((null===(t=e.errors)||void 0===t?void 0:t.branch_deploy_custom_domain)||(null===(n=e.errors)||void 0===n?void 0:n.deploy_preview_custom_domain)){let t=(0,f.o3)(e.errors);if(t)throw new l.A(t)}if("string"==typeof e.errors)throw new l.A({message:e.errors});throw e}))}function eT(e){return(0,m.Nt)((t,n,i)=>i.unlinkSiteRepository(e).then(e=>(t(V()),t(x.siteSuccess(e.data)))))}function eU(e){return(0,m.Nt)((t,n,i)=>i.deleteSite(e.get("id")).then(e=>{t(V()),t((0,s.VC)("/"))}))}function eD(e){return(0,m.Nt)((t,n,i)=>(0,A.zc)((r,a,o)=>e(t,n,i,o))(t,n))}let eP=e=>{var t;let n=null===(t=e.getIn(["settings","plugins"]))||void 0===t?void 0:t.toJS();return(null==n?void 0:n.length)?n:[]},eL=e=>g.zG[e]!==g.zG.azure_devops&&g.zG[e]!==g.zG.gitlab&&g.zG[e]!==g.zG.gitlab_self_hosted;function ek(e,t,n,i=""){let r=t.get("api_id"),a=t.get("full_name"),o=t.get("full_name_encoded"),s=t.get("private"),u=t.get("installation_id"),d=t.get("owner_type"),p=n.account_slug,f=t.get("project_id"),y=t.get("organization_name"),{visualEditorSettings:v,...I}=n;return eD((A,b,C,w)=>{let R=w.provider===g.zG.github_app?g.zG.github:w.provider,T=b().git,U=g.zG[R]===g.zG.azure_devops,D=g.zG[R]===g.zG.gitlab||g.zG[R]===g.zG.gitlab_self_hosted,P=g.zG[R]===g.zG.bitbucket||g.zG[R]===g.zG.bitbucket_self_hosted,L=eL(R),k={provider:R,installation_id:u,id:t.get("id"),owner_type:d,repo:o||a,private:s,...I};U&&(k.azure_refresh_token=T.get("refreshAccessToken")),D&&(k.gitlab_refresh_token=T.get("refreshAccessToken")),P&&(k.bitbucket_refresh_token=T.get("refreshAccessToken")),delete k.account_slug;let{env:M}=k;delete k.env;let O=!e,F=e?t=>C.updateSite(e.get("id"),t):e=>C.createSite({account_slug:p,name:n.siteName||void 0,env:(0,c.Ab)(M),...e,created_via:i});A((0,N.ah)(a));let $=u||U?Promise.resolve():C.createDeployKey().then(e=>w.addDeployKey(r,e.data,!0,t.get("organization_name"))).catch(e=>{var t;let n=null==w?void 0:null===(t=w.checkErrorForInvalidToken)||void 0===t?void 0:t.call(w,e);if(n)throw new l.A(n);throw new l.A("We couldn’t set up continuous deployment for this repository. This typically happens when you don’t have admin rights to the repository.")}),B=u?{}:{access_token:w.token};return $.then(e=>F({repo:{...k,deploy_key_id:e&&e.id},...L&&{default_hooks_data:B},plugins:eP(t)})).then(e=>w.addWebhook({api_id:r,site:e.data,organization_name:y,project_id:f})).then(e=>C.deploys(e.id,{page:1,per_page:1}).then(i=>(A((0,S.JX)()),A((0,N.Ej)(a)),A(V()),A(x.siteSuccess(e)),A(_.o1.deploysSuccess(e.id,i.data,[])),O&&(null==v?void 0:v.enabled)&&A(function({site:e,settings:t,repo:n,gitAccessToken:i}){let r=(0,h.X2)({repo:n.toJS(),formSettings:t,site:e,gitAccessToken:i});return(0,m.Nt)((t,n,i)=>(t(el(e.name,!0)),i.updateSite(e.id,{visual_editor_settings:r,visual_editor_active:!0}).then(({data:n})=>{t(x.siteSuccess(n)),t((0,E.KQ)(e.id,5e3))}).catch(e=>new l.A(e)).finally(()=>{t(el(e.name,!1))})))}({site:e,settings:n,repo:t,gitAccessToken:B.access_token})),{site:e,deploy:i.data[0]})))})}function eM({site:e,workingBranch:t,env:n,cms:i,repoAccessToken:r}){return(0,m.Nt)((a,o,s)=>{a(el(e.name,!0));let u=o(),c=(0,I.ck)(u,e.id),l=eX(u,e.name).get("visualEditorRepoAnalysis").toJS(),[d,g]=e.build_settings.repo_path.split("/"),p=(0,h.X2)({site:e,repo:{name:g,owner:d,repo_url:e.build_settings.repo_url,visualEditorRepoAnalysis:l},formSettings:{base:e.build_settings.base,branch:e.build_settings.repo_branch,env:n,visualEditorSettings:{enabled:!0,previewBranch:t,repoInfo:{selectedBranch:e.build_settings.repo_branch,selectedRepoAccessToken:r,selectedRepoUrl:e.build_settings.repo_url}}},environmentVariables:c,cms:i});return s.updateSite(e.id,{visual_editor_settings:p,visual_editor_active:!0}).then(({data:t})=>{a(x.siteSuccess(t)),a((0,E.KQ)(e.id,5e3))}).finally(()=>{a(el(e.name,!1))})})}function eO(e){let t={};return e.forEach(e=>{t[e.path]=e.sha}),t}function eF(e,t,n,i){let r=function(e){let t={};return e.forEach(e=>{t[e]=!0}),t}(t.required),o=a()(5);return Promise.all(n.map(n=>r[n.sha]&&o(()=>e.uploadFile(t.deploy_id||t.id,n.path,n.content,i))).filter(Boolean))}function e$(e,t,n=!1){let i=e.get("id"),r=e.get("name"),a=eO(t);return(0,m.Nt)((o,u,c)=>c.createDeploy(i,{files:a}).then(e=>{let t=e.data;return o(_.o1.deploysSuccess(i,[t])),(0,d.AP)("dropSiteName",r),(0,d.AP)("dropDeployId",null==t?void 0:t.id),t}).then(e=>eF(c,e,t).then(()=>c.waitForDeploy(e.id)).then(e=>e.data)).then(t=>c.site(r).then(e=>{o(V()),o(x.siteSuccess(e.data)),o(_.o1.deploysSuccess(i,[t]))}).then(i=>{if(n)o(eb(e.get("name"))),o((0,s.VC)(`/drop/${e.get("name")}`));else{let e=`/sites/${r}`;(null==t?void 0:t.id)&&(e+=`/deploys/${null==t?void 0:t.id}`),o((0,s.VC)(e)),(0,v.Hw)()}return i})))}function eB(e,t=""){return(0,m.Nt)((n,i,r)=>r.createSite({account_slug:e,created_via:t}).then(({data:e})=>(n(x.siteSuccess(e)),eX(i(),e.name))))}function ez(){return(0,m.Nt)((e,t,n)=>n.createDeployKey().then(e=>e.data).catch(e=>{throw new l.A("Error generating a new deploy key.",e)}))}function eJ(e,t){return(0,m.Nt)((n,i,r)=>r.getDeployKey(e).then(e=>n(et(t.get("name"),e.data))).catch(e=>{throw new l.A("Error getting the deploy key.",e)}))}function eG(e,t){return(0,m.Nt)((n,i,r)=>{if(t)return r.updateSiteCover(e.get("id"),t).then(()=>n(eg(e.get("id")))).catch(e=>new l.A(e))})}function eq(e){return(0,m.Nt)((t,n,i)=>i.deleteSiteCover(e.get("id")).then(()=>t(eg(e.get("id")))).catch(e=>new l.A(e)))}function ej(e,t){let n=t.get("name");return e.sites.getIn(["entities",n]).get("deploy_key")||null}function eY({accountSlug:e,repo:t,newRepoName:n,stack:r,isRepoPrivate:a=!1,createdVia:o="",siteName:s="",visualEditor:u}){let l=t.get("default_branch"),d={path:t.get("full_name"),slug:t.get("full_name").replace(/\//,"-"),authorized_url:`https://${t.get("provider")}.com/${t.get("full_name")}`,create_from_path:t.get("create_from_path"),branch:l,supports_visual_editor:u},g=t.get("settings").toJS(),{env:p}=g;delete g.env;let f={name:n,private:a};return eD((a,u,h,m)=>{a((0,N.ah)(n));let S=eL(m.provider);return h.createTemplate(d).then(e=>e.data).then(n=>m.createRepo(f).then(u=>h.createDeployKey().then(e=>e.data).then(e=>m.addDeployKey(u.full_name,e,!1,t.get("organization_name"))).then(i=>h.createSite({account_slug:e,name:s,no_initial_build:!0,template_id:n.id,env:(0,c.Ab)(p),repo:{provider:m.provider,branch:l,id:u.id,repo:u.full_name,deploy_key_id:i.id,...g,private:u.private},...S&&{default_hooks_data:{access_token:m.token}},plugins:eP(t),created_via:o}).then(e=>e.data)).then(e=>m.addWebhook({api_id:u.api_id,site:e,organization_name:t.get("organization_name")})).then(e=>ex(e,t.getIn(["settings","template","incoming-hooks"])||[],h)).then(e=>a((0,b.r9)((0,i.fromJS)(e),r)).then(t=>e)).then(e=>h.triggerDeploy(e.id,!1,n.id).then(t=>({site:e,build:t}))).then(({site:e,build:t})=>{var n,i;a((0,N.Ej)(u.full_name)),a(ei(e)),a(eg(e.name));let r=`/sites/${e.name}`;(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.deploy_id)&&(r+=`/deploys/${null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.deploy_id}`),a((0,C.d9)(r))})))})}function eK({accountSlug:e,repo:t,newRepoName:n,stack:r,accountId:a,integrationInfo:o,isRepoPrivate:s=!1}){let u=t.get("default_branch"),d={path:t.get("full_name"),slug:t.get("full_name").replace(/\//,"-"),authorized_url:`https://${t.get("provider")}.com/${t.get("full_name")}`,branch:u},g=t.get("settings").toJS(),{env:p}=g;delete g.env;let f={name:n,private:s};return eD((s,h,m,S)=>{s((0,N.ah)(n));let _=eL(S.provider);return m.createTemplate(d).then(e=>e.data).then(n=>S.createRepo(f).then(d=>m.createDeployKey().then(e=>e.data).then(e=>S.addDeployKey(d.full_name,e,!1,t.get("organization_name"))).then(i=>m.createSite({account_slug:e,no_initial_build:!0,template_id:n.id,env:(0,c.Ab)(p),repo:{provider:S.provider,branch:u,id:d.id,repo:d.full_name,deploy_key_id:i.id,...g,private:d.private},..._&&{default_hooks_data:{access_token:S.token}},plugins:eP(t),created_via:"integration-template"}).then(e=>e.data)).then(e=>S.addWebhook({api_id:d.api_id,site:e,organization_name:t.get("organization_name")})).then(e=>ex(e,t.getIn(["settings","template","incoming-hooks"])||[],m)).then(e=>s((0,b.r9)((0,i.fromJS)(e),r)).then(t=>e)).then(async e=>{if(!(await fetch(`/.netlify/functions/private-integration-create?teamId=${a}`,{method:"POST",body:JSON.stringify({scopes:o.scopes,visibility:"private",name:o.name,slug:o.slug,slugPrefix:o.slugPrefix,description:o.description,hostSiteId:e.id,integrationLevel:o.level})})).ok)throw new l.A("Failed to create integration");return e}).then(e=>m.triggerDeploy(e.id,!1,n.id).then(t=>({site:e,build:t}))).then(({site:e,build:t})=>{var n,i;s((0,N.Ej)(d.full_name)),s(ei(e)),s(eg(e.name));let r=`/sites/${e.name}`;(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.deploy_id)&&(r+=`/deploys/${null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.deploy_id}?integrationSlug=${o.slug}&integrationSlugPrefix=${o.slugPrefix}`),s((0,C.d9)(r))})))})}function eH(e,t){return(0,m.Nt)((n,i,r)=>(n(x.siteRequest(e.get("name"))),r.transferSite(e.get("id"),t.get("id")).then(e=>(n(V()),n(x.siteSuccess(e.data))))))}function ex(e,t,n){return t.map(t=>n.addBuildHook(e.id,{title:t})),e}function eV(e,t){return(n,i)=>n(eo(e.get("name"),t))}function eW(e,{repoUrl:t,runnableDir:n,branch:i}){let r=e.get("name");return(0,m.Nt)((a,o,s)=>(a(ec(r,!0)),s.analyzeSiteRepoContentForVisualEditing(e.get("id"),{repoUrl:t,runnableDir:n,branch:i}).then(({data:e})=>(a(eu(r,e)),e)).catch(()=>{a(eu(r,{}))}).finally(()=>{a(ec(r,!1))})))}let eQ=(0,u.B)("sites",x,{key:"name",handler:(e,t)=>{switch(t.type){case L:return e.delete("pages");case k:return e.setIn(["entities",t.payload,"snippets","isFetching"],!0);case M:return e.setIn(["entities",t.payload.name,"snippets"],(0,i.fromJS)(t.payload.snippets));case T:return e.setIn(["entities",t.payload.name,"isFetchingBranches"],!0);case w:return e.setIn(["entities",t.payload.name,"branches"],(0,i.fromJS)(t.payload.branches));case R:return e.setIn(["entities",t.payload.name,"isFetchingBranches"],!1);case U:return e.setIn(["entities",t.payload.name,"deploy_key"],t.payload.deployKey.public_key);case D:return e.setIn(["entities",t.payload.name,"dns_zone"],(0,i.fromJS)(t.payload.dnsZone));case P:return e.setIn(["entities",t.payload.name,"dns_zones"],(0,i.fromJS)(t.payload.dnsZones));case z:return e.deleteIn(["entities",t.payload.getIn(["site","name"]),"paid_individual_site_subscription"]);case J:return e.setIn(["entities",t.payload.name,"plans"],(0,i.fromJS)(t.payload.records).reduce((e,t)=>e.set(t.get("type"),t),(0,i.Map)()));case G:return e.updateIn(["entities",t.payload.name],e=>e.setIn(["plans",t.payload.record.type],(0,i.fromJS)(t.payload.record)));case H:return e.updateIn(["entities",t.payload.name],e=>e.set("dnsVerified",t.payload.dnsVerified));case q:return e.setIn(["entities",t.payload.name,"build_settings","installation_id"],t.payload.installationId);case Y:return e.setIn(["entities",t.payload.name,"visualEditorRepoAnalysis","loading"],t.payload.loading);case j:return e.setIn(["entities",t.payload.name,"visualEditorRepoAnalysis","data"],(0,i.fromJS)(t.payload.data));case K:return e.setIn(["entities",t.payload.name,"enablingVisualEditing"],t.payload.isEnabling);default:return null}}});function eZ(e){return(0,m.x4)(e).sites}function eX(e,t,n=!1){let i=e.sites.getIn(["entities",t]);return i?i&&i.get&&i.get("id")?i:n?i.get&&i||ed.set("name",t):null:null}function e0(e,t){return e.sites.get("entities").find(e=>e.get("id")===t)}function e1(e,t){let n=Number(t.page)||1,i=e.sites.getIn(["pages",eC(t)]),r=(null==i?void 0:i.get("current"))||1;return(null==i?void 0:i.get("isFetching"))||r!==n?null:i}function e4(e,t){let n=e1(e,t);return null==n?void 0:n.get("ids").map(t=>eX(e,t))}function e5(e,t){var n;return null===(n=e.sites)||void 0===n?void 0:n.getIn(["pages",eC(t),"isFetching"])}function e3(e,t={}){return e1(e,t)}function e2(e){return e&&e.get("isFetchingBranches")}function e6(e,t){var n;return null===(n=eX(e,t))||void 0===n?void 0:n.get("branches")}function e7(e,t){let n=t&&t.get("branches"),i=t.getIn(["build_settings","repo_branch"]),r=n&&n.map(e=>e.get("name")).filter(e=>e!==i);return r&&r.unshift(i)}let e8=e=>t=>t(x.siteSuccess(e))},32544:(e,t,n)=>{n.d(t,{DW:()=>y,E9:()=>w,F$:()=>T,RL:()=>I,RW:()=>E,a4:()=>C,b4:()=>_,bB:()=>N,bJ:()=>A,dk:()=>R,l3:()=>U,p5:()=>b,uZ:()=>v,wL:()=>S});var i=n(44110),r=n(66602),a=n(85342),o=n(53372);let s="SLACK_WORKSPACE_LOADING",u="SLACK_WORKSPACE_SUCCESS",c="SLACK_SUBSCRIPTIONS_LOADING",l="SLACK_SUBSCRIPTIONS_SUCCESS",d="SLACK_CHANNELS_SUCCESS",g=(0,r.A)(s,e=>({loading:e})),p=(0,r.A)(u,(e,t)=>({accountId:e,data:t})),f=(0,r.A)(c,e=>({loading:e})),h=(0,r.A)(l,(e,t)=>({accountId:e,data:t})),m=(0,r.A)(d,(e,t)=>({accountId:e,data:t}));function S(e=(0,i.Map)(),t){switch(t.type){case s:{let{loading:n}=t.payload;return e.setIn(["entities","loading"],n)}case u:{let{accountId:n,data:r}=t.payload;return e.setIn(["entities",n],(0,i.fromJS)(r.workspace))}default:return e}}function _(e=(0,i.Map)(),t){switch(t.type){case c:{let{loading:n}=t.payload;return e.setIn(["entities","loading"],n)}case l:{let{accountId:n,data:r}=t.payload;return e.setIn(["entities",n],(0,i.fromJS)(r))}default:return e}}function y(e=(0,i.Map)(),t){if(t.type===d){let{accountId:n,data:r}=t.payload;return e.setIn(["entities",n],(0,i.fromJS)(r))}return e}function v(e){return(0,o.Nt)((t,n,i)=>(t(g(!0)),i.slackWorkspace(e).then(n=>{t(p(e,n.data))}).catch(n=>(t(p(e,{workspace:void 0})),new a.A(n))).finally(()=>t(g(!1)))))}function I(e){return(0,o.Nt)((t,n,i)=>i.deleteSlackWorkspace(e).then(()=>t(v(e))))}function A(e,t){return(0,o.Nt)((n,i,r)=>{let a=[],o=async(i,s)=>{let u=await r.slackChannels(e,{cursor:i,limit:s});a.push(...u.data.channels);let{next_cursor:c}=u.data.response_metadata;c?await o(c,(null==t?void 0:t.limit)||1e3):n(m(e,a))};o("",(null==t?void 0:t.limit)||1e3)})}function E(e){return(0,o.Nt)((t,n,i)=>(t(f(!0)),i.slackSubscriptions(e).then(n=>{t(h(e,n.data))}).finally(()=>t(f(!1)))))}function N(e,t){return(0,o.Nt)((n,i,r)=>r[t.id?"editSlackSubscription":"createSlackSubscription"](e,t).then(()=>n(E(e))))}function b(e,t){return(0,o.Nt)((n,i,r)=>r.deleteSlackSubscription(e,t).then(()=>n(E(e))))}let C=e=>e.slackWorkspace.getIn(["entities","loading"]),w=(e,t)=>t&&e.slackWorkspace.getIn(["entities",t]),R=e=>e.slackSubscriptions.getIn(["entities","loading"]),T=(e,t)=>t&&e.slackSubscriptions.getIn(["entities",t]),U=(e,t)=>t&&e.slackChannels.getIn(["entities",t])},58138:(e,t,n)=>{n.d(t,{x:()=>a});var i=n(12345);let r=(0,i.q)("subscriptions"),a=(0,i.B)("subscriptions",r)},66304:(e,t,n)=>{n.d(t,{$_:()=>u,TU:()=>o,X_:()=>c,zs:()=>l});var i=n(12345),r=n(53372);let a=(0,i.q)("teamAudits"),o=(0,i.B)("teamAudits",a);function s(e={accountId:"",accountSlug:""}){return[null==e?void 0:e.accountSlug].join("-")}function u(e,t){let n=e.teamAudit.getIn(["pages",s(t),"ids"]);return n&&n.map(t=>e.teamAudit.getIn(["entities",t]))}function c(e,t){return e.teamAudit.getIn(["pages",s(t)])}function l(e={accountId:"",accountSlug:""}){return(0,r.Nt)((t,n,i)=>i.teamAudit(e).then(n=>{t(a.teamAuditsSuccess(s(e),n.data,n.pagination))}))}},65915:(e,t,n)=>{n.d(t,{Dm:()=>s,Kq:()=>r,h4:()=>a,sx:()=>o});var i=n(66602);let r="TRACK",a="IDENTIFY",o=(0,i.A)(r,e=>e);(0,i.A)(a,e=>e);let s=(0,i.A)("PAGE",()=>({}))},84708:(e,t,n)=>{n.d(t,{J$:()=>b,JC:()=>g,P7:()=>f,Qf:()=>I,Ry:()=>C,Vd:()=>T,cd:()=>_,fR:()=>S,gw:()=>U,hX:()=>v,oM:()=>u,o_:()=>m,pK:()=>c,pd:()=>l,qN:()=>d,sq:()=>o,sw:()=>s,wJ:()=>E});var i=n(53372),r=n(12345);let a=(0,r.q)("accountTrafficRuleConfigs"),o=(0,r.B)("accountTrafficRuleConfigs",a,{key:"account_id"});function s(e){return(0,i.Nt)((t,n,i)=>(t(a.accountTrafficRuleConfigRequest(e)),i.getAccountTrafficRulesConfigs(e).then(n=>{t(a.accountTrafficRuleConfigSuccess({account_id:e,data:n.data}))}).catch(n=>{t(a.accountTrafficRuleConfigFailure(e,n.message))})))}function u(e,t){return(0,i.Nt)((n,r,a)=>a.createAccountTrafficRulesConfig(e,t).then(()=>{n(s(e))}).catch(e=>{throw new i.LG(e)}))}function c(e,t,n){return(0,i.Nt)((r,a,o)=>o.updateAccountTrafficRulesConfig(e,t,n).then(()=>{r(s(e))}).catch(e=>{throw new i.LG(e)}))}function l(e,t){return(0,i.Nt)((n,i,r)=>r.deleteAccountTrafficRulesConfig(e,t).then(()=>{n(s(e))}).catch(t=>{n(a.accountTrafficRuleConfigFailure(e,t.message))}))}function d(e,t){return e.accountTrafficRuleConfigs.getIn(["entities",t,"data"])}function g(e,t,n){if(!n)return;let i=d(e,t);if(i)return i.find(e=>e.get("id")===n)}let p=(0,r.q)("accountTrafficRuleUnpublishedConfigs"),f=(0,r.B)("accountTrafficRuleUnpublishedConfigs",p,{key:"account_id"}),h=(0,r.q)("accountTrafficRulePublishedConfigs"),m=(0,r.B)("accountTrafficRulePublishedConfigs",h,{key:"account_id"});function S(e){return t=>{t(_(e,"published")),t(_(e,"unpublished"))}}function _(e,t){let n=t.charAt(0).toUpperCase()+t.slice(1),r="Published"===n?h:p;return(0,i.Nt)((i,a,o)=>{let s=r[`accountTrafficRule${n}ConfigRequest`],u=r[`accountTrafficRule${n}ConfigSuccess`],c=r[`accountTrafficRule${n}ConfigFailure`];return i(s(e)),o.getAccountLevelTrafficRulesConfig(e,t).then(t=>{i(u({account_id:e,data:t.data}))}).catch(t=>{404===t.code?i(u({account_id:e,data:null})):i(c(e,t.message))})})}function y(e,t,n){return(0,i.Nt)((i,r,a)=>{let o=n.charAt(0).toUpperCase()+n.slice(1),s="Published"===o?h:p;return a.setAccountLevelTrafficRulesConfig(e,t,n).then(()=>{i(_(e,n))}).catch(t=>{i((0,s[`accountTrafficRule${o}ConfigFailure`])(e,t.message))})})}function v(e,t,n){return i=>i(y(e,t,"published")).then(()=>{i(y(e,n,"unpublished"))})}function I(e,t,n){let i=n.charAt(0).toUpperCase()+n.slice(1);return e[`accountTrafficRule${i}Configs`].getIn(["entities",t,"data"])}let A=(0,r.q)("siteTrafficRulePublishedConfigs"),E=(0,r.B)("siteTrafficRulePublishedConfigs",A,{key:"site_id"}),N=(0,r.q)("siteTrafficRuleUnpublishedConfigs"),b=(0,r.B)("siteTrafficRuleUnpublishedConfigs",N,{key:"site_id"});function C(e){return t=>{t(w(e,"published")),t(w(e,"unpublished"))}}function w(e,t){let n=t.charAt(0).toUpperCase()+t.slice(1),r="Published"===n?A:N;return(0,i.Nt)((i,a,o)=>{let s=r[`siteTrafficRule${n}ConfigRequest`],u=r[`siteTrafficRule${n}ConfigSuccess`],c=r[`siteTrafficRule${n}ConfigFailure`];return i(s(e)),o.getSiteLevelTrafficRulesConfig(e,t).then(t=>{i(u({site_id:e,data:t.data}))}).catch(t=>{404===t.code?i(u({site_id:e,data:null})):i(c(e,t.message))})})}function R(e,t,n){let r=n.charAt(0).toUpperCase()+n.slice(1),a="Published"===r?A:N;return(0,i.Nt)((i,o,s)=>s.setSiteLevelTrafficRulesConfig(e,t,n).then(()=>{i(w(e,n))}).catch(t=>{i((0,a[`siteTrafficRule${r}ConfigFailure`])(e,t.message))}))}function T(e,t,n){return i=>i(R(e,t,"published")).then(()=>{i(R(e,n,"unpublished"))})}function U(e,t,n){let i=n.charAt(0).toUpperCase()+n.slice(1);return e[`siteTrafficRule${i}Configs`].getIn(["entities",t,"data"])}},72412:(e,t,n)=>{n.d(t,{En:()=>h,N1:()=>u,Rd:()=>c,Tg:()=>f,i$:()=>p,mf:()=>m,r:()=>g});var i=n(44110),r=n(66602),a=n(12345),o=n(53372);let s=(0,a.q)("trafficSplits"),u=(0,a.B)("trafficSplits",s,{handler:(e,t)=>{switch(t.type){case"TRAFFICSPLIT_SUCCESS":return e.setIn(["entities",t.payload.id],(0,i.fromJS)(t.payload));case"TRAFFICSPLIT_TOGGLE":return e.setIn(["entities",t.payload.splitId,"active"],t.payload.active);default:return null}}});function c(e,t){let n=e.trafficSplits.getIn(["pages",d(t),"ids"]);return n&&n.map(t=>e.trafficSplits.getIn(["entities",t]))}let l=(0,r.A)("TRAFFICSPLIT_TOGGLE",(e,t)=>({splitId:e,active:t}));function d(e){return e&&e.get("id")}function g(e){let t=d(e);return(0,o.Nt)((e,n,i)=>i.trafficSplits(t).then(n=>e(s.trafficSplitsSuccess(t,n.data))))}function p(e,t){let n=d(e);return(0,o.Nt)((i,r,a)=>a.createTrafficSplit(n,t).then(t=>{i(s.trafficSplitSuccess(t.data)),i(g(e))}))}function f(e,t,n){let i=d(e);return(0,o.Nt)((e,r,a)=>a.updateTrafficSplit(i,t,n).then(t=>{e(s.trafficSplitSuccess(t.data))}))}function h(e,t){return(0,o.Nt)((n,i,r)=>r.startTrafficSplit(d(e),t).then(i=>{n(l(t,!0)),n(g(e))}))}function m(e,t){return(0,o.Nt)((n,i,r)=>r.stopTrafficSplit(d(e),t).then(i=>{n(l(t,!1)),n(g(e))}))}},90016:(e,t,n)=>{var i;n.d(t,{c:()=>i}),function(e){e.all="all",e.nonProduction="non_production"}(i||(i={}))},26460:(e,t,n)=>{n.d(t,{$u:()=>A,Ai:()=>C,Am:()=>I,ES:()=>w,GI:()=>P,KX:()=>E,U:()=>y,_d:()=>v,d1:()=>R,d9:()=>_,lh:()=>b,nn:()=>D,p6:()=>U,r1:()=>N,ui:()=>S});var i=n(44110),r=n(56315),a=n(41443),o=n(8255),s=n(53372),u=n(65900),c=n(65915);let l="SET_A11Y_MESSAGE",d="SET_LOADING",g="SET_ROUTE_PATH",p="SET_DISPLAY_GUIDED_ONBOARDING",f="SHOW_FIRST_DEPLOY_MODAL",h="SITES_NAV_LIST_SUCCESS",m="LOAD_USER_SHORTCUTS_SUCCESS",S=(e=(0,i.Map)(),t)=>{switch(t.type){case l:return e.setIn(["ui","a11yMessage"],t.message);case d:return e.setIn(["ui","loading"],t.loading);case g:return e.setIn(["ui","routePath"],t.routePath);case p:return e.setIn(["ui","displayGuidedOnboarding"],t.displayGuidedOnboarding);case f:let{show:n}=t,r=t.data||e.getIn(["ui","firstDeployModal","data"]);return e.setIn(["ui","firstDeployModal"],{show:n,data:r});case h:return e.setIn(["ui","sitesNavList",t.accountSlug],t.data);case m:return e.setIn(["ui","userShortcuts"],t.userShortcuts);default:return e}},_=e=>t=>{t((0,r.HC)(e)),t((0,c.Dm)())},y=({ui:e})=>e.getIn(["ui","a11yMessage"]),v=({ui:e})=>e.getIn(["ui","displayGuidedOnboarding"]);function I({ui:e},t){return e.getIn(["ui","sitesNavList",t])||(0,i.fromJS)([])}function A({ui:e}){let t=e.getIn(["ui","userShortcuts"]);return null!=t?t:{}}let E=e=>({type:l,message:e}),N=e=>({type:d,loading:e}),b=e=>({type:g,routePath:e}),C=e=>({type:p,displayGuidedOnboarding:e}),w=e=>({type:f,show:!0,data:e}),R=()=>({type:f,show:!1}),T=({data:e,accountSlug:t})=>({type:h,data:e,accountSlug:t}),U=()=>e=>{e({type:m,userShortcuts:(0,o.wy)()})},D=(e,t)=>n=>{let i=(0,o.wy)();(0,o.Ke)(e,t),n({type:m,userShortcuts:{...i,[e]:(0,a.zB)(t)}})};function P({accountSlug:e,siteName:t}){return(0,s.Nt)((n,r,a)=>{let o=r(),s=I(o,e),c=(0,u.Gd)(o,t,!1);if(!s||s.isEmpty()||c&&!s.find(e=>(null==e?void 0:e.get("name"))===(null==c?void 0:c.get("name"))))return a.sites({accountSlug:e}).then(t=>n(T({data:(0,i.fromJS)(t.data),accountSlug:e}))).catch(()=>n(T((0,i.fromJS)([]))))})}},62618:(e,t,n)=>{n.d(t,{p8:()=>o});var i=n(44110),r=n(66602);let a="UPLOAD_LOG";function o(e=(0,i.Map)(),t){if(t.type===a){let{deploy_id:n,ts:r,log:a}=t.payload,o=e.get(n)||(0,i.List)();return e.setIn([n],o.push((0,i.Map)({ts:r,log:a})))}return e}(0,r.A)(a,(e,t)=>({deploy_id:e,log:t,ts:new Date().getTime()}))},77328:(e,t,n)=>{n.d(t,{LI:()=>c,jw:()=>l,tN:()=>d});var i=n(44110),r=n(66602),a=n(56020),o=n(53372);let s="WEB_REQUESTS_TIMESERIES_SUCCESS",u=(0,r.A)(s,(e,t)=>({id:e,requests:{data:t.map(e=>[new Date(e.Time).setUTCHours(0,0,0,0),e.Values.count])}}));function c({accountId:e,from:t,to:n}){return(0,a.Jh)((i,r,a)=>a.accountWebRequestsTimeseries({id:e,from:t,to:n}).then(t=>{i(u(e,t.data))}).catch(e=>new o.LG(e)))}function l(e=(0,i.Map)(),t){return t.type===s?e.set(`${t.payload.id}-webRequestsTimeseries`,(0,i.fromJS)(t.payload.requests)):e}function d(e,t){var n;return null===(n=e.webRequests)||void 0===n?void 0:n.get(`${t}-webRequestsTimeseries`)}}}]);