"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7267],{8286:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(36870),o=n(86326),i=n(44515),l=n(56020),a=n(24204),s=n(5576),u=n(65900),c=n(53189);let d=e=>Math.floor(new Date().getTime()/1e3)-86400*e,g=(0,i.Ng)(function(e,{site:t,account:n}){return{pageviews:(0,l.cx)(e,t),uniqueVisitors:(0,l.$Z)(e,t),topLocations:(0,l.cL)(e,t),topSources:(0,l.gI)(e,t),topPages:(0,l.s$)(e,t),bandwidthUsed:(0,l.LY)(e,t),notFound:(0,l.yZ)(e,t),summary:(0,l.Jj)(e,t),realUserMetrics:{enabled:t.get("rum_enabled")||!1,filterSelected:(0,s.jd)(),FCP:(0,s.rs)(e,t,"FCP"),LCP:(0,s.rs)(e,t,"LCP"),FID:(0,s.rs)(e,t,"FID"),INP:(0,s.rs)(e,t,"INP"),CLS:(0,s.rs)(e,t,"CLS")},filterSelected:(0,l.vB)()}},function(e,{account:t,site:n,hasCharts:r,apiVersion:o}){return{onEnable:t=>e((0,l.gQ)(t)),onEnableRUM:t=>e((0,u.hj)(t,{rum_enabled:!0})).then(()=>{e((0,s.R9)(t,"FCP")),e((0,s.R9)(t,"LCP")),e((0,s.R9)(t,"FID")),e((0,s.R9)(t,"INP")),e((0,s.R9)(t,"CLS"))}),onDisableRUM:t=>e((0,u.hj)(t,{rum_enabled:!1})),onLoad:()=>{r&&n.get("analytics_instance_id")&&(e((0,l.qy)(n)),e((0,l.ZO)(n)),e((0,l.U9)(n)),e((0,l.kU)(n)),e((0,l.cT)(n)),e((0,l.B7)(n)),e((0,l.sY)(n))),r&&n.get("rum_enabled")&&(e((0,s.R9)(n,"FCP")),e((0,s.R9)(n,"LCP")),e((0,s.R9)(n,"FID")),e((0,s.R9)(n,"INP")),e((0,s.R9)(n,"CLS")),e((0,a.C5)(n,{filter:n.getIn(["build_settings","repo_branch"]),state:"ready",from:d(7)})))},onUpdateFilter:(t,{resolution:n,days:r,minusOffsetDays:o})=>{e((0,l.qy)(t,{resolution:n,days:r,minusOffsetDays:o})),e((0,l.ZO)(t,{resolution:n,days:r,minusOffsetDays:o})),e((0,l.B7)(t,{resolution:n,days:r,minusOffsetDays:o})),e((0,l.cT)(t,{resolution:n,days:r,minusOffsetDays:o})),e((0,l.kU)(t,{resolution:n,days:r,minusOffsetDays:o})),e((0,l.sY)(t,{resolution:n,days:r,minusOffsetDays:o})),e((0,l.U9)(t,{resolution:n,days:r,minusOffsetDays:o}))},onUpdateRUMFilter:(t,{resolution:n,days:r,minusOffsetDays:o},i)=>{e((0,s.R9)(t,"FCP",{resolution:"hour",days:r},i)),e((0,s.R9)(t,"FID",{resolution:"hour",days:r},i)),e((0,s.R9)(t,"LCP",{resolution:"hour",days:r},i)),e((0,s.R9)(t,"INP",{resolution:"hour",days:r},i)),e((0,s.R9)(t,"CLS",{resolution:"hour",days:r},i)),e((0,a.C5)(t,{filter:t.getIn(["build_settings","repo_branch"]),state:"ready",from:d(r)}))},onDelete:t=>e((0,l.Y2)(t))}})(e=>{let{setIsLoadingApp:t}=(0,c.ZT)(),{site:n,Component:i}=e,l=n.get("analytics_instance_id");return(0,o.useEffect)(()=>{e.onLoad(e),t(!1)},[l,t]),(0,r.jsx)(i,{...e})})},94312:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(36870),o=n(86326),i=n(56020),l=n(24204),a=n(65900),s=n(57830),u=n(70698),c=n(84423),d=n(33773),g=n(46585),p=n(53189),f=n(94958),v=n(27578);let m=({account:e,site:t,location:n})=>{var m;let h=(0,v.wA)(),{setIsLoadingApp:w}=(0,p.ZT)(),b=(0,v.d4)(e=>(0,i.fg)(e,t)),y=(0,v.d4)(e=>(0,i.os)(e,t)),x=(0,v.d4)(e=>(0,i.xx)(e,t)),S=(0,v.d4)(e=>(0,a.Bu)(t)),A=f.Nc.location.search,_=(0,o.useMemo)(()=>new URLSearchParams(A),[A]),E=_.get("branch"),N=_.get("function"),L=_.get("days"),j=(0,v.d4)(e=>{var n;return(null===(n=(0,l.TO)(e,t,{filter:t.getIn(["build_settings","repo_branch"]),state:"ready"}))||void 0===n?void 0:n.toJS())||[]}),k=(0,v.d4)(e=>{var n;return(null===(n=(0,a.lp)(e,t))||void 0===n?void 0:n.toJS().filter(Boolean))||[]}),[R,I]=(0,o.useState)(E||t.getIn(["build_settings","repo_branch"])),D=(0,v.d4)(e=>(0,i.YP)(e,t)),[P,C]=(0,o.useState)(N||""),F=parseInt(L),U=(0,u.zi)(e.get("type_slug")).includes(F)?F:1,[T,M]=(0,o.useState)(U);(0,o.useEffect)(()=>{(E!==R||N!==P||Number(L)!==T)&&f.Nc.push({pathname:n.pathname,query:{branch:R,function:P,days:T}})},[n.pathname,R,P,T]),(0,o.useEffect)(()=>{"string"==typeof E&&E!==R&&I(E),"string"==typeof N&&N!==P&&C(N),"string"==typeof L&&Number(L)!==T&&M((0,u.zi)(e.get("type_slug")).includes(Number(L))?Number(L):1)},[E,N,L]);let z=(0,o.useMemo)(()=>{let e=1===T?"hour":"day";return{days:T,resolution:e,minusOffsetDays:0}},[T]),B=(0,o.useMemo)(()=>{let e=1===T?"hour":"day";return(0,i.gR)(e,T,0).period},[T]),G=t.get("name"),O=t.get("use_edge_functions");return((0,o.useEffect)(()=>{(async()=>{O&&await h((0,i.N1)({siteName:G,branch:R,func:P,period:B})),w(!1)})()},[R,P,h,w,O,G,B]),O)?(0,r.jsx)(s.A,{account:e,site:t,selectedPeriod:B,selectedTimeResolution:z,selectedNumDay:T,branches:k,selectedBranch:R,setSelectedBranch:I,invocations:b.data,invocationsLoading:b.isFetching,selectedFunction:P,functionsInfoMap:D,onUpdateBranchFilter:e=>{I(e)},onUpdateFunctionsFilter:e=>{C("object"==typeof e?e.value:e)},onUpdateTimeFilter:e=>{e&&"value"in e&&e.value&&M(e.value)},aggregates:y.data,aggregatesLoading:y.isFetching,summary:null===(m=x.data)||void 0===m?void 0:m[0],summaryLoading:x.isFetching,branchesLoading:S,deploys:j}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{site:t}),(0,r.jsx)(g.A,{}),(0,r.jsx)(d.A,{})]})}},79925:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(36870),o=n(86326),i=n(56020),l=n(24204),a=n(65900),s=n(16983),u=n(70698),c=n(32981),d=n(33773),g=n(46585),p=n(53189),f=n(94958),v=n(27578);let m=({account:e,site:t,location:n})=>{var m;let h=(0,v.wA)(),{setIsLoadingApp:w}=(0,p.ZT)(),b=(0,v.d4)(e=>(0,i.C)(e,t)),y=(0,v.d4)(e=>(0,i.dP)(e,t)),x=(0,v.d4)(e=>(0,i.oC)(e,t)),S=(0,v.d4)(e=>(0,a.Bu)(t)),A=f.Nc.location.search,_=(0,o.useMemo)(()=>new URLSearchParams(A),[A]),E=_.get("branch"),N=_.get("function"),L=_.get("days"),j="status"===_.get("chart-type")?"status":"success",k=(0,v.d4)(e=>{var n;return(null===(n=(0,l.TO)(e,t,{filter:t.getIn(["build_settings","repo_branch"]),state:"ready"}))||void 0===n?void 0:n.toJS())||[]}),R=(0,v.d4)(e=>{var n;return(null===(n=(0,a.lp)(e,t))||void 0===n?void 0:n.toJS().filter(Boolean))||[]}),[I,D]=(0,o.useState)(E||t.getIn(["build_settings","repo_branch"])),P=(0,v.d4)(e=>(0,i.Rv)(e,t,`branch:${I}`)),[C,F]=(0,o.useState)(N||""),U=parseInt(L),T=(0,u.zi)(e.get("type_slug")).includes(U)?U:1,[M,z]=(0,o.useState)(T),[B,G]=(0,o.useState)(j||"success");(0,o.useEffect)(()=>{(E!==I||N!==C||Number(L)!==M||j!==B)&&f.Nc.push({pathname:n.pathname,query:{branch:I,function:C,days:M,"chart-type":B}})},[n.pathname,I,C,M,B]),(0,o.useEffect)(()=>{"string"==typeof E&&E!==I&&D(E),"string"==typeof N&&N!==C&&F(N),"string"==typeof L&&Number(L)!==M&&z((0,u.zi)(e.get("type_slug")).includes(Number(L))?Number(L):1),j!==B&&G(j)},[E,N,L,j]);let O=(0,o.useMemo)(()=>{let e=1===M?"hour":"day";return{days:M,resolution:e,minusOffsetDays:0}},[M]),$=(0,o.useMemo)(()=>{let e=1===M?"hour":"day";return(0,i.gR)(e,M,0).period},[M]),V=t.get("name"),H=t.get("use_functions");return((0,o.useEffect)(()=>{(async()=>{H&&await h((0,i.eJ)({siteName:V,branch:I,func:C,period:$,byStatus:"status"===B})),w(!1)})()},[I,C,h,w,H,V,$,B]),H)?(0,r.jsx)(s.A,{account:e,site:t,selectedPeriod:$,selectedTimeResolution:O,selectedNumDay:M,branches:R,selectedBranch:I,setSelectedBranch:D,invocations:b.data,invocationsLoading:b.isFetching,chartType:B,handleChangeChartType:e=>{G(e)},selectedFunction:C,functionsInfoMap:P,onUpdateBranchFilter:e=>{D(e)},onUpdateFunctionsFilter:e=>{F("object"==typeof e?e.value:e)},onUpdateTimeFilter:e=>{e&&"value"in e&&e.value&&z(e.value)},aggregates:y.data,aggregatesLoading:y.isFetching,summary:null===(m=x.data)||void 0===m?void 0:m[0],summaryLoading:x.isFetching,branchesLoading:S,deploys:k}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{site:t}),(0,r.jsx)(g.A,{}),(0,r.jsx)(d.A,{})]})}},71302:(e,t,n)=>{let r;n.d(t,{A:()=>eU,o:()=>ej});var o=n(36870);n(45557);var i=n(37811),l=n(49207),a=n(43536),s=n(48932),u=n(44110),c=n(86326),d=n(44515),g=n(17250),p=n(53372),f=n(88704),v=n(17871),m=n(76808),h=n(24204),w=n(36175),b=n(65264),y=n(48528),x=n(65900),S=n(65915),A=n(26460),_=n(76690),E=n(87963),N=n(12335),L=n(70932),j=n(33256),k=n(64686),R=n(54423),I=n(2567),D=n(14712),P=n(23256),C=n(80572),F=n(81794),U=n(99680),T=n(89497),M=n(74591),z=n(43134);let B=(0,d.Ng)(function(e){return{a11yMessage:(0,A.U)(e)}},{setLoading:A.r1,setA11yMessage:A.KX})(e=>{let[t,n]=(0,c.useState)(""),r=({a11yMessage:e})=>{e&&(setTimeout(()=>{n(e)},50),setTimeout(()=>{n("")},500))};return(0,c.useEffect)(()=>{r(e)},[e]),(0,o.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"tw-sr-only",children:t})});var G=n(44953),O=n(23015),$=n(27578),V=n(68444);let H=function({account:e,history:t}){var n,r;let{deployPath:i,firstDeployModal:l,site:a,user:s}=(0,$.d4)(e=>{var t,n;let r=e.ui.getIn(["ui","firstDeployModal"]),o=(0,x.W5)(e,null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.site_id),i=(0,O.l2)(o,"deploys",null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.id),l=(0,f.QR)(e);return{deployPath:i,firstDeployModal:r,site:null==o?void 0:o.toJS(),user:l}}),u=(null==l?void 0:null===(n=l.data)||void 0===n?void 0:n.state)==="ready",d=(0,$.wA)(),g=window.location.pathname===i,p=null==l?void 0:l.show,v=null==l?void 0:null===(r=l.data)||void 0===r?void 0:r.site_id,m=null==s?void 0:s.get("email");return(0,c.useEffect)(()=>{p&&_.m39.appFirstDeployModalDisplayed({site_id:v,pageUrlPath:window.location.pathname,success:u,email:m})},[p,v,u,m]),p?(0,o.jsx)(G.A,{site:a,onHide:e=>{e!==V.M3.onSubmit&&_.m39.appFirstDeployModalInteraction({modalInteraction:"dismissed"}),d((0,A.d1)())},onSave:()=>{_.m39.appFirstDeployModalInteraction({modalInteraction:"primaryCtaClicked"}),!g&&i?t.push(i):t.push((0,O.$A)(e))},isOnDeployPage:g,success:u}):null};var Z=n(52147),K=n(12666),q=n(60373),W=n(37552),J=n(48223),X=n(53189),Y=n(49422),Q=n(2957),ee=n(77879),et=n(47534),en=n(79241),er=n(80826),eo=n(28889),ei=n(58957),el=n(81778),ea=n(12575),es=n(41443),eu=n(84290),ec=n(29383),ed=n(47512),eg=n(27180),ep=n(45235),ef=n(82364),ev=n(86147),em=n(55154),eh=n(94958),ew=n(59012),eb=n(20397),ey=n(84070),ex=n(65698),eS=n(89133);let eA="isNavCollapsed",e_=e=>{var t;let n=[{label:"User settings",to:ea.bw.USER_SETTINGS},{label:"Netlify Labs",to:ea.bw.USER_LABS}];return(null==e?void 0:null===(t=e.get("email"))||void 0===t?void 0:t.endsWith("@netlify.com"))&&n.push({label:"Netlidev",to:ea.bw.NETLIDEV}),n},eE="",eN="",eL=()=>!0;function ej(e,t=window.location.pathname){var n;let{account:r,site:o,params:i}=e,[l,s,u]=(0,a.Cm)(t,i).slice(0,3),c=null===(n=eu.Tl[l])||void 0===n?void 0:n.find(e=>e.key===s),d=null==c?void 0:c.isVisible;if((null==c?void 0:c.subNavigation)&&u){let e=c.subNavigation.find(e=>e.key===u);d=null==e?void 0:e.isVisible}return d||(d=eL),d({account:r,site:o})}function ek(){if(!(0,ec.Hd)("tracking_session_id")){let e=crypto.randomUUID();(0,ec.J2)("tracking_session_id",e)}}function eR(){(0,ec.Hd)("tracking_session_id")&&(0,ec.X)("tracking_session_id")}let eI=({routes:e,params:t,titlesByRoute:n})=>{var r;let{path:o}=null!==(r=e.filter(e=>!!e.path).at(-1))&&void 0!==r?r:{};(0,c.useEffect)(()=>{if(void 0===o)return;let e=function({path:e,params:t,titlesByRoute:n}){if("/"===e){var r;return null!==(r=n[e])&&void 0!==r?r:null}let o=["/"];for(let t=1;t<e.length;t++)"/"===e[t]&&o.push(e.slice(0,t));return o.push(e),o.map(e=>{var t;return null!==(t=n[e])&&void 0!==t?t:null}).filter(Boolean).reverse().join(" | ").replace(/:[\w]+/g,e=>t[e.slice(1)])}({path:o,params:t,titlesByRoute:n});null!==e&&(document.title=e)},[o])},eD=({routes:e})=>{let t=e[e.length-1].path||e[e.length-2].path;(0,c.useEffect)(()=>{t&&(0,em.$3)(t)},[t])},eP=e=>(0,c.isValidElement)(e)&&"string"!=typeof e.type?e.type:null,eC=e=>({location:{...e.location},match:{params:e.params},params:e.params,routes:e.routes,route:e.route}),eF=e=>{if(!(0,c.isValidElement)(e))return null;let{props:t}=e;return(0,c.cloneElement)(e,{...eC(t),...t.children&&{children:eF(t.children)}})},eU=(0,i.j8)({sdkKey:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",options:{apiProxyURL:"https://featureflags.netlify.com",deferInitialization:!1}})((0,d.Ng)((e,{location:t,children:n,routes:r,match:o})=>{var i,l,s,u,c,d;let h=null!==(s=(0,O.wA)(t.pathname,Object.values(ea.bw).filter(e=>e!==ea.bw.APEX_ROUTE)))&&void 0!==s?s:{},{name:w,account_slug:S,organization_slug:_}=h,E=(0,x.Gd)(e,w),N=(0,f.QR)(e),L=(0,g.N8)(e),j=S||E&&E.get("account_slug"),k=j&&(0,g.Mz)(e,j)||(0,g.PR)(e),R=(0,A.Am)(e,j);!h.account_slug&&(null==k?void 0:k.get("slug"))&&!h.name&&(h.account_slug=k.get("slug"));let I=_?null:(0,y.Zb)(e),D=null==k?void 0:k.get("organization_id"),P=_?(0,y.Ee)(e,_):null==I?void 0:I.find(e=>e.get("id")===D),C=k?(0,m.zo)(e,k.get("id")):void 0,F=(0,eu.bh)({pathname:t.pathname,params:h,account:k,site:E,createOrganization:C}),U="";r?U=r.map(e=>e.path).filter(Boolean).pop():o&&(U=o.path);let T=null!==(u=Object.keys(ea.bw).find(e=>ea.bw[e]===U))&&void 0!==u?u:"",M=null!==(c=ea.go[T])&&void 0!==c?c:{},z=null==M?void 0:M.excludeAppNav,B=null==M?void 0:M.excludeSecondaryNav,{hideAppSwitcher:G}=M;if(!(null==n?void 0:null===(i=n.props)||void 0===i?void 0:i.route))throw Error("Children of <App> must be a route");(0,ep.qn)(null==k?void 0:k.get("role"))&&(B=!0),(0,ef.kY)(k)&&(B=!0),(null!==(d=null===(l=eP(n))||void 0===l?void 0:l.excludeAppNav)&&void 0!==d?d:null)&&!(null==N?void 0:N.get("id"))&&(z=!0);let $=!!N&&!!k,V=(0,g.QS)({state:e,account:k,pathname:t.pathname,search:t.search}),H=(0,A._d)(e),Z=(0,v.tP)(e);return{isAuthViewReady:$,user:N,site:E,sitesNavList:R,params:h,account:k,accounts:L,api:(0,p.x4)(e),organization:P,organizations:I,navigation:F,redirect:V,backTo:function({routeProps:e,location:t,params:n,navigation:r}){let{pathname:o,search:i}=t,l=(0,a.Cm)(o,n)[1],s=e.back?null==r?void 0:r.find(e=>e.key===l):void 0;return s&&[ea.bw.TEAM_PLUGINS].some(e=>(0,O.B6)(e,s.path))?s:s&&{...s,path:`/${(0,a.qZ)(o).slice(0,-1).join("/")}${i}`}}({routeProps:M,location:t,params:h,navigation:F}),userId:N&&N.get("id")||null,notifications:(0,b.LG)(e),lastNotificationReadAt:(0,b.K4)(e),excludeAppNav:z,excludeSecondaryNav:B,routePath:U,showGuidedOnboarding:H,currentProviderSecureDecision:Z,hideAppSwitcher:G}},e=>({setA11yMessage:(...t)=>e((0,A.KX)(...t)),onLoad:({siteName:t})=>e((0,f.Xh)()).then(n=>(t&&e((0,x.UK)(t)),n&&(e((0,y.pP)()),e((0,g.xk)()),e((0,b.fg)()),ek()),n)).catch(t=>401===t.code?e((0,f.q7)(window.location.pathname)):Promise.reject(t)),loadNotifications:({user:t})=>t&&e((0,b.fg)()),loadSitesNavList:({accountSlug:t,siteName:n})=>e((0,A.GI)({accountSlug:t,siteName:n})),onReadNotifications:t=>e((0,b.JF)(t)),onClickNotification:t=>e((0,b.mo)(t)),onLogout:t=>{e((0,f.y4)(t)),eR(),ek()},onDragEnter:t=>{e((0,w.v7)())},onDragLeave:t=>{(t.clientX<=0||t.clientY<=0||t.clientX>window.innerWidth||t.clientY>window.innerHeight)&&e((0,w.K0)())},onDragOver:e=>{e.preventDefault()},onDrop:t=>{t.preventDefault(),e((0,w.K0)())},trackUpgrade:(t,n)=>{e((0,S.sx)({event:t,...n}))},onCancelDeploy:(t,n)=>{e((0,h.ol)((0,u.Map)({name:t}),(0,u.Map)({id:n})))},onChangeRoutePath:t=>{(0,ei.lA)(t),e((0,A.lh)(t))},setPaymentProviderSecureDecisionState:t=>e((0,v.Dz)(t))}))(e=>{var t,n;let{account:i,accounts:a,api:u,children:d,currentProviderSecureDecision:g,excludeAppNav:p=!1,excludeSecondaryNav:v=!1,hideAppSwitcher:h=!1,isAuthViewReady:b,loadNotifications:y,loadSitesNavList:x,location:S,onCancelDeploy:G,onChangeRoutePath:O,onDragEnter:V,onDragLeave:ei,onDragOver:eu,onDrop:ep,onLoad:eL,organization:ej,params:eP,redirect:eC,routePath:eU,showGuidedOnboarding:eT,site:eM,sitesNavList:ez,user:eB,userId:eG,history:eO}=e,{isLoadingApp:e$}=(0,X.ZT)(),[eV,eH]=(0,c.useState)(!0),[eZ,eK]=(0,c.useState)(!1),[eq,eW]=(0,c.useState)(null),[eJ,eX]=(0,c.useState)(g),[eY,eQ]=(0,c.useState)(!1),[e0,e1]=(0,c.useState)(!1),[e4,e3]=(0,c.useState)(!1),e6=i?Number(i.getIn(["support_level"])):0,e8=null==i?void 0:i.get("slug"),e5=null==i?void 0:i.get("id"),e2=(0,eo.A)(eG),e7=(0,$.wA)(),{themePreference:e9,setThemePreference:te}=(0,Q.DP)(),[tt,tn]=(0,c.useState)("true"===localStorage.getItem(eA)),tr=null!==(n=(0,$.d4)(A.$u)["toggle-navigation"])&&void 0!==n?n:{defaultModifiers:["Meta"],defaultCharacter:"\\"};eI({routes:e.routes,params:e.params,titlesByRoute:ea.jA}),eD(e),(0,c.useEffect)(()=>{e7((0,A.p6)())},[e7]),(0,er._)({targetKey:tr.defaultCharacter,modifiers:{metaKey:tr.defaultModifiers.includes("Meta"),altKey:tr.defaultModifiers.includes("Alt"),ctrlKey:tr.defaultModifiers.includes("Control"),shiftKey:tr.defaultModifiers.includes("Shift")}},()=>tn(e=>!e)),(0,c.useEffect)(()=>{localStorage.setItem(eA,`${tt}`)},[tt]);let[to,ti]=(0,c.useState)(!1),tl=(0,c.useRef)(null),ta=(0,c.useRef)(null),ts=e=>(function({isMobileNavOpen:e,setIsMobileNavOpen:t,event:n,secondaryNav:r,mobileNavButton:o}){var i;let{key:l,shiftKey:a,target:s}=n;if(!e||"Tab"!==l&&"Escape"!==l)return;let u=null!==(i=null==r?void 0:r.querySelectorAll("a, button"))&&void 0!==i?i:[],c=u[u.length-1];("Escape"===l||!a&&s===c||a&&s===o)&&(t(!1),s!==o&&(n.preventDefault(),null==o||o.focus()))})({isMobileNavOpen:to,setIsMobileNavOpen:ti,event:e,secondaryNav:ta.current,mobileNavButton:tl.current}),tu=(0,et._)("project_deoxys_ui"),tc=(0,et._)("project_trumbeak_ui"),td=(0,et._)("project_libaniferous_ui"),tg=(0,et._)("project_xerneas_ui",!1),tp=(0,et._)("project_empoleon_ui",!1),tf=tu?e.navigation:null===(t=e.navigation)||void 0===t?void 0:t.filter(e=>"extensions"!==e.key),tv=(null==i?void 0:i.get("on_stripe_payment_processing"))!==!1,tm=()=>{eZ||(eK(!0),eL({siteName:eP.name}).then(e=>{eK(!1),e||eH(!1)}).catch(e=>{eK(!1),eW(e),eH(!1)}).finally(()=>{requestIdleCallback(()=>{Array.isArray(window._asyncScriptsWaitingLoad)&&(window._asyncScriptsWaitingLoad.map(e=>e()),window._asyncScriptsWaitingLoad=[])},{timeout:2e3})}))},th=()=>{document.addEventListener("dragenter",V,!1),document.addEventListener("dragleave",ei,!1),document.addEventListener("dragover",eu,!1),document.addEventListener("drop",ep,!1)},tw=()=>{document.removeEventListener("dragenter",V),document.removeEventListener("dragleave",ei),document.removeEventListener("dragover",eu),document.removeEventListener("drop",ep)};(0,en.A)(()=>{y(e)},6e5),(0,c.useEffect)(()=>{e2!==eG&&tm()},[eG,e2]),(0,c.useEffect)(()=>{eN!==eU&&(eN=eU,(r=(0,em.IX)({routePath:eU})).whenDataFullyLoaded({timeout:15e3,whenDFLCallback:({viewDFLTimedOut:e})=>{r.markDataFullyLoaded({viewDFLTimedOut:e})}})),eV||e$||!r||r.markInitialRender()},[eV,e$,eU]),(0,c.useEffect)(()=>{i&&eB&&((0,em.Q)({id:eB.get("id")||"",email:eB.get("email"),accountId:i.get("id"),plan:i.get("type_slug")}),(0,em.My)("buildUTCTime",1719829950254))},[i,eB]);let tb=null==eM?void 0:eM.get("name");return(0,c.useEffect)(()=>{e8&&tb&&x({accountSlug:e8,siteName:tb})},[e8,tb,x]),(0,c.useEffect)(()=>{eG&&tp&&e7((0,f.Ce)())},[eG,e7,tp]),(0,c.useEffect)(()=>{e5&&tg&&e7((0,m.nG)(e5))},[e5,e7,tg]),(0,c.useEffect)(()=>{eB&&!b&&eH(!0),b&&(eH(!1),eg.A.setContext("sites",[],async(e,t)=>{let{data:n}=await u.sites({searchTerm:e,page:t});return n.map(e=>(0,es._3)(e))}))},[eB,b,u]),(0,c.useEffect)(()=>{S.search.includes("request_hp_edge=true")?e1(!0):S.search.includes("request_background_functions=true")&&e3(!0)},[S.search]),(0,c.useEffect)(()=>{if((null==eB?void 0:eB.get("id"))&&(null==i?void 0:i.get("slug"))){var e;eg.A.launch({accountSlug:null!==(e=i.get("slug"))&&void 0!==e?e:"",dispatch:e7,setThemePreference:te,themePreference:e9,user:eB})}},[null==eB?void 0:eB.get("id"),null==i?void 0:i.get("slug")]),(0,c.useEffect)(()=>(th(),ek(),function(e){(eE=window._sift=window._sift||[]).push(["_setAccount",z.A.siftBeaconKey]),eE.push(["_setSessionId",e]),eE.push(["_setUserId",""]),eE.push(["_trackPageview"]);let t=document.createElement("script");t.src="https://cdn.sift.com/s.js",document.body.prepend(t)}((0,ec.Hd)("tracking_session_id")),(0,ec.Hd)("team_upgrade_flow")||(0,ec.J2)("team_upgrade_flow",JSON.stringify({})),()=>{tw(),eR()}),[]),(0,c.useEffect)(()=>{if(eC)return eh.Nc.replace(eC)},[eC]),(0,c.useEffect)(()=>{let e=eh.Nc.listen(()=>{ti(!1)}),t=(0,ee.t)("lg",e=>{e&&ti(!1)});return()=>{t(),e()}},[]),(0,c.useEffect)(()=>eh.Nc.block(({pathname:e,search:t,hash:n})=>{let r=e||"";if(r.length>1&&r.endsWith("/")&&(r=r.slice(0,-1)),ea.nl.includes(r)||ea.Hz.some(e=>e(r))){eH(!0);let r=new URL(e,window.location.origin);r.search=t,r.hash=n,console.log("direct navigation to a token managing route. triggering full page nav",r.toString()),window.location.href===r.toString()?window.location.reload():(window.location.href=r.toString(),setTimeout(()=>{window.location.reload()},50))}}),[]),(0,c.useEffect)(()=>{O(eU),(0,ec.J2)("routePath",eU)},[O,eU]),(0,c.useEffect)(()=>{b&&eJ&&e.setPaymentProviderSecureDecisionState(!0)},[b,eJ]),(0,c.useEffect)(()=>{let e=(0,ec._S)("drop-token"),t=(0,ec._S)("dropUploadInterrupted"),n=(0,ec._S)("dropDeployId"),r=(0,ec._S)("dropSiteName");t&&n?(G(r,n),(0,w.Xu)()):b&&e&&r&&e7((0,w.Wk)())},[G,b,e7]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ex.A,{show:(e$||eV)&&!b}),!eV&&!eC&&(0,o.jsx)(q.A,{isAuthViewReady:b,children:(()=>{var t,n;let r=eU===ea.bw.TEAM_OVERVIEW,u=eU===ea.bw.DROP_BASE||eU.startsWith(ea.bw.DROP_DETAIL),f=eU===ea.bw.USER_LABS,m=(0,l.cn)(f?"dark:tw-text-white":"dark:tw-text-gray-light",f?"dark:tw-bg-gray-dark":"dark:tw-bg-transparent",f?"tw-bg-gray-lighter":"tw-bg-transparent",f?"tw-text-black":"tw-text-gray-darker",f?"tw-font-bold":"!tw-font-medium","dark:hover:tw-text-white","focus:tw-text-teal-darkest","hover:tw-bg-teal-lightest","hover:tw-text-teal-darkest","tw-flex","tw-flex-nowrap","tw-items-center","tw-justify-center","tw-w-full","lg:tw-w-auto","lg:tw-px-3"),w=(0,l.cn)("tw-mt-[calc(calc(50vh)-40px)]","tw--ml-3","tw-relative"),y=eB?(0,o.jsxs)(o.Fragment,{children:[td&&(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsxs)(l.$n,{level:"tertiary",to:ea.bw.USER_LABS,onClick:()=>{_.m39.appPrimaryNavLabsClicked({currentPage:eU,accountId:(null==i?void 0:i.get("id"))||"",accountType:(null==i?void 0:i.get("type_name"))||""})},className:m,children:[(0,o.jsx)(l.ks,{className:(0,l.cn)("tw-shrink-0","tw-mr-3",f&&"tw-hidden"),focusable:"false",name:"nav-labs"}),(0,o.jsx)(l.ks,{className:(0,l.cn)("tw-shrink-0","tw-mr-3",!f&&"tw-hidden"),focusable:"false",name:"nav-labs-active"}),(0,o.jsx)("span",{className:"layout-toggleable-bold-text","data-text-content":"Labs",children:"Labs"})]})}),(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(ey.A,{items:e.notifications,lastReadAt:e.lastNotificationReadAt,onRead:e.onReadNotifications,onClick:e.onClickNotification,align:to?"left":"right"})}),(0,o.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,o.jsx)(l.H9,{userEmail:eB.get("email"),align:"right",onClickUpgrade:()=>{_.m39.appSupportMenuUpgradeSupportButtonClicked({support_level:Number((null==i?void 0:i.get("support_level"))||0)})},onClickUpgradeForHighSupportPriority:()=>eQ(!0),accountSlug:null==i?void 0:i.get("slug"),accountSupportLevel:i&&Number(null==i?void 0:i.get("support_level")),accountSupportPriority:null==i?void 0:i.get("support_priority")})}),eY&&(0,o.jsx)(U.A,{supportLevel:e6,show:eY,onHide:()=>eQ(!1),user:eB,account:i,accounts:a})]}):(0,o.jsx)(R.p,{});b&&!0!==g&&tv&&setTimeout(()=>Promise.resolve(eX(!0)));let x=ea.LZ.includes(eU)?eF(d):d,A=null!==(t=Object.keys(ea.bw).find(e=>ea.bw[e]===eU))&&void 0!==t?t:"",z=null!==(n=ea.go[A])&&void 0!==n?n:{},G=(0,c.isValidElement)(x)?(0,c.cloneElement)(x,{...z}):null;return(0,o.jsxs)(s.Ht,{client:ev.A,children:[(0,o.jsx)(B,{}),(0,o.jsx)(J.A,{account:i,user:eB}),(0,o.jsx)(W.A,{}),(0,o.jsx)(Z.A,{account:i,user:eB}),(0,o.jsx)(K.A,{channel:"UserChannel",listener:ed.aF}),tc?(0,o.jsx)(Y.A,{account:i,user:eB}):null,(0,o.jsxs)("div",{"data-no-secondary-nav":p||v?"true":void 0,className:(0,l.cn)("app tw-relative tw-h-full tw-w-full",{"page-drop__wrapper":u}),children:[(0,o.jsx)(D.A,{}),!p&&(0,o.jsx)(j.A,{user:eB,isDrop:u,isMobileNavOpen:!v&&to,hideAppSwitcher:h,notifications:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.A,{account:i,accounts:a}),(0,o.jsx)(F.A,{account:i,organization:ej,user:eB})]}),mobileMenu:!eB||v?null:(0,o.jsx)(I.W,{ref:tl,isSecondaryNavOpen:to,onClick:()=>ti(e=>!e),onKeyDown:ts}),appSwitcher:(0,o.jsx)(ew.A,{organization:e.organization,organizations:e.organizations,account:i,accounts:e.accounts,site:eM,sites:ez,isDrop:u,user:eB}),actions:y,logo:(0,o.jsx)(ew.L,{isDrop:u,isPublic:(0,ef.$q)(eM),account:i}),commandPalette:eB&&(0,o.jsx)(k.A,{onClick:()=>{_.m39.appPrimaryNavCommandPaletteClicked({currentPage:eU,variant:"fauxinputty"}),eg.A.open()}}),userDropdown:(0,o.jsx)(l.XC,{user:null==eB?void 0:eB.toJS(),onLogout:e.onLogout,className:"tw-h-9 tw-w-9",userPath:ea.bw.USER_SETTINGS,links:e_(eB)})}),(0,o.jsxs)("div",{className:(0,l.cn)("tw-relative tw-flex tw-min-h-full"),children:[!p&&!v&&(0,o.jsx)("div",{className:(0,l.cn)('tw-min-w-0 [[data-page="not-found"]_&]:tw-hidden',{"lg:tw-w-[360px] lg:tw-min-w-[282px]":!tt,"lg:tw--mt-[var(--headerHeight)]":!to,"tw-w-full":to}),children:(0,o.jsxs)("div",{className:(0,l.cn)("tw-sticky tw-inset-x-0 tw-top-0 lg:tw-min-h-screen",{"tw-hidden tw-pt-[var(--headerHeight)] lg:tw-flex":!to,"tw-min-h-full":to}),children:[(0,o.jsx)("div",{className:(0,l.cn)("secondary-nav-container","tw-sticky","tw-top-0","tw-bottom-0",to&&"tw-w-full","tw-border-gray-light","dark:tw-border-gray-dark","lg:tw-border-r",to?"tw-h-full":"lg:tw-h-[calc(100vh-var(--headerHeight))] lg:tw-overflow-y-auto",tt&&!to&&" tw-w-[58px]",!tt&&!to&&"tw-w-[360px]"),children:(0,o.jsxs)("div",{className:(0,l.cn)("tw-columns","tw-flex","tw-h-full","tw-w-full","tw-flex-col","tw-break-words","tw-p-4 lg:tw-p-2","!tw-pb-0",!to&&"tw-overflow-x-hidden"),children:[(0,o.jsx)(I._,{collapsedView:tt,ref:ta,className:"tw-pb-2",actions:y,navigation:tf,site:eM,location:S,backTo:e.backTo,routePath:eU,account:i,onKeyDown:to?ts:void 0}),(0,T.N)(i)&&!to&&!tt&&(0,o.jsx)("div",{className:(0,l.cn)("tw-sticky tw-bottom-0 tw--mx-4 tw-mt-auto tw-hidden tw-whitespace-nowrap tw-bg-bgApp tw-p-4 tw-transition tw-duration-200 lg:tw--mx-2 lg:tw-block",tt&&"tw-opacity-0"),children:(0,o.jsx)(M.R,{account:i})})]})}),!to&&(0,o.jsx)("div",{className:w,children:(0,o.jsx)(eS.A,{onToggle:tn,isCollapsed:tt})})]})}),(0,o.jsx)("div",{className:(0,l.cn)("tw-w-full",{"tw-hidden":to}),children:(0,o.jsxs)("div",{className:"tw-relative tw-mx-auto tw-grid tw-min-h-full tw-grid-cols-1",children:[(0,o.jsxs)("main",{id:"main",className:(0,l.cn)("app-main",{"before:tw-bg-gray-lighter dark:before:tw-bg-gray-darkest before:tw-h-[660px] md:before:tw-h-[560px] lg:before:tw-h-[460px]":eT&&r}),tabIndex:-1,children:[(0,o.jsx)(eb.A,{}),(0,o.jsx)(P.A,{account:i}),eq?(0,o.jsx)(el.A,{error:eq}):G]}),!p&&(0,o.jsx)(L.A,{})]})})]})]}),(0,o.jsx)(H,{history:e.history,account:i}),i&&a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.A,{show:e0,currentAccount:i,hideTaskModal:()=>{e1(!1),eO.replace(null==S?void 0:S.pathname)}}),(0,o.jsx)(E.A,{show:e4,account:i,accounts:a,onHide:()=>e3(!1)})]})]})})()})]})}))},34901:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(36870),o=n(44110),i=n(86326),l=n(44515),a=n(53372),s=n(24204),u=n(15630),c=n(24543),d=n(60510),g=n(56832),p=n(61371),f=n(27578),v=n(7687);function m(e){return{log:"new"===e.get("state")?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function h(e){return e&&"pending_review"===e.get("state")}function w(e){return e&&"error"===e.get("state")}function b(e){let t=(0,d.ob)(e),n=e.log||e.msg||"",r=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(n.match(r)){let[,,e]=n.match(r);return`${t} (https://ntl.fyi/exit-code-${e})`}return t}let y=(0,l.Ng)(function(e,{deploy:t,site:n,overview:r}){return{deploy:r?(0,s.D7)(e,n):t,fetchLog:(...t)=>(0,a.x4)(e).deployLog(...t)}})(function(e){let{deploy:t,children:n,overview:l,onLoadDeployPluginRuns:a}=e,[y,x]=(0,i.useState)((0,c.Kh)(null==t?void 0:t.get("state"))),[S,A]=(0,i.useState)(null),_=(0,i.useRef)(!1),E=(0,i.useRef)(null),N=(0,i.useRef)(null),L=(0,i.useRef)(null),j=(0,i.useRef)(null),k=null==t?void 0:t.get("id"),R=!!t&&h(t),I=!!t&&w(t),D=(0,f.wA)();(0,i.useEffect)(()=>{(t&&"ready"===t.get("state")||w(t))&&x(!0)},[t]),(0,i.useEffect)(()=>{if(k&&!l)return F(t),()=>{_.current=!0,C()}},[k,R,l]);let P=e=>{if(!e)return;if(e&&e.get("skipped"))return U({log:"Deploy skipped",ts:e.get("created_at")});if(e&&"rejected"===e.get("state"))return U({log:"Deploy request was rejected",ts:e.get("updated_at")});if(h(e))return U({log:"Deploy request is pending review",ts:e.get("created_at")});e&&e.get("skipped_log")&&U({log:"[WARNING] We are experiencing internal issues storing deploy logs. Some log lines may be missing.",ts:e.get("created_at")},!1);let t={type:"socketeer",siteId:e.get("site_id"),deployId:e.get("id"),resource:p.A.BUILD};if(E.current=(0,g.y)(t),!E.current)return U(m(e));E.current.listen(T,M),N.current=setInterval(z,1e3)},C=()=>{N.current&&clearInterval(N.current),E.current&&E.current.close()},F=e=>{C(),P(e)},U=(e,t=!0)=>{!_.current&&(L.current=(L.current||(0,o.List)()).push(e),t&&z())},T=(e=m(t))=>{let n=e.log,r=e.ts||e.time;if(e.section){let t=(0,v.vB)(n);U({...e,...t&&{status:t}},!1)}else U(e,!1);if(/onSuccess complete/.test(n)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(n))null==a||a(null==t?void 0:t.get("id"));else if(/^buildbot version: /.test(n))j.current=r;else if(/^Execution timed out after/.test(n)){let e=j.current;e&&r&&D((0,s.ye)(t,e,r))}else if(/Starting post processing/.test(n)){let e=j.current;e&&r&&D((0,s.ye)(t,e,r))}},M=e=>{U({log:"[ERROR] Deploy logs are currently unavailable. We are working on resolving the issue.",ts:new Date}),C()},z=()=>{_.current||A(L.current)};return n?(0,i.cloneElement)(n,{...e,log:S}):(0,r.jsx)(u.A,{...e,log:S,streaming:!y,formatLogEntry:I?b:d.ob,deployIsDone:y})})},8409:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(36870),o=n(44515),i=n(65900),l=n(2906);let a=(0,o.Ng)(function(e,t){return{dragging:e.dragging&&e.dragging.get("active"),uploading:!!e.uploadState}})(({dragging:e,uploading:t,intro:n,image:o,site:a,accountSlug:s,dispatch:u,trackEvent:c,scrollIntoView:d=!0,createdVia:g=""})=>(0,r.jsx)(l.A,{scrollIntoView:d,onUpload:e=>(c&&c(),(a?()=>Promise.resolve(a):()=>u((0,i.kT)(s,g)))().then(t=>u((0,i.LN)(t,e)))),dragging:e,uploading:t,image:o,intro:n}))},29005:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(36870),o=n(44110),i=n(86326),l=n(44515),a=n(53372),s=n(24204),u=n(97767),c=n(15630),d=n(7687),g=n(60510),p=n(56832),f=n(61371),v=n(27578);function m(e){return{log:"new"===e.get("state")?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function h(e){return e&&"error"===e.get("state")}function w(e){let t=(0,g.ob)(e),n=e.log||e.msg||"",r=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(n.match(r)){let[,,e]=n.match(r);return`${t} (https://ntl.fyi/exit-code-${e})`}return t}let b=(0,l.Ng)(function(e,{devServer:t,site:n,overview:r}){return{devServer:r?(0,u.bw)(e,n):t,fetchLog:(...t)=>(0,a.x4)(e).deployLog(...t)}})(function(e){let{devServer:t,children:n,overview:l,onLoadDeployPluginRuns:a}=e,[u,b]=(0,i.useState)(!0),[y,x]=(0,i.useState)(null),S=(0,i.useRef)(!1),A=(0,i.useRef)(null),_=(0,i.useRef)(null),E=(0,i.useRef)(null),N=(0,i.useRef)(null),L=null==t?void 0:t.get("id"),j=!!t&&h(t),k=(0,v.wA)();(0,i.useEffect)(()=>{b(!t||t&&"done"===t.get("state")||h(t))},[t]),(0,i.useEffect)(()=>{if(L&&!l)return D(t),()=>{S.current=!0,I()}},[L,l]);let R=e=>{if(!e)return;let t={type:"socketeer",siteId:e.get("site_id"),devServerId:e.get("id"),resource:f.A.DEV_SERVER};if(A.current=(0,p.y)(t),!A.current)return P(m(e));A.current.listen(C,F),_.current=setInterval(U,1e3)},I=()=>{_.current&&clearInterval(_.current),A.current&&A.current.close()},D=e=>{I(),R(e)},P=(e,t=!0)=>{!S.current&&(E.current=(E.current||(0,o.List)()).push(e),t&&U())},C=(e=m(t))=>{let n=e.log,r=e.ts||e.time;if(e.section){let t=(0,d.vB)(n);P({...e,...t&&{status:t}},!1)}else P(e,!1);if(/onSuccess complete/.test(n)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(n))null==a||a(null==t?void 0:t.get("id"));else if(/^buildbot version: /.test(n))N.current=r;else if(/^Execution timed out after/.test(n)){let e=N.current;e&&r&&k((0,s.ye)(t,e,r))}else if(/Starting post processing/.test(n)){let e=N.current;e&&r&&k((0,s.ye)(t,e,r))}},F=e=>{P({log:"[ERROR] Dev server logs are currently unavailable. We are working on resolving the issue.",ts:new Date}),I()},U=()=>{S.current||x(E.current)};return n?(0,i.cloneElement)(n,{...e,log:y}):(0,r.jsx)(c.A,{...e,log:y,title:"Dev server log",streaming:!u,formatLogEntry:j?w:g.ob,deployIsDone:u})})},77667:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(36870),o=n(86326),i=n(32825),l=n(53189);let a=e=>{let{site:t}=e,{setIsLoadingApp:n}=(0,l.ZT)();return(0,o.useEffect)(()=>{n(!1)},[n]),(0,r.jsx)(i.A,{...e,usesEdgeFunctions:t.get("use_edge_functions")})}},8638:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(36870),o=n(86326),i=n(44515),l=n(18074),a=n(11494);let s=(0,i.Ng)((e,{site:t})=>({services:(0,l.Zo)(e,t)}),e=>({onLoad:({site:t})=>e((0,l.rZ)(t))}))(e=>((0,o.useEffect)(()=>{e.onLoad(e)},[]),(0,r.jsx)(a.A,{...e})))},56195:(e,t,n)=>{n.d(t,{A:()=>L});var r=n(36870),o=n(49207),i=n(44110),l=n(51444),a=n.n(l),s=n(86326),u=n(25669),c=n(59989),d=n(76690),g=n(28821),p=n(94746),f=n(18879),v=n(60510),m=n(56832),h=n(61371),w=n(94958),b=n(27578),y=n(12707);function x(e){let t=null==e?void 0:e.get("level");return"WARN"!==t&&"ERROR"!==t?"":(0,o.cn)("WARN"===t?"tw-border-gold-darker tw-bg-gold-darkest":"tw-border-red-darker tw-bg-red-darkest","tw-border-y")}let S=(0,o.cn)("md:tw-mt-0","tw-ml-0","tw-mt-0","tw-mb-4","tw-w-full","xl:tw-mb-0","xl:tw-basis-2","xl:tw-grow","xl:tw-mr-0"),A=e=>e.get("from")&&e.get("to")?(0,p._i)(e):g.A.getInitialDateRange(),_=e=>{let[t,n]=(0,s.useState)((0,i.List)()),r=(0,s.useRef)((0,i.List)()),o=(0,s.useRef)(null),{dateTimeRange:l,streaming:u}=e,c=(0,s.useCallback)(a()(()=>{n(r.current)},200,{leading:!0}),[]);return(0,s.useEffect)(()=>{var t;let a=()=>{o.current&&(o.current.close(),o.current=null)};if((null===(t=r.current)||void 0===t?void 0:t.size)&&(r.current=(0,i.List)(),n(r.current)),!u){a();return}return(()=>{var t,n;if(o.current)return;let{site:a,func:s,user:u,log_type:d}=e,g=a.get("id"),f=s.get("n"),v=(0,p.Ln)(s).replace(/\./g,"-"),w=`/functions/${g}/${v}/${f}/log`;o.current=(0,m.y)({type:d||"socketeer",resource:h.A.FUNCTION,functionId:s.get("oid")||s.get("id"),siteId:g,apiToken:u.get("access_token"),awsAccountId:s.get("a"),path:w,fromDatetime:null===(t=l.from)||void 0===t?void 0:t.toISOString(),toDatetime:null===(n=l.to)||void 0===n?void 0:n.toISOString()}),o.current.listen(e=>{e&&(r.current=(0,i.fromJS)([...r.current,e]),c())},e=>{r.current=(0,i.fromJS)([...r.current,{ts:new Date,log:"[ERROR] Function logs are currently unavailable. We are working on resolving the issue."}]),c()})})(),()=>{a()}},[u,l.to,l.from]),{logs:t,streaming:e.streaming,source:"stream"}},E=({site:e,scope:t,filtersValue:n,func:r,dateTimeRange:o,streaming:l,initialBranch:a,...d})=>{var g,f;let v=null==e?void 0:e.get("id"),m=null==r?void 0:r.get("n"),h=(0,b.wA)(),w=null===(g=o.from)||void 0===g?void 0:g.getTime(),y=null===(f=o.to)||void 0===f?void 0:f.getTime(),x=(0,b.d4)(n=>{let r=(0,c.nv)(n,e,t);return""!==a?a:null==r?void 0:r.get("branch")}),S=(0,p.Sk)(t),A="deploy"===S.type?S.value:void 0,_=(0,b.d4)(e=>(0,u.iw)(e,v,m,{branch:x,q:n.term,from:w,to:y,deployId:A})||null),E=(0,b.d4)(e=>(0,u.cW)(e,v,m,{branch:x,q:n.term,from:w,to:y,deployId:A})||(0,i.List)()),N=(0,b.d4)(e=>(0,u.ix)(e,v,m,{branch:x,q:n.term,from:w,to:y,deployId:A})),L=(0,s.useRef)(new Set),j=!!(null==E?void 0:E.size)&&!_,k=async()=>{let e=`${_||"initial"}-${n.term}-${w}-${y}-${x}`;L.current.has(e)||(L.current.add(e),await h((0,u.KB)(v,m,{from:new Date(w).getTime(),to:new Date(y).getTime(),q:n.term,next_cursor:_,branch:x,deployId:A})))};return(0,s.useEffect)(()=>{l||k()},[l,n.term,w,y]),{logs:E,lastPage:j,fetchMoreLogs:k,streaming:!1,fetching:N,source:"page"}},N=e=>{let t=_(e),n=E(e);return e.streaming?t:n},L=e=>{let t=w.Nc.location,n=(0,s.useMemo)(()=>new URLSearchParams(t.search),[t.search]),[o,i]=(0,s.useState)({term:""}),[l,a]=(0,s.useState)(A(n)),[u,c]=(0,s.useState)((0,p.A3)(n)),[m,h]=(0,s.useState)(!0),b=e.account.get("id")||"",{fetching:_,streaming:E,logs:L,lastPage:j,fetchMoreLogs:k,source:R}=N({...e,streaming:m,dateTimeRange:l,filtersValue:o,initialBranch:u}),I=(0,s.useMemo)(()=>v.IO,[]),D=(0,s.useMemo)(()=>v.Sw,[]);(0,s.useEffect)(()=>{if(n.get("from")&&n.get("to")){let e=(0,p._i)(n);h(!1),a(e)}n.get("branch")&&c((0,p.A3)(n))},[n]),(0,s.useEffect)(()=>{i(e=>({...e,dateTimeRange:l,initialBranch:u}))},[l,u]);let P="stream"===R||"page"===R&&_?"Waiting for logs":"No results found for query",C="lambda";return(0,r.jsx)(f.A,{datepicker:(0,r.jsx)(g.A,{account:e.account,isUnsupportedBackgroundFunction:(0,p.pw)(e.func),onChange:({range:e,label:t})=>{h(t===g.I),a(e)},functionsType:C}),log:L.isEmpty()?null:L,fetching:_,streaming:E,fixedHeight:!0,noWrap:!0,emptyLogMessage:P,title:"Function log",formatLogEntry:I,getLogLineClasses:x,scrollPause:!0,filters:o,lastPage:j,filterFn:"stream"===R?(e,t)=>{let n=(null==e?void 0:e.get("type"))==="report"&&(null==e?void 0:e.get("level"))==="INFO"?e.set("level",""):e;return["log","requestId","level"].map(e=>null==n?void 0:n.get(e)).filter(Boolean).join(" ").toLowerCase().includes(t.term.toLowerCase())}:null,loadMoreLogs:k,search:(0,r.jsx)("div",{className:S,children:(0,r.jsx)(y.A,{placeholder:"Filter by request ID, message, log level",value:o.term,onSearch:e=>{i(t=>({...t,term:e}))},onFocus:()=>d.m39.appFunctionLogsTextFilterFocused({accountId:b,functionsType:C})})}),source:R,formatForClipboard:D,onCopyToClipboard:()=>d.m39.appFunctionLogsCopyClicked({accountId:b,functionsType:C}),onPlayPause:()=>d.m39.appFunctionLogsPauseClicked({accountId:b,functionsType:C}),onScrollToBottom:()=>d.m39.appFunctionLogsScrollBottomClicked({accountId:b,functionsType:C}),onScrollToTop:()=>d.m39.appFunctionLogsScrollTopClicked({accountId:b,functionsType:C})})}},949:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(36870),o=n(86326),i=n(44515),l=n(17250),a=n(78028),s=n(59868),u=n(53181),c=n(65900),d=n(43917),g=n(47534),p=n(29031),f=n(4140),v=n(94958);let m={[f.zG.github_enterprise]:!0,[f.zG.gitlab_self_hosted]:!0,[f.zG.bitbucket_self_hosted]:!0},h=(0,i.Ng)(function(e,t){let n=(0,p.M)(t),{organization:r,name:o}=n,{repoFromURL:i}=t,d=n.repo||t.repo,g=r||"",f=g?`${g}/${d}`:d,v=(0,a.o7)(e),m=(0,c.Gd)(e,o),h=m?void 0:(0,l.N8)(e),w=h?(0,l.PR)(e):void 0,b=decodeURIComponent(f),y=(0,s.pV)(e),x=(0,s.ZD)(e),S=(0,s.DI)(e);return{repo:(null==i?void 0:i.mergeDeep((0,u.bD)(e,b)))||(0,u.bD)(e,b),provider:(0,a.oL)(e),gitUser:(0,a.a)(e),site:m,accounts:h,account:w,availablePlugins:y,availablePluginsError:x,availablePluginsFetching:S,user:e.user,gitAccessToken:v}},function(e,t){let{site:n,provider:r,onError:o,onSubmit:i}=t;return{onLoadPlugins:()=>e((0,s.ND)()),onPrepareRepo:(t,n)=>{var r;return null===(r=e((0,u.Uy)(t)))||void 0===r?void 0:r.then(()=>{e((0,u.W0)(t,n))})},loadMoreBranches:(t,n)=>e((0,u.wh)(t,n)),onApplyHeuristics:(t,n,o)=>{t&&e((0,u.oY)(t,n,{...o,provider:r}))},onAnalyzeRepoAppAccessForVisualEditing:({repoName:t,repoUrl:n,branch:r,runnableDir:o})=>e((0,u.aU)({repoName:t,repoUrl:n,branch:r,runnableDir:o})),onAnalyzeRepoContentForVisualEditing:({repoName:t,repoUrl:n,branch:r,runnableDir:o,gitAccessToken:i})=>e((0,u.V4)({repoName:t,repoUrl:n,branch:r,runnableDir:o,gitAccessToken:i})),onSubmit:(t,r)=>i?i(t,r):e((0,c.pL)(n,r,t.toJS(),"onboarding")).then(({site:e,deploy:t})=>v.Nc.push(`/sites/${e.name}/deploys/${null==t?void 0:t.id}`)).catch(e=>o(e))}})(({repo:e,onPrepareRepo:t,onMissingData:n,onError:i,loadMoreBranches:l,site:a,account:s,accounts:u,onSubmit:c,onApplyHeuristics:p,provider:v,outset:h,nameKey:w,template:b,trackChangeClick:y,availablePlugins:x,availablePluginsError:S,availablePluginsFetching:A,form:_=d.A,onLoadPlugins:E,skipPrepare:N=!1,gitUser:L,user:j,route:k,onAnalyzeRepoContentForVisualEditing:R,onAnalyzeRepoAppAccessForVisualEditing:I,gitAccessToken:D})=>{let P=(0,g.D)(),C=null==e?void 0:e.getIn(["branchPagination","next"]),F=null==e?void 0:e.get("error"),U=null==e?void 0:e.get("id");return(0,o.useEffect)(()=>{A||S||(null==x?void 0:x.size)||E()},[x,S,A]),(0,o.useEffect)(()=>{if(!e){n("repo");return}N||t(e,P)},[U]),(0,o.useEffect)(()=>{F&&(i(F),n("repo"))},[F]),(0,o.useEffect)(()=>{v!==f.zG.bitbucket&&C&&l(e,C)},[v,C]),e?(0,r.jsx)(_,{site:a,account:s,accounts:u,repo:e,onSubmit:c,outset:h,onApplyHeuristics:p,accountSpecificGitProvider:m[v],provider:v,nameKey:w,template:b,trackChangeClick:y,availablePlugins:x,availablePluginsError:S,gitUser:L,user:j,route:k,onAnalyzeRepoAppAccessForVisualEditing:e=>I({...e,...!v.includes("github")&&{gitAccessToken:D}}),onAnalyzeRepoContentForVisualEditing:e=>R({...e,gitAccessToken:D})}):null})},82060:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(36870),o=n(44515),i=n(17250),l=n(78028),a=n(76690),s=n(68061),u=n(4140);let c=(0,o.Ng)(function(e){return{account:e.account||(0,i.PR)(e),user:e.user}},function(e){return{onAuthenticate:t=>e((0,l.QF)(t))}})(e=>{let{entryPoint:t,user:n,account:o}=e,i={userId:(null==n?void 0:n.get("id"))||"",entryPoint:t||"from direct visit",accountId:(null==o?void 0:o.get("id"))||""};return(0,r.jsx)(s.A,{...e,trackSelectProvider:e=>{switch(e){case u.zG.github:a.m39.appSignupSetupProviderGithubSelected(i);break;case u.zG.gitlab:a.m39.appSignupSetupProviderGitlabSelected(i);break;case u.zG.github_enterprise:a.m39.appSignupSetupProviderGithubEnterpriseSelected(i);break;case"gitlab_enterprise":a.m39.appSignupSetupProviderGitlabEnterpriseSelected(i);break;case u.zG.bitbucket:a.m39.appSignupSetupProviderBitbucketSelected(i);break;case u.zG.azure_devops:a.m39.appSignupSetupProviderAzureDevopsSelected(i)}}})})},96850:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(36870),o=n(86326),i=n(44515),l=n(17250),a=n(78028),s=n(5698),u=n(53181),c=n(31024),d=n(29031),g=n(4140),p=n(94958);let f=(0,i.Ng)(function(e,t){var n,r;let{organization:o}=(0,d.M)(t),i=(0,d.Z)(null==t?void 0:null===(n=t.location)||void 0===n?void 0:n.search),c=e.account||(0,l.PR)(e),p=(0,a.a)(e),f=(0,s.I3)(e,o),v=(0,s.X1)(e),m=(0,a.oL)(e),h=g.Sc.get(m),w=null==h?void 0:h.get("hideGitUserFromRepoList"),b=o||w&&(null==v?void 0:null===(r=v.first())||void 0===r?void 0:r.get("api_id")),y=f||p&&p.get("login")===o&&p,x=y&&y.get("installation_id");return{account:c,page:Number(null==i?void 0:i.page)||1,provider:(0,a.oL)(e),installationId:x,gitUser:p,organization:b,organizations:v,hideGitUser:w,searchTerm:(0,a.v0)(e),repos:(0,u.i9)(e,b),pagination:(0,u.Dz)(e,b)}},function(e){return{loadRepos:t=>e((0,u.S5)(t)),loadGitUser:()=>e((0,a.wj)()),loadGitOrganizations:()=>e((0,s.N6)()),setSearchTerm:t=>e((0,a.NM)(t))}})(function(e){let{provider:t,organization:n,page:i,per_page:l,installationId:a,onError:s,onMissingData:u,loadRepos:d,loadGitUser:g,loadGitOrganizations:f,path:v,setSearchTerm:m,hideGitUser:h}=e;(0,o.useEffect)(()=>{t?w():u("provider")},[]),(0,o.useEffect)(()=>{t&&(!h||n)&&d({organization:n,page:i,per_page:l,installationId:a}).catch(e=>{s(e,{restart:401===e.code})})},[t,i,n,d]);let w=()=>{Promise.resolve(g()).then(()=>{h||d({organization:n,page:i,per_page:l,installationId:a}),f()})};return t?(0,r.jsx)(c.A,{...e,onSearch:()=>d({organization:n,page:i,per_page:l,installationId:a,page:1}).catch(e=>{s(e,{restart:401===e.code})}),onTerm:e=>m(e),onAppInstall:({login:e})=>{f(),e&&e!==n?p.Nc.push(`${v}/${e}/repos`):d({organization:n,page:i,per_page:l,installationId:a})}}):null})},83315:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(36870),o=n(44110),i=n(86326),l=n(44515),a=n(17250),s=n(78028),u=n(59868),c=n(53181),d=n(65900),g=n(43917),p=n(47534),f=n(29031),v=n(4140),m=n(94958);let h={[v.zG.github_enterprise]:!0,[v.zG.gitlab_self_hosted]:!0},w=(0,l.Ng)(function(e,t){let{repo:n,name:r}=(0,f.M)(t),i=(0,d.Gd)(e,r),l=i&&(0,a.N8)(e).find(e=>(null==e?void 0:e.get("slug"))===i.get("account_slug")),g=l?(0,o.List)([l]):(0,a.N8)(e),p=g&&(0,a.PR)(e),v=l||p,m=decodeURIComponent(n),h=(0,u.pV)(e),w=(0,u.ZD)(e),b=(0,u.DI)(e),y=(0,s.a)(e),x=(0,s.o7)(e);return{repo:(0,c.bD)(e,m),provider:(0,s.oL)(e),site:i,accounts:g,account:v,availablePlugins:h,availablePluginsError:w,availablePluginsFetching:b,gitUser:y,gitAccessToken:x}},function(e,t){let{site:n,provider:r,onError:o}=t;return{onLoadPlugins:()=>e((0,u.ND)()),onPrepareRepo:(t,n)=>{var r;return null===(r=e((0,c.Uy)(t)))||void 0===r?void 0:r.then(()=>{e((0,c.W0)(t,n))})},loadMoreBranches:(t,n)=>e((0,c.wh)(t,n)),onApplyHeuristics:(t,n,o)=>{t&&e((0,c.oY)(t,n,{...o,provider:r}))},onAnalyzeRepoAppAccessForVisualEditing:({repoName:t,repoUrl:n,branch:r,runnableDir:o,gitAccessToken:i})=>e((0,c.aU)({repoName:t,repoUrl:n,branch:r,runnableDir:o,gitAccessToken:i})),onAnalyzeRepoContentForVisualEditing:({repoName:t,repoUrl:n,branch:r,runnableDir:o,gitAccessToken:i})=>e((0,c.V4)({repoName:t,repoUrl:n,branch:r,runnableDir:o,gitAccessToken:i})),onSubmit:(t,r)=>e((0,d.pL)(n,r,t.toJS(),"")).then(({site:e})=>m.Nc.push(`/sites/${e.name}`)).catch(e=>o(e,{restart:401===e.code}))}})(({entryPoint:e,repo:t,onPrepareRepo:n,onMissingData:o,onError:l,loadMoreBranches:a,site:s,account:u,accounts:c,onSubmit:d,onApplyHeuristics:f,provider:m,outset:w,availablePlugins:b,availablePluginsError:y,availablePluginsFetching:x,onLoadPlugins:S,user:A,gitUser:_,route:E,isOnStartPage:N,setFormData:L,onAnalyzeRepoContentForVisualEditing:j,onAnalyzeRepoAppAccessForVisualEditing:k,gitAccessToken:R})=>{let I=(0,p.D)(),D=null==t?void 0:t.getIn(["branchPagination","next"]),P=null==t?void 0:t.get("error");return(0,i.useEffect)(()=>{x||y||(null==b?void 0:b.size)||S()},[b,y,x]),(0,i.useEffect)(()=>{t?n(t,I):o("repo")},[]),(0,i.useEffect)(()=>{P&&(l(P),o("repo"))},[P]),(0,i.useEffect)(()=>{m!==v.zG.bitbucket&&D&&a(t,D)},[m,D]),t?(0,r.jsx)(g.A,{entryPoint:e,user:A,gitUser:_,site:s,account:u,accounts:c,repo:t,onSubmit:d,outset:w,onApplyHeuristics:f,accountSpecificGitProvider:h[m],availablePlugins:b,availablePluginsError:y,route:E,isOnStartPage:N,setFormData:L,provider:m,onAnalyzeRepoAppAccessForVisualEditing:e=>k({...e,...!m.includes("github")&&{gitAccessToken:R}}),onAnalyzeRepoContentForVisualEditing:e=>j({...e,gitAccessToken:R})}):null})},31702:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(36870),o=n(86326),i=n(44515),l=n(70120);let a=(0,i.Ng)(function(e,{site:t}){return{identity:(0,l.RD)(e,t)}},function(e,{site:t}){return{onLoad:()=>e((0,l.HM)(t)),onCreate:()=>e((0,l.DA)(t)),onUpdate:n=>e((0,l.go)(t,n)),onDelete:()=>e((0,l.Ut)(t))}})(e=>((0,o.useEffect)(()=>{e.onLoad()},[]),(0,r.jsx)(r.Fragment,{children:o.Children.map(e.children,t=>(0,o.cloneElement)(t,{...e}))})))},59123:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(36870),o=n(44110),i=n(44515),l=n(88704);let a=(0,i.Ng)(function(e){let t=e.user;return{user:t,progress:t&&t.get("onboarding_progress")||(0,o.Map)()}},function(e){return{onProgress:(t,n)=>e((0,l.JX)(t,n))}})(({component:e,children:t,...n})=>{let o=e||t;return o?(0,r.jsx)(o,{...n}):null})},60595:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(36870),o=n(86326),i=n(44515),l=n(19594),a=n(53372),s=n(76187),u=n(82364);let c=(0,i.Ng)(function(e,{account:t}){let n=(0,a.x4)(e);return{receipts:(0,l.Kw)(e,t),api:{receiptPdf:e=>n.accountReceiptPdf(t.get("slug"),e)}}},function(e,{account:t}){return{onLoad:()=>(0,u.JR)(t)&&e((0,l.oj)(t))}})(({title:e,receipts:t,api:n,account:i,organization:l,onLoad:a})=>{let u=null==i?void 0:i.get("id");return(0,o.useEffect)(()=>{a()},[u]),(0,r.jsx)(s.A,{title:e,receipts:t,api:n,account:i,organization:l})})},77516:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(36870),o=n(86326),i=n(44515),l=n(18074),a=n(76711),s=n(53189);let u=(0,i.Ng)(function(e,{site:t}){return{services:(0,l.Zo)(e,t)}},function(e,{site:t}){return{onLoad:()=>e((0,l.rZ)(t)),onCreate:(n,r)=>e((0,l.sR)(t,n,r)),onUpdate:(n,r)=>e((0,l.bU)(t,n,r)),onDelete:n=>e((0,l.hs)(t,n)),onGenerateToken:(t,n)=>e((0,l.HU)(t,n))}})(({onLoad:e,...t})=>{let{setIsLoadingApp:n}=(0,s.ZT)();return(0,o.useEffect)(()=>{e(),n(!1)},[]),(0,r.jsx)(a.A,{...t})})},60928:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(36870),o=n(86326),i=n(44515),l=n(81203),a=n(43808),s=n(53189),u=n(28889);let c=(0,i.Ng)((e,{site:t})=>({members:(0,l.Av)(e,t)}),e=>({onLoad:({site:t})=>e((0,l.MD)(t))}))(({site:e,members:t,onLoad:n,user:i})=>{let{setIsLoadingApp:l}=(0,s.ZT)();(0,o.useEffect)(()=>{l(!1)},[l]),(0,o.useEffect)(()=>{n({site:e})},[]);let c=e.get("account_slug"),d=(0,u.A)(c);return(0,o.useEffect)(()=>{c!==d&&n({site:e})},[c,d]),(0,r.jsx)(a.A,{site:e,members:t,user:i})})},33330:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(36870),o=n(86326),i=n(17250),l=n(65900),a=n(30040),s=n(51660),u=n(17718),c=n(47534),d=n(94958);function g(e){var t,n,r;let o=null===(t=a.QB.find(e=>null==e?void 0:e.default))||void 0===t?void 0:t.value,i={visibility:e.visibility,creator:e.creator,sortBy:null!==(r=e.sortBy)&&void 0!==r?r:o,orderBy:e.orderBy},l={page:e.page,perPage:e.perPage||12,searchTerm:e.searchTerm,searchGlobally:e.searchGlobally,accountSlug:e.accountSlug,labelIds:e.labelIds,labelIdsString:null===(n=e.labelIds)||void 0===n?void 0:n.join(","),hasVisualEditor:e.hasVisualEditor};return e.ops_sort_and_filter_sites_ui?{...l,...i}:l}let p=(0,u.O)(function(e,t){let n=g(t),r=(0,l.n)(e,n);return{sites:r,pagination:(0,l.Nx)(e,n),loaded:!!r,user:e.user,account:(0,i.Mz)(e,n.accountSlug),accounts:(0,i.N8)(e)}},e=>(0,l.Zz)(g(e)),"page","perPage","searchTerm","searchGlobally","visibility","creator","sortBy","accountSlug","orderBy","ops_sort_and_filter_sites_ui","labelIdsString")(s.A),f=e=>{let t=(0,c._)("ops_sort_and_filter_sites_ui"),{getApplicableListParams:n}=(0,a.bB)(e.accountSlug),[i,l]=(0,o.useState)(!0),s=t?null==n?void 0:n():null,u=new URLSearchParams(window.location.search).toString();return((0,o.useEffect)(()=>{if((u||!s)&&l(!1),!u&&s){let e=window.location.pathname,t=`${e}?${s}`;d.Nc.replace(t)}s===u&&l(!1)},[i,u,s]),i)?null:(0,r.jsx)(p,{...e,ops_sort_and_filter_sites_ui:t})}},53358:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(36870),o=n(86326),i=n(44515),l=n(17250);let a=(0,i.Ng)(function(e){return{plans:(0,l.j1)(e)}},function(e){return{onLoad:()=>{e((0,l.Bi)())},onUpdate:(t,n)=>e((0,l.z0)(t,n))}})(e=>{(0,o.useEffect)(()=>{var t;null===(t=e.onLoad)||void 0===t||t.call(e,e)},[]);let t=e.component||e.children;return(0,r.jsx)(t,{...e})})},1078:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(24571),o=n(44110),i=n(67938),l=n.n(i),a=n(86326),s=n(44515),u=n(53372),c=n(24204),d=n(60666);let g=e=>({publish:c.DU,delete:c.XV,lock:c.j$,unlock:c.aN,retry:c.AI,cancel:c.ol})[e],p=(0,s.Ng)(function(e){return{user:e.user,config:e.config,api:(0,u.x4)(e)}})(function(e){let[t,i]=(0,a.useState)(null),s=e=>{i((0,o.Map)(e))},c=async t=>{let{user:r,config:o}=e,i=t.get("id"),a=(0,u.x4)({user:r,config:o});if(!a)return;s({state:"downloading"});let c=new(await n.e(211).then(n.t.bind(n,62672,23))).default,d=l()(8);a.listDeployFiles(i).then(e=>e.data.map(e=>d(()=>a.downloadDeployFile(i,e.path)).then(t=>(function(e,t,n){let r=t.path.replace(/^\//,"").split("/"),o=null;for(;r.length;)o=r.shift(),r.length?e=e.folder(o):e.file(o,n)})(c,e,t)))).then(e=>Promise.all(e)).then(()=>c.generateAsync({type:"blob"})).then(e=>{s({state:"ready",zip:e})}).catch(e=>{s({state:"error",error:e})})},p=(e,t)=>{let n=`deploy-${e.get("id")}.zip`,o=t.get("zip");return(0,r.saveAs)(o,n)},{component:f,...v}=e;return(0,a.createElement)(f||d.A,{...v,download:t,onDeployAction:(t,n,r)=>{let o=g(t);return e.dispatch(o(e.site,n,r))},onDownload:(e,t)=>{t&&t.get("zip")?p(e,t):c(e)}})})},70119:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(86326),o=n(24204),i=n(65900),l=n(17718),a=n(8345);function s({page:e,perPage:t,filter:n,from:r,to:o,status:i}){return{page:e,perPage:t,filter:n,from:r,to:o,state:i}}let u=(0,l.O)(function(e,t){let n=t.site,r=s(t);return{deploys:(0,o.TO)(e,n,r),pagination:(0,o.jm)(e,n,r),pendingDeploys:(0,o.QN)(e,n)}},e=>(0,o.Z6)(e.site,s(e)),"page","perPage","filter","from","to","status")(function(e){let{poll:t,dispatch:n,site:l,page:u,perPage:c,filter:d,from:g,to:p,status:f}=e,{component:v,children:m,...h}=e,w=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(w.current&&clearInterval(w.current),t)return w.current=setInterval(()=>{n((0,o.Z6)(l,s({page:u,perPage:c,filter:d,from:g,to:p,status:f}))),n((0,i.UK)(l.get("name")))},(0,a.B)()),()=>{clearInterval(w.current)}},[u,c,d,t,g,p]),v?(0,r.createElement)(v,h,m):(0,r.cloneElement)(m,h)})},7687:(e,t,n)=>{n.d(t,{qz:()=>l,vB:()=>r});let r=e=>{for(let t of[/Failed during stage/i,/Failing build/i,/Build exited unexpectedly/i,/Build exceeded (maximum allowed runtime|memory limits)/i,/The function "[^"]+" is larger than the \d+\w{2} limit/i,/Unzipped size must be smaller than/i,/Uploaded file must be a non-empty zip/i,/Your environment variables contain reserved keys/i,/Your environment variables exceed the \d+KB limit imposed by AWS Lambda./i,/Deploy did not succeed:/i])if(t.test(e))return"fail"},o=["error","failed","fatal","exception","uncaught","unhandled","abort","crash","killed","interrupt","panic","throw","⚠️"],i=e=>{for(let t of o)if(e.toLowerCase().includes(t))return!0;return!1},l=e=>{let t=[],n=e.count(),r=-1;return e.forEach((o,l)=>{if(o&&(l||0===l)&&i(o.log)){let o=Math.max(r+1,l-10),i=Math.min(n,l+11);for(let n=o;n<i;n++){let r=e.get(n);t.push({log:r.log.slice(0,128),line:n})}r=i-1}}),t}},81419:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(86326),o=n(97767),i=n(65900),l=n(17718),a=n(8345),s=n(29031);function u({page:e,perPage:t,filter:n,from:r,to:o,status:i}){return{page:e,perPage:t,filter:n,from:r,to:o,state:i}}let c=(0,l.O)(function(e,t){let n=(0,s.Z)(t.location.search),{site:r}=t;return{devServers:(0,o.wT)(e,r,n)}},e=>(0,o.U3)(e.site,u(e)),"page","perPage","filter","from","to","status")(function(e){let{poll:t,dispatch:n,site:l,page:s,perPage:c,filter:d,from:g,to:p,status:f}=e,{component:v,children:m,...h}=e,w=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(w.current&&clearInterval(w.current),t)return w.current=setInterval(()=>{n((0,o.U3)(l,u({page:s,perPage:c,filter:d,from:g,to:p,status:f}))),n((0,i.UK)(l.get("name")))},(0,a.B)()),()=>{clearInterval(w.current)}},[s,c,d,t,g,p]),v?(0,r.createElement)(v,h,m):(0,r.cloneElement)(m,h)})},22270:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(86326),o=n(53372),i=n(43963),l=n(5595);function a({page:e=1,perPage:t=20,formId:n,filter:r}){return{page:e,perPage:t,formId:n,filter:r}}let s=(0,n(17718).O)(function(e,t){let n=t.site,r=a(t);return{...r,form:(0,i.LC)(e,r.formId),forms:(0,i.OM)(e,n),submissions:(0,i.yK)(e,n,r),submissionsError:(0,i.mb)(e,n,r),pagination:(0,i.Ko)(e,n,r),api:{formSubmissions:(...t)=>(0,o.x4)(e).formSubmissions(...t)}}},e=>(0,i.Yd)(e.site,a(e)),"page","perPage","formId","filter")(({children:e,component:t=l.A,...n})=>(n.onDelete=(e,t,r)=>n.dispatch((0,i.nv)(e,t,r)),n.onMarkAsSpam=(e,t)=>n.dispatch((0,i.Xx)(e,t,{...a(n),page:1})),n.onMarkAsHam=(e,t)=>n.dispatch((0,i.Sp)(e,t,{...a(n),page:1})),e?(0,r.cloneElement)(e,n):(0,r.createElement)(t,n,e)))},18466:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(86326),o=n(70120),i=n(17718),l=n(29031);function a(e){return(0,l.Z)(e.location.search)}let s=(0,i.O)(function(e,{site:t,...n}){let r=a(n),i=(0,o.fr)(e,t,r);return{...r,provisioned:!!t.get("identity_instance_id"),users:i,pagination:(0,o.XD)(e,t,r)}},({site:e,...t})=>(0,o.Lx)(e,a(t)),"provisioned","page","per_page","sort","filter")(function({component:e,children:t,...n}){return e?(0,r.createElement)(e,n,t):(0,r.cloneElement)(t,n)})},48329:(e,t,n)=>{n.d(t,{Ay:()=>d,MD:()=>u.MD,iJ:()=>u.iJ,wo:()=>u.wo});var r=n(86326),o=n(44515),i=n(43963),l=n(78028),a=n(51704),s=n(18074),u=n(75202),c=n(26242);let d=(0,o.Ng)(function(e,{site:t}){return{hooks:(0,a.db)(e,t),hookTypes:(0,a.vo)(e,t),forms:(0,i.OM)(e,t),provider:(0,l.oL)(e)}},function(e,{site:t,filter:n}){return{onLoad:()=>{e((0,a.LG)(t)),e((0,a.pb)(t)),n===u.MD&&e((0,i.ye)(t))},onDelete:n=>e((0,a.$3)(t,n)),onCreate:n=>e((0,a.ab)(t,n)),onUpdate:(n,r)=>e((0,a.p$)(t,n,r)),onTokenRequest:(t,n)=>e((0,s.HU)(t,n))}})(({onLoad:e,component:t,...n})=>{var o,i;return(0,r.useEffect)(()=>{e()},[null===(o=n.account)||void 0===o?void 0:o.get("id"),null===(i=n.account)||void 0===i?void 0:i.get("type_slug")]),(0,r.createElement)(t||c.A,n)})},2185:(e,t,n)=>{n.d(t,{NG:()=>u,SV:()=>d,Px:()=>f,tB:()=>m});var r=n(36870),o=n(86326),i=n(44515),l=n(60498),a=n(65900),s=n(93700);let u=(0,i.Ng)((e,{site:t})=>({branches:(0,a.lp)(e,t),buildHooks:(0,l.HD)(e,t)}),(e,{site:t})=>({onLoad:()=>{e((0,l.d0)(t)),e((0,a.Xz)(t))},onAdd:n=>e((0,l.LM)(t,n)),onRemove:n=>e((0,l.IF)(t,n))}))(e=>((0,o.useEffect)(()=>{e.onLoad()},[]),(0,r.jsx)(s.A,{...e})));var c=n(99862);let d=(0,i.Ng)((e,{site:t})=>({deployKey:(0,a.C0)(e,t)}),(e,{state:t,site:n})=>({onLoad:()=>{let t=n.get("build_settings").get("deploy_key_id");t&&e((0,a.wl)(t,n))},onAdd:()=>e((0,a.uU)())}))(e=>(0,r.jsx)(c.A,{...e}));var g=n(76798),p=n(91744);let f=(0,i.Ng)((e,{site:t})=>({branches:(0,a.lp)(e,t),devServerHooks:(0,g.v5)(e,t)}),(e,{site:t})=>({onLoad:()=>{e((0,g.Jc)(t)),e((0,a.Xz)(t))},onAdd:n=>e((0,g.Rx)(t,n)),onRemove:n=>e((0,g.gh)(t,n))}))(e=>((0,o.useEffect)(()=>{e.onLoad()},[]),(0,r.jsx)(p.A,{...e})));var v=n(23271);let m=(0,i.Ng)((e,t)=>({}),(e,{site:t})=>({onLoad:()=>{t.get("snippets")||e((0,a.lL)(t))},onAdd:n=>e((0,a.nD)(t,n)),onRemove:n=>e((0,a.Cz)(t,n))}))(e=>((0,o.useEffect)(()=>{e.onLoad(e.site)},[]),e.children?(0,o.cloneElement)(e.children,{...e}):(0,r.jsx)(v.A,{...e})))},8793:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(86326),o=n(44515),i=n(65900),l=n(72412),a=n(91710);let s=(0,o.Ng)((e,{site:t})=>({branches:(0,i.lp)(e,t),splits:(0,l.Rd)(e,t)}),e=>({onLoad:t=>{e((0,l.r)(t)),e((0,i.Xz)(t))},onCreate:(t,n)=>e((0,l.i$)(t,n)),onUpdate:(t,n,r)=>e((0,l.Tg)(t,n,r)),onStart:(t,n)=>e((0,l.En)(t,n)),onStop:(t,n)=>e((0,l.mf)(t,n)),onUpdateSite:(t,n)=>e((0,i.hj)(t,n))}))(({component:e,...t})=>{let{onLoad:n,site:o}=t;return(0,r.useEffect)(()=>{n(o)},[]),(0,r.createElement)(e||a.A,t)})}}]);